<!-- ********** ********** ********** ********* **********
COPY AND PASTE THE FOLLOWING AUTO-GENERATED LINE INTO YOUR CUSTOMIZED HTML PAGE
<iframe src="fac1.html" width="595px" height="842px" frameborder="0" scrolling="no"></iframe>
    ********** ********** ********** ********** ********** -->

<!-- Copyright (c) Simulation Lab Software (www.simlab-soft.com). All rights reserved. -->

<!-- Part of the code is covered by -->

<!--|--------------------------------------------------------------------| 
    | Raphaël 2.1.1 - JavaScript Vector Library                          | 
    |--------------------------------------------------------------------| 
    | Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    | 
    | Copyright © 2008-2012 Sencha Labs (http://sencha.com)              | 
    |--------------------------------------------------------------------| 
    | Licensed under the MIT (http://raphaeljs.com/license.html) license.| 
    |--------------------------------------------------------------------| -->

<!-- * @author Tim Knip / http://www.floorplanner.com/ / tim at floorplanner.com -->

<!-- three.js - http://github.com/mrdoob/three.js -->

<!-- Copyright (c) 2009 The Chromium Authors. All rights reserved. -->

<!-- * @author Eberhard Graether / http://egraether.com/ -->

<!-- zip.js - Copyright (c) 2013 Gildas Lormeau. All rights reserved. -->

<!-- progressbar.js 0.9.0 - https://kimmobrunfeldt.github.io/progressbar.js -->

<!DOCTYPE html>
<html>
<head>
<style> 
#bdy::-webkit-scrollbar{ 
display:none; // chrome scrollBar fix 
}
 #bdy,*{scrollbar-width: none; }
html{position:fixed;-ms-scroll-limit:0px;-ms-overflow-style:none;}
</style> 
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel = "stylesheet" type = "text/css" href ="fac1_files/MessageBoxCss.css">
<script type="text/javascript">
(function(a){var z="File format is not recognized.";var K="CRC failed.";var A="File contains encrypted entry.";var S="File is using Zip64 (4gb+ file size).";var D="Error while reading zip file.";var n="Error while writing zip file.";var k="Error while writing file data.";var T="Error while reading file data.";var g="File already exists.";var C=512*1024;var c="text/plain";var H;try{H=new Blob([new DataView(new ArrayBuffer(0))]).size===0}catch(R){}function M(){this.crc=-1}M.prototype.append=function E(Y){var X=this.crc|0,W=this.table;for(var Z=0,e=Y.length|0;Z<e;Z++){X=(X>>>8)^W[(X^Y[Z])&255]}this.crc=X};M.prototype.get=function P(){return ~this.crc};M.prototype.table=(function(){var X,e,W,Y=[];for(X=0;X<256;X++){W=X;for(e=0;e<8;e++){if(W&1){W=(W>>>1)^3988292384}else{W=W>>>1}}Y[X]=W}return Y})();function j(){}j.prototype.append=function E(e,W){return e};j.prototype.flush=function i(){};function d(e,W,X){if(W<0||X<0||W+X>e.size){throw new RangeError("offset:"+W+", length:"+X+", size:"+e.size)}if(e.slice){return e.slice(W,W+X)}else{if(e.webkitSlice){return e.webkitSlice(W,W+X)}else{if(e.mozSlice){return e.mozSlice(W,W+X)}else{if(e.msSlice){return e.msSlice(W,W+X)}}}}}function I(X,W){var Y,e;Y=new ArrayBuffer(X);e=new Uint8Array(Y);if(W){e.set(W,0)}return{buffer:Y,array:e,view:new DataView(Y)}}function G(){}function Q(Z){var e=this,X;function Y(ac,aa){var ab=new Blob([Z],{type:c});X=new t(ab);X.init(function(){e.size=X.size;ac()},aa)}function W(ab,ac,ad,aa){X.readUint8Array(ab,ac,ad,aa)}e.size=0;e.init=Y;e.readUint8Array=W}Q.prototype=new G();Q.prototype.constructor=Q;function O(W){var X=this,e;function Z(ab){var aa=W.length;while(W.charAt(aa-1)=="="){aa--}e=W.indexOf(",")+1;X.size=Math.floor((aa-e)*0.75);ab()}function Y(af,ab,ah){var ae,ad=I(ab);var aa=Math.floor(af/3)*4;var ac=Math.ceil((af+ab)/3)*4;var ai=a.atob(W.substring(aa+e,ac+e));var ag=af-Math.floor(aa/4)*3;for(ae=ag;ae<ag+ab;ae++){ad.array[ae-ag]=ai.charCodeAt(ae)}ah(ad.array)}X.size=0;X.init=Z;X.readUint8Array=Y}O.prototype=new G();O.prototype.constructor=O;function t(e){var W=this;function Y(Z){W.size=e.size;Z()}function X(ab,ac,ae,aa){var Z=new FileReader();Z.onload=function(af){ae(new Uint8Array(af.target.result))};Z.onerror=aa;try{Z.readAsArrayBuffer(d(e,ab,ac))}catch(ad){aa(ad)}}W.size=0;W.init=Y;W.readUint8Array=X}t.prototype=new G();t.prototype.constructor=t;function h(){}h.prototype.getData=function(e){e(this.data)};function q(Y){var X=this,W;function aa(ab){W=new Blob([],{type:c});ab()}function Z(ac,ab){W=new Blob([W,H?ac:ac.buffer],{type:c});ab()}function e(ad,ac){var ab=new FileReader();ab.onload=function(ae){ad(ae.target.result)};ab.onerror=ac;ab.readAsText(W,Y)}X.init=aa;X.writeUint8Array=Z;X.getData=e}q.prototype=new h();q.prototype.constructor=q;function o(ab){var W=this,Y="",aa="";function Z(ac){Y+="data:"+(ab||"")+";base64,";ac()}function X(ag,af){var ac,ae=aa.length,ad=aa;aa="";for(ac=0;ac<(Math.floor((ae+ag.length)/3)*3)-ae;ac++){ad+=String.fromCharCode(ag[ac])}for(;ac<ag.length;ac++){aa+=String.fromCharCode(ag[ac])}if(ad.length>2){Y+=a.btoa(ad)}else{aa=ad}af()}function e(ac){ac(Y+a.btoa(aa))}W.init=Z;W.writeUint8Array=X;W.getData=e}o.prototype=new h();o.prototype.constructor=o;function N(aa){var W,X=this;function Z(ab){W=new Blob([],{type:aa});ab()}function Y(ac,ab){W=new Blob([W,H?ac:ac.buffer],{type:aa});ab()}function e(ab){ab(W)}X.init=Z;X.writeUint8Array=Y;X.getData=e}N.prototype=new h();N.prototype.constructor=N;function F(ab,W,X,aj,ac,ah,Z,Y,ak,aa){var e=0,af,ai,al=W.sn,ag;function am(){ab.removeEventListener("message",ad,false);Y(ai,ag)}function ad(ap){var ao=ap.data,aq=ao.data,an=ao.error;if(an){an.toString=function(){return"Error: "+this.message};ak(an);return}if(ao.sn!==al){return}if(typeof ao.codecTime==="number"){ab.codecTime+=ao.codecTime}if(typeof ao.crcTime==="number"){ab.crcTime+=ao.crcTime}switch(ao.type){case"append":if(aq){ai+=aq.length;aj.writeUint8Array(aq,function(){ae()},aa)}else{ae()}break;case"flush":ag=ao.crc;if(aq){ai+=aq.length;aj.writeUint8Array(aq,function(){am()},aa)}else{am()}break;case"progress":if(Z){Z(af+ao.loaded,ah)}break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",ao)}}function ae(){af=e*C;if(af<=ah){X.readUint8Array(ac+af,Math.min(C,ah-af),function(ap){if(Z){Z(af,ah)}var ao=af===0?W:{sn:al};ao.type="append";ao.data=ap;try{ab.postMessage(ao,[ap.buffer])}catch(an){ab.postMessage(ao)}e++},ak)}else{ab.postMessage({sn:al,type:"flush"})}}ai=0;ab.addEventListener("message",ad,false);ae()}function b(e,af,aa,ac,al,W,X,ak,Z,ad){var ai=0,ah,ab=0,aj=W==="input",ae=W==="output",ag=new M();function Y(){var am;ah=ai*C;if(ah<al){af.readUint8Array(ac+ah,Math.min(C,al-ah),function(ap){var ao;try{ao=e.append(ap,function(ar){if(X){X(ah+ar,al)}})}catch(aq){Z(aq);return}if(ao){ab+=ao.length;aa.writeUint8Array(ao,function(){ai++;setTimeout(Y,1)},ad);if(ae){ag.append(ao)}}else{ai++;setTimeout(Y,1)}if(aj){ag.append(ap)}if(X){X(ah,al)}},Z)}else{try{am=e.flush()}catch(an){Z(an);return}if(am){if(ae){ag.append(am)}ab+=am.length;aa.writeUint8Array(am,function(){ak(ab,ag.get())},ad)}else{ak(ab,ag.get())}}}Y()}function m(Y,X,ae,aa,ab,ah,af,ag,W,Z,ad){var e=af?"output":"none";if(a.zip.useWebWorkers){var ac={sn:X,codecClass:"Inflater",crcType:e};F(Y,ac,ae,aa,ab,ah,W,ag,Z,ad)}else{b(new a.zip.Inflater(),ae,aa,ab,ah,e,W,ag,Z,ad)}}function B(Z,Y,ae,aa,e,af,X,ab,ad){var W="input";if(a.zip.useWebWorkers){var ac={sn:Y,options:{level:e},codecClass:"Deflater",crcType:W};F(Z,ac,ae,aa,0,ae.size,X,af,ab,ad)}else{b(new a.zip.Deflater(),ae,aa,0,ae.size,W,X,af,ab,ad)}}function U(Y,X,ae,aa,ab,ah,af,ag,W,Z,ad){var e="input";if(a.zip.useWebWorkers&&af){var ac={sn:X,codecClass:"NOOP",crcType:e};F(Y,ac,ae,aa,ab,ah,W,ag,Z,ad)}else{b(new j(),ae,aa,ab,ah,e,W,ag,Z,ad)}}function J(Z){var Y,X="",W,e=["\u00C7","\u00FC","\u00E9","\u00E2","\u00E4","\u00E0","\u00E5","\u00E7","\u00EA","\u00EB","\u00E8","\u00EF","\u00EE","\u00EC","\u00C4","\u00C5","\u00C9","\u00E6","\u00C6","\u00F4","\u00F6","\u00F2","\u00FB","\u00F9","\u00FF","\u00D6","\u00DC","\u00F8","\u00A3","\u00D8","\u00D7","\u0192","\u00E1","\u00ED","\u00F3","\u00FA","\u00F1","\u00D1","\u00AA","\u00BA","\u00BF","\u00AE","\u00AC","\u00BD","\u00BC","\u00A1","\u00AB","\u00BB","_","_","_","\u00A6","\u00A6","\u00C1","\u00C2","\u00C0","\u00A9","\u00A6","\u00A6","+","+","\u00A2","\u00A5","+","+","-","-","+","-","+","\u00E3","\u00C3","+","+","-","-","\u00A6","-","+","\u00A4","\u00F0","\u00D0","\u00CA","\u00CB","\u00C8","i","\u00CD","\u00CE","\u00CF","+","+","_","_","\u00A6","\u00CC","_","\u00D3","\u00DF","\u00D4","\u00D2","\u00F5","\u00D5","\u00B5","\u00FE","\u00DE","\u00DA","\u00DB","\u00D9","\u00FD","\u00DD","\u00AF","\u00B4","\u00AD","\u00B1","_","\u00BE","\u00B6","\u00A7","\u00F7","\u00B8","\u00B0","\u00A8","\u00B7","\u00B9","\u00B3","\u00B2","_"," "];for(Y=0;Y<Z.length;Y++){W=Z.charCodeAt(Y)&255;if(W>127){X+=e[W-128]}else{X+=String.fromCharCode(W)}}return X}function x(e){return decodeURIComponent(escape(e))}function L(e){var W,X="";for(W=0;W<e.length;W++){X+=String.fromCharCode(e[W])}return X}function s(X){var W=(X&4294901760)>>16,Z=X&65535;try{return new Date(1980+((W&65024)>>9),((W&480)>>5)-1,W&31,(Z&63488)>>11,(Z&2016)>>5,(Z&31)*2,0)}catch(Y){}}function r(Y,Z,X,W,e){Y.version=Z.view.getUint16(X,true);Y.bitFlag=Z.view.getUint16(X+2,true);Y.compressionMethod=Z.view.getUint16(X+4,true);Y.lastModDateRaw=Z.view.getUint32(X+6,true);Y.lastModDate=s(Y.lastModDateRaw);if((Y.bitFlag&1)===1){e(A);return}if(W||(Y.bitFlag&8)!=8){Y.crc32=Z.view.getUint32(X+10,true);Y.compressedSize=Z.view.getUint32(X+14,true);Y.uncompressedSize=Z.view.getUint32(X+18,true)}if(Y.compressedSize===4294967295||Y.uncompressedSize===4294967295){e(S);return}Y.filenameLength=Z.view.getUint16(X+22,true);Y.extraFieldLength=Z.view.getUint16(X+24,true)}function V(W,ab,e){var aa=0;function X(){}X.prototype.getData=function(af,ak,ae,ac){var ai=this;function ad(al){var am=I(4);am.view.setUint32(0,al);return ai.crc32==am.view.getUint32(0)}function aj(al,am){if(ac&&!ad(am)){e(K)}else{af.getData(function(an){ak(an)})}}function ag(al){e(al||T)}function ah(al){e(al||k)}W.readUint8Array(ai.offset,30,function(am){var an=I(am.length,am),al;if(an.view.getUint32(0)!=1347093252){e(z);return}r(ai,an,4,false,e);al=ai.offset+30+ai.filenameLength+ai.extraFieldLength;af.init(function(){if(ai.compressionMethod===0){U(ai._worker,aa++,W,af,al,ai.compressedSize,ac,aj,ae,ag,ah)}else{m(ai._worker,aa++,W,af,al,ai.compressedSize,ac,aj,ae,ag,ah)}},ah)},ag)};function Z(af){var ad=22;if(W.size<ad){e(z);return}var ac=256*256,ae=ad+ac;ag(ad,function(){ag(Math.min(ae,W.size),function(){e(z)})});function ag(ah,ai){W.readUint8Array(W.size-ah,ah,function(aj){for(var ak=aj.length-ad;ak>=0;ak--){if(aj[ak]===80&&aj[ak+1]===75&&aj[ak+2]===5&&aj[ak+3]===6){af(new DataView(aj.buffer,ak,ad));return}}ai()},function(){e(D)})}}var Y={getEntries:function(ad){var ac=this._worker;Z(function(ag){var af,ae;af=ag.getUint32(16,true);ae=ag.getUint16(8,true);if(af<0||af>=W.size){e(z);return}W.readUint8Array(af,W.size-af,function(ai){var al,ak=0,ah=[],am,aj,ao,an=I(ai.length,ai);for(al=0;al<ae;al++){am=new X();am._worker=ac;if(an.view.getUint32(ak)!=1347092738){e(z);return}r(am,an,ak+6,true,e);am.commentLength=an.view.getUint16(ak+32,true);am.directory=((an.view.getUint8(ak+38)&16)==16);am.offset=an.view.getUint32(ak+42,true);aj=L(an.array.subarray(ak+46,ak+46+am.filenameLength));am.filename=((am.bitFlag&2048)===2048)?x(aj):J(aj);if(!am.directory&&am.filename.charAt(am.filename.length-1)=="/"){am.directory=true}ao=L(an.array.subarray(ak+46+am.filenameLength+am.extraFieldLength,ak+46+am.filenameLength+am.extraFieldLength+am.commentLength));am.comment=((am.bitFlag&2048)===2048)?x(ao):J(ao);ah.push(am);ak+=46+am.filenameLength+am.extraFieldLength+am.commentLength}ad(ah)},function(){e(D)})})},close:function(ac){if(this._worker){this._worker.terminate();this._worker=null}if(ac){ac()}},_worker:null};if(!a.zip.useWebWorkers){ab(Y)}else{w("inflater",function(ac){Y._worker=ac;ab(Y)},function(ac){e(ac)})}}function y(e){return unescape(encodeURIComponent(e))}function f(W){var e,X=[];for(e=0;e<W.length;e++){X.push(W.charCodeAt(e))}return X}function v(Y,ae,ad,Z){var e={},ab=[],af=0;var ac=0;function aa(ag){ad(ag||n)}function X(ag){ad(ag||T)}var W={add:function(ai,ao,aq,aj,ar){var an,ah,al;var ak=this._worker;function ap(au){var at;al=ar.lastModDate||new Date();an=I(26);e[ai]={headerArray:an.array,directory:ar.directory,filename:ah,offset:af,comment:f(y(ar.comment||""))};an.view.setUint32(0,335546376);if(ar.version){an.view.setUint8(0,ar.version)}if(!Z&&ar.level!==0&&!ar.directory){an.view.setUint16(4,2048)}an.view.setUint16(6,(((al.getHours()<<6)|al.getMinutes())<<5)|al.getSeconds()/2,true);an.view.setUint16(8,((((al.getFullYear()-1980)<<4)|(al.getMonth()+1))<<5)|al.getDate(),true);an.view.setUint16(22,ah.length,true);at=I(30+ah.length);at.view.setUint32(0,1347093252);at.array.set(an.array,4);at.array.set(ah,30);af+=at.array.length;Y.writeUint8Array(at.array,au,aa)}function ag(at,au){var av=I(16);af+=at||0;av.view.setUint32(0,1347094280);if(typeof au!="undefined"){an.view.setUint32(10,au,true);av.view.setUint32(4,au,true)}if(ao){av.view.setUint32(8,at,true);an.view.setUint32(14,at,true);av.view.setUint32(12,ao.size,true);an.view.setUint32(18,ao.size,true)}Y.writeUint8Array(av.array,function(){af+=16;aq()},aa)}function am(){ar=ar||{};ai=ai.trim();if(ar.directory&&ai.charAt(ai.length-1)!="/"){ai+="/"}if(e.hasOwnProperty(ai)){ad(g);return}ah=f(y(ai));ab.push(ai);ap(function(){if(ao){if(Z||ar.level===0){U(ak,ac++,ao,Y,0,ao.size,true,ag,aj,X,aa)}else{B(ak,ac++,ao,Y,ar.level,ag,aj,X,aa)}}else{ag()}},aa)}if(ao){ao.init(am,X)}else{am()}},close:function(al){if(this._worker){this._worker.terminate();this._worker=null}var ak,aj=0,ah=0,ag,ai;for(ag=0;ag<ab.length;ag++){ai=e[ab[ag]];aj+=46+ai.filename.length+ai.comment.length}ak=I(aj+22);for(ag=0;ag<ab.length;ag++){ai=e[ab[ag]];ak.view.setUint32(ah,1347092738);ak.view.setUint16(ah+4,5120);ak.array.set(ai.headerArray,ah+6);ak.view.setUint16(ah+32,ai.comment.length,true);if(ai.directory){ak.view.setUint8(ah+38,16)}ak.view.setUint32(ah+42,ai.offset,true);ak.array.set(ai.filename,ah+46);ak.array.set(ai.comment,ah+46+ai.filename.length);ah+=46+ai.filename.length+ai.comment.length}ak.view.setUint32(ah,1347093766);ak.view.setUint16(ah+8,ab.length,true);ak.view.setUint16(ah+10,ab.length,true);ak.view.setUint32(ah+12,aj,true);ak.view.setUint32(ah+16,af,true);Y.writeUint8Array(ak.array,function(){Y.getData(al)},aa)},_worker:null};if(!a.zip.useWebWorkers){ae(W)}else{w("deflater",function(ag){W._worker=ag;ae(W)},function(ag){ad(ag)})}}function p(W){var e=document.createElement("a");return W.map(function(X){e.href=X;return e.href})}var l={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function w(Y,ab,W){if(a.zip.workerScripts!==null&&a.zip.workerScriptsPath!==null){W(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));return}var e;if(a.zip.workerScripts){e=a.zip.workerScripts[Y];if(!Array.isArray(e)){W(new Error("zip.workerScripts."+Y+" is not an array!"));return}e=p(e)}else{e=l[Y].slice(0);e[0]=(a.zip.workerScriptsPath||"")+e[0]}var Z=new Worker(e[0]);Z.codecTime=Z.crcTime=0;Z.postMessage({type:"importScripts",scripts:e.slice(1)});Z.addEventListener("message",aa);function aa(ac){var ad=ac.data;if(ad.error){Z.terminate();W(ad.error);return}if(ad.type==="importScripts"){Z.removeEventListener("message",aa);Z.removeEventListener("error",X);ab(Z)}}Z.addEventListener("error",X);function X(ac){Z.terminate();W(ac)}}function u(e){console.error(e)}a.zip={Reader:G,Writer:h,BlobReader:t,Data64URIReader:O,TextReader:Q,BlobWriter:N,Data64URIWriter:o,TextWriter:q,createReader:function(W,X,e){e=e||u;W.init(function(){V(W,X,e)},e)},createWriter:function(W,Y,e,X){e=e||u;X=!!X;W.init(function(){v(W,Y,e,X)},e)},useWebWorkers:true,workerScriptsPath:null,workerScripts:null}})(this);
</script>
<script type="text/javascript">
(function(){var i=512*1024;var j=zip.TextWriter,r=zip.BlobWriter,u=zip.Data64URIWriter,x=zip.Reader,v=zip.TextReader,a=zip.BlobReader,c=zip.Data64URIReader,q=zip.createReader,g=zip.createWriter;function h(C){var B=this,E;function F(G){B.size=C.uncompressedSize;G()}function A(G){if(B.data){G()}else{C.getData(new r(),function(H){B.data=H;E=new a(H);G()},null,B.checkCrc32)}}function D(H,I,J,G){A(function(){E.readUint8Array(H,I,J,G)},G)}B.size=0;B.init=F;B.readUint8Array=D}h.prototype=new x();h.prototype.constructor=h;h.prototype.checkCrc32=false;function s(B){var A=0;function C(D){A+=D.uncompressedSize||0;D.children.forEach(C)}C(B);return A}function l(D,E,A){var B=0;function C(){B++;if(B<D.children.length){F(D.children[B])}else{E()}}function F(G){if(G.directory){l(G,C,A)}else{G.reader=new G.Reader(G.data,A);G.reader.init(function(){G.uncompressedSize=G.reader.size;C()})}}if(D.children.length){F(D.children[B])}else{E()}}function y(B){var A=B.parent.children;A.forEach(function(D,C){if(D.id==B.id){A.splice(C,1)}})}function m(C,D,F,E,B){var A=0;function G(J,K,M,L,H){var N=0;function I(){var O=K.children[N];if(O){J.add(O.getFullname(),O.reader,function(){A+=O.uncompressedSize||0;G(J,O,function(){N++;I()},L,H)},function(P){if(L){L(A+P,H)}},{directory:O.directory,version:O.zipVersion})}else{M()}}I()}G(C,D,F,E,B)}function p(D,F,B,A){function E(H,G){if(H.isDirectory){H.createReader().readEntries(G)}if(H.isFile){G([])}}function C(H,I,G){E(I,function(J){var M=0;function L(O){function N(P){C(P,O,function(){M++;K()})}if(O.isDirectory){N(H.addDirectory(O.name))}if(O.isFile){O.file(function(Q){var P=H.addBlob(O.name,Q);P.uncompressedSize=Q.size;N(P)},A)}}function K(){var N=J[M];if(N){L(N)}else{G()}}K()})}if(F.isDirectory){C(D,F,B)}else{F.file(function(G){D.addBlob(F.name,G);B()},A)}}function z(D,G,I,C,F,H,A){var E=0;function B(M,P,R,K,O,Q){var L=0;function N(T){function S(U){E+=T.uncompressedSize||0;B(U,T,function(){L++;J()},K,O,Q)}if(T.directory){M.getDirectory(T.name,{create:true},S,O)}else{M.getFile(T.name,{create:true},function(U){T.getData(new zip.FileWriter(U,zip.getMimeType(T.name)),S,function(V){if(K){K(E+V,Q)}},A)},O)}}function J(){var S=P.children[L];if(S){N(S)}else{R()}}J()}if(G.directory){B(D,G,I,C,F,H)}else{G.getData(new zip.FileWriter(D,zip.getMimeType(G.name)),I,C,A)}}function o(A){A.entries=[];A.root=new t(A)}function k(B,G,F,E,A){var C=0;function D(){var H=C*i;if(E){E(H,B.size)}if(H<B.size){B.readUint8Array(H,Math.min(i,B.size-H),function(I){G.writeUint8Array(new Uint8Array(I),function(){C++;D()})},A)}else{G.getData(F)}}D()}function d(C,B,D,A){if(C.directory){return A?new t(C.fs,B,D,C):new w(C.fs,B,D,C)}else{throw"Parent entry is not a directory."}}function f(){}f.prototype={init:function(A,B,E,C){var D=this;if(A.root&&C&&C.getChildByName(B)){throw"Entry filename already exists."}if(!E){E={}}D.fs=A;D.name=B;D.id=A.entries.length;D.parent=C;D.children=[];D.zipVersion=E.zipVersion||20;D.uncompressedSize=0;A.entries.push(D);if(C){D.parent.children.push(D)}},getFileEntry:function(F,E,D,A,B){var C=this;l(C,function(){z(F,C,E,D,A,s(C),B)},A)},moveTo:function(B){var A=this;if(B.directory){if(!B.isDescendantOf(A)){if(A!=B){if(B.getChildByName(A.name)){throw"Entry filename already exists."}y(A);A.parent=B;B.children.push(A)}}else{throw"Entry is a ancestor of target entry."}}else{throw"Target entry is not a directory."}},getFullname:function(){var C=this,A=C.name,B=C.parent;while(B){A=(B.name?B.name+"/":"")+A;B=B.parent}return A},isDescendantOf:function(A){var B=this.parent;while(B&&B.id!=A.id){B=B.parent}return !!B}};f.prototype.constructor=f;var n;function w(A,B,E,C){var D=this;f.prototype.init.call(D,A,B,E,C);D.Reader=E.Reader;D.Writer=E.Writer;D.data=E.data;if(E.getData){D.getData=E.getData}}w.prototype=n=new f();n.constructor=w;n.getData=function(E,D,C,A){var B=this;if(!E||(E.constructor==B.Writer&&B.data)){D(B.data)}else{if(!B.reader){B.reader=new B.Reader(B.data,A)}B.reader.init(function(){E.init(function(){k(B.reader,E,D,C,A)},A)})}};n.getText=function(D,C,A,B){this.getData(new j(B),D,C,A)};n.getBlob=function(D,C,B,A){this.getData(new r(D),C,B,A)};n.getData64URI=function(D,C,B,A){this.getData(new u(D),C,B,A)};var e;function t(A,B,E,C){var D=this;f.prototype.init.call(D,A,B,E,C);D.directory=true}t.prototype=e=new f();e.constructor=t;e.addDirectory=function(A){return d(this,A,null,true)};e.addText=function(A,B){return d(this,A,{data:B,Reader:v,Writer:j})};e.addBlob=function(B,A){return d(this,B,{data:A,Reader:a,Writer:r})};e.addData64URI=function(B,A){return d(this,B,{data:A,Reader:c,Writer:u})};e.addFileEntry=function(C,B,A){p(this,C,B,A)};e.addData=function(A,B){return d(this,A,B)};e.importBlob=function(B,C,A){this.importZip(new a(B),C,A)};e.importText=function(C,B,A){this.importZip(new v(C),B,A)};e.importData64URI=function(B,C,A){this.importZip(new c(B),C,A)};e.exportBlob=function(C,B,A){this.exportZip(new r("application/zip"),C,B,A)};e.exportText=function(C,B,A){this.exportZip(new j(),C,B,A)};e.exportFileEntry=function(D,C,B,A){this.exportZip(new zip.FileWriter(D,"application/zip"),C,B,A)};e.exportData64URI=function(C,B,A){this.exportZip(new u("application/zip"),C,B,A)};e.importZip=function(B,D,A){var C=this;q(B,function(E){E.getEntries(function(F){F.forEach(function(I){var H=C,J=I.filename.split("/"),G=J.pop();J.forEach(function(K){H=H.getChildByName(K)||new t(C.fs,K,null,H)});if(!I.directory){d(H,G,{data:I,Reader:h})}});D()})},A)};e.exportZip=function(E,D,C,A){var B=this;l(B,function(){g(E,function(F){m(F,B,function(){F.close(D)},C,s(B))},A)},A)};e.getChildByName=function(A){var D,C,B=this;for(D=0;D<B.children.length;D++){C=B.children[D];if(C.name==A){return C}}};function b(){o(this)}b.prototype={remove:function(A){y(A);this.entries[A.id]=null},find:function(A){var B,D=A.split("/"),C=this.root;for(B=0;C&&B<D.length;B++){C=C.getChildByName(D[B])}return C},getById:function(A){return this.entries[A]},importBlob:function(B,C,A){o(this);this.root.importBlob(B,C,A)},importText:function(C,B,A){o(this);this.root.importText(C,B,A)},importData64URI:function(B,C,A){o(this);this.root.importData64URI(B,C,A)},exportBlob:function(C,B,A){this.root.exportBlob(C,B,A)},exportText:function(C,B,A){this.root.exportText(C,B,A)},exportFileEntry:function(D,C,B,A){this.root.exportFileEntry(D,C,B,A)},exportData64URI:function(C,B,A){this.root.exportData64URI(C,B,A)}};zip.fs={FS:b,ZipDirectoryEntry:t,ZipFileEntry:w};zip.getMimeType=function(){return"application/octet-stream"}})();
</script>
<script type="text/javascript">
(function(){var b="HTTP Range not supported.";var i=zip.Reader;var f=zip.Writer;var g;var d;try{d=new Blob([new DataView(new ArrayBuffer(0))]).size===0}catch(h){}function c(m){var n=this;function e(s,q){var r;if(!n.data){r=new XMLHttpRequest();r.addEventListener("load",function(){if(!n.size){n.size=Number(r.getResponseHeader("Content-Length"))}n.data=new Uint8Array(r.response);s()},false);r.addEventListener("error",q,false);r.open("GET",m);r.responseType="arraybuffer";r.send()}else{s()}}function p(s,q){var r=new XMLHttpRequest();r.addEventListener("load",function(){n.size=Number(r.getResponseHeader("Content-Length"));s()},false);r.addEventListener("error",q,false);r.open("HEAD",m);r.send()}function o(r,s,t,q){e(function(){t(new Uint8Array(n.data.subarray(r,r+s)))},q)}n.size=0;n.init=p;n.readUint8Array=o}c.prototype=new i();c.prototype.constructor=c;function j(e){var m=this;function p(s,q){var r=new XMLHttpRequest();r.addEventListener("load",function(){m.size=Number(r.getResponseHeader("Content-Length"));if(r.getResponseHeader("Accept-Ranges")=="bytes"){s()}else{q(b)}},false);r.addEventListener("error",q,false);r.open("HEAD",e);r.send()}function o(r,t,u,q){var s=new XMLHttpRequest();s.open("GET",e);s.responseType="arraybuffer";s.setRequestHeader("Range","bytes="+r+"-"+(r+t-1));s.addEventListener("load",function(){u(s.response)},false);s.addEventListener("error",q,false);s.send()}function n(r,s,t,q){o(r,s,function(u){t(new Uint8Array(u))},q)}m.size=0;m.init=p;m.readUint8Array=n}j.prototype=new i();j.prototype.constructor=j;function a(e){var m=this;function o(q,p){m.size=e.byteLength;q()}function n(q,r,s,p){s(new Uint8Array(e.slice(q,q+r)))}m.size=0;m.init=o;m.readUint8Array=n}a.prototype=new i();a.prototype.constructor=a;function k(){var p,m=this;function o(r,q){p=new Uint8Array();r()}function n(r,t,q){var s=new Uint8Array(p.length+r.length);s.set(p);s.set(r,p.length);p=s;t()}function e(q){q(p.buffer)}m.init=o;m.writeUint8Array=n;m.getData=e}k.prototype=new f();k.prototype.constructor=k;function l(r,q){var o,m=this;function p(t,s){r.createWriter(function(u){o=u;t()},s)}function n(v,u,s){var t=new Blob([d?v:v.buffer],{type:q});o.onwrite=function(){o.onwrite=null;u()};o.onerror=s;o.write(t)}function e(s){r.file(s)}m.init=p;m.writeUint8Array=n;m.getData=e}l.prototype=new f();l.prototype.constructor=l;zip.FileWriter=l;zip.HttpReader=c;zip.HttpRangeReader=j;zip.ArrayBufferReader=a;zip.ArrayBufferWriter=k;if(zip.fs){g=zip.fs.ZipDirectoryEntry;g.prototype.addHttpContent=function(m,e,n){function o(r,q,s,p){if(r.directory){return p?new g(r.fs,q,s,r):new zip.fs.ZipFileEntry(r.fs,q,s,r)}else{throw"Parent entry is not a directory."}}return o(this,m,{data:e,Reader:n?j:c})};g.prototype.importHttpContent=function(m,n,o,e){this.importZip(n?new j(m):new c(m),o,e)};zip.fs.FS.prototype.importHttpContent=function(m,n,o,e){this.entries=[];this.root=new g(this);this.root.importHttpContent(m,n,o,e)}}})();
</script>
<script type="text/javascript">
zip.useWebWorkers=false;
//zip.workerScriptsPath = 'lib/';
</script>
<script type="text/javascript">
(function(a){var ag=15;var s=0;var af=1;var M=2;var ak=-2;var k=-3;var e=-4;var O=-5;var V=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];var W=1440;var ad=0;var h=4;var x=9;var D=5;var I=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255];var S=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577];var aj=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112];var J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var t=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var c=15;function n(){var ap=this;var al;var at;var aq;var am;var au;var ar;function an(aT,ax,aH,aE,aS,aR,aD,aI,av,aw,aC){var aU;var aQ;var aP;var aO;var aN;var aL;var aK;var aJ;var aM;var aG;var aF;var aB;var aA;var az;var ay;aG=0;aN=aH;do{aq[aT[ax+aG]]++;aG++;aN--}while(aN!==0);if(aq[0]==aH){aD[0]=-1;aI[0]=0;return s}aJ=aI[0];for(aL=1;aL<=c;aL++){if(aq[aL]!==0){break}}aK=aL;if(aJ<aL){aJ=aL}for(aN=c;aN!==0;aN--){if(aq[aN]!==0){break}}aP=aN;if(aJ>aN){aJ=aN}aI[0]=aJ;for(az=1<<aL;aL<aN;aL++,az<<=1){if((az-=aq[aL])<0){return k}}if((az-=aq[aN])<0){return k}aq[aN]+=az;ar[1]=aL=0;aG=1;aA=2;while(--aN!==0){ar[aA]=(aL+=aq[aG]);aA++;aG++}aN=0;aG=0;do{if((aL=aT[ax+aG])!==0){aC[ar[aL]++]=aN}aG++}while(++aN<aH);aH=ar[aP];ar[0]=aN=0;aG=0;aO=-1;aB=-aJ;au[0]=0;aF=0;ay=0;for(;aK<=aP;aK++){aU=aq[aK];while(aU--!==0){while(aK>aB+aJ){aO++;aB+=aJ;ay=aP-aB;ay=(ay>aJ)?aJ:ay;if((aQ=1<<(aL=aK-aB))>aU+1){aQ-=aU+1;aA=aK;if(aL<ay){while(++aL<ay){if((aQ<<=1)<=aq[++aA]){break}aQ-=aq[aA]}}}ay=1<<aL;if(aw[0]+ay>W){return k}au[aO]=aF=aw[0];aw[0]+=ay;if(aO!==0){ar[aO]=aN;am[0]=aL;am[1]=aJ;aL=aN>>>(aB-aJ);am[2]=(aF-au[aO-1]-aL);av.set(am,(au[aO-1]+aL)*3)}else{aD[0]=aF}}am[1]=(aK-aB);if(aG>=aH){am[0]=128+64}else{if(aC[aG]<aE){am[0]=(aC[aG]<256?0:32+64);am[2]=aC[aG++]}else{am[0]=(aR[aC[aG]-aE]+16+64);am[2]=aS[aC[aG++]-aE]}}aQ=1<<(aK-aB);for(aL=aN>>>aB;aL<ay;aL+=aQ){av.set(am,(aF+aL)*3)}for(aL=1<<(aK-1);(aN&aL)!==0;aL>>>=1){aN^=aL}aN^=aL;aM=(1<<aB)-1;while((aN&aM)!=ar[aO]){aO--;aB-=aJ;aM=(1<<aB)-1}}}return az!==0&&aP!=1?O:s}function ao(aw){var av;if(!al){al=[];at=[];aq=new Int32Array(c+1);am=[];au=new Int32Array(c);ar=new Int32Array(c+1)}if(at.length<aw){at=[]}for(av=0;av<aw;av++){at[av]=0}for(av=0;av<c+1;av++){aq[av]=0}for(av=0;av<3;av++){am[av]=0}au.set(aq.subarray(0,c),0);ar.set(aq.subarray(0,c+1),0)}ap.inflate_trees_bits=function(aA,az,aw,ax,ay){var av;ao(19);al[0]=0;av=an(aA,0,19,19,null,null,aw,az,ax,al,at);if(av==k){ay.msg="oversubscribed dynamic bit lengths tree"}else{if(av==O||az[0]===0){ay.msg="incomplete dynamic bit lengths tree";av=k}}return av};ap.inflate_trees_dynamic=function(av,ay,aB,aw,az,aD,ax,aC,aA){var aE;ao(288);al[0]=0;aE=an(aB,0,av,257,aj,Y,aD,aw,aC,al,at);if(aE!=s||aw[0]===0){if(aE==k){aA.msg="oversubscribed literal/length tree"}else{if(aE!=e){aA.msg="incomplete literal/length tree";aE=k}}return aE}ao(288);aE=an(aB,av,ay,0,J,t,ax,az,aC,al,at);if(aE!=s||(az[0]===0&&av>257)){if(aE==k){aA.msg="oversubscribed distance tree"}else{if(aE==O){aA.msg="incomplete distance tree";aE=k}else{if(aE!=e){aA.msg="empty distance tree with lengths";aE=k}}}return aE}return s}}n.inflate_trees_fixed=function(ao,am,al,an){ao[0]=x;am[0]=D;al[0]=I;an[0]=S;return s};var K=0;var ac=1;var Z=2;var z=3;var b=4;var p=5;var A=6;var r=7;var ab=8;var E=9;function f(){var av=this;var at;var aw=0;var aB;var aq=0;var az=0;var aA=0;var ao=0;var ay=0;var ar=0;var an=0;var ax;var am=0;var ap;var al=0;function au(aC,aF,aE,aG,aH,aX,aK,aI){var aJ;var aD;var aN;var aU;var aY;var aS;var aO;var aQ;var aM;var aR;var aT;var aZ;var aW;var aV;var aL;var aP;aO=aI.next_in_index;aQ=aI.avail_in;aY=aK.bitb;aS=aK.bitk;aM=aK.write;aR=aM<aK.read?aK.read-aM-1:aK.end-aM;aT=V[aC];aZ=V[aF];do{while(aS<(20)){aQ--;aY|=(aI.read_byte(aO++)&255)<<aS;aS+=8}aJ=aY&aT;aD=aE;aN=aG;aP=(aN+aJ)*3;if((aU=aD[aP])===0){aY>>=(aD[aP+1]);aS-=(aD[aP+1]);aK.window[aM++]=aD[aP+2];aR--;continue}do{aY>>=(aD[aP+1]);aS-=(aD[aP+1]);if((aU&16)!==0){aU&=15;aW=aD[aP+2]+(aY&V[aU]);aY>>=aU;aS-=aU;while(aS<(15)){aQ--;aY|=(aI.read_byte(aO++)&255)<<aS;aS+=8}aJ=aY&aZ;aD=aH;aN=aX;aP=(aN+aJ)*3;aU=aD[aP];do{aY>>=(aD[aP+1]);aS-=(aD[aP+1]);if((aU&16)!==0){aU&=15;while(aS<(aU)){aQ--;aY|=(aI.read_byte(aO++)&255)<<aS;aS+=8}aV=aD[aP+2]+(aY&V[aU]);aY>>=(aU);aS-=(aU);aR-=aW;if(aM>=aV){aL=aM-aV;if(aM-aL>0&&2>(aM-aL)){aK.window[aM++]=aK.window[aL++];aK.window[aM++]=aK.window[aL++];aW-=2}else{aK.window.set(aK.window.subarray(aL,aL+2),aM);aM+=2;aL+=2;aW-=2}}else{aL=aM-aV;do{aL+=aK.end}while(aL<0);aU=aK.end-aL;if(aW>aU){aW-=aU;if(aM-aL>0&&aU>(aM-aL)){do{aK.window[aM++]=aK.window[aL++]}while(--aU!==0)}else{aK.window.set(aK.window.subarray(aL,aL+aU),aM);aM+=aU;aL+=aU;aU=0}aL=0}}if(aM-aL>0&&aW>(aM-aL)){do{aK.window[aM++]=aK.window[aL++]}while(--aW!==0)}else{aK.window.set(aK.window.subarray(aL,aL+aW),aM);aM+=aW;aL+=aW;aW=0}break}else{if((aU&64)===0){aJ+=aD[aP+2];aJ+=(aY&V[aU]);aP=(aN+aJ)*3;aU=aD[aP]}else{aI.msg="invalid distance code";aW=aI.avail_in-aQ;aW=(aS>>3)<aW?aS>>3:aW;aQ+=aW;aO-=aW;aS-=aW<<3;aK.bitb=aY;aK.bitk=aS;aI.avail_in=aQ;aI.total_in+=aO-aI.next_in_index;aI.next_in_index=aO;aK.write=aM;return k}}}while(true);break}if((aU&64)===0){aJ+=aD[aP+2];aJ+=(aY&V[aU]);aP=(aN+aJ)*3;if((aU=aD[aP])===0){aY>>=(aD[aP+1]);aS-=(aD[aP+1]);aK.window[aM++]=aD[aP+2];aR--;break}}else{if((aU&32)!==0){aW=aI.avail_in-aQ;aW=(aS>>3)<aW?aS>>3:aW;aQ+=aW;aO-=aW;aS-=aW<<3;aK.bitb=aY;aK.bitk=aS;aI.avail_in=aQ;aI.total_in+=aO-aI.next_in_index;aI.next_in_index=aO;aK.write=aM;return af}else{aI.msg="invalid literal/length code";aW=aI.avail_in-aQ;aW=(aS>>3)<aW?aS>>3:aW;aQ+=aW;aO-=aW;aS-=aW<<3;aK.bitb=aY;aK.bitk=aS;aI.avail_in=aQ;aI.total_in+=aO-aI.next_in_index;aI.next_in_index=aO;aK.write=aM;return k}}}while(true)}while(aR>=258&&aQ>=10);aW=aI.avail_in-aQ;aW=(aS>>3)<aW?aS>>3:aW;aQ+=aW;aO-=aW;aS-=aW<<3;aK.bitb=aY;aK.bitk=aS;aI.avail_in=aQ;aI.total_in+=aO-aI.next_in_index;aI.next_in_index=aO;aK.write=aM;return s}av.init=function(aH,aF,aC,aE,aG,aD){at=K;ar=aH;an=aF;ax=aC;am=aE;ap=aG;al=aD;aB=null};av.proc=function(aO,aM,aC){var aJ;var aF;var aL;var aN=0;var aI=0;var aE=0;var aG;var aD;var aH;var aK;aE=aM.next_in_index;aG=aM.avail_in;aN=aO.bitb;aI=aO.bitk;aD=aO.write;aH=aD<aO.read?aO.read-aD-1:aO.end-aD;while(true){switch(at){case K:if(aH>=258&&aG>=10){aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;aC=au(ar,an,ax,am,ap,al,aO,aM);aE=aM.next_in_index;aG=aM.avail_in;aN=aO.bitb;aI=aO.bitk;aD=aO.write;aH=aD<aO.read?aO.read-aD-1:aO.end-aD;if(aC!=s){at=aC==af?r:E;break}}az=ar;aB=ax;aq=am;at=ac;case ac:aJ=az;while(aI<(aJ)){if(aG!==0){aC=s}else{aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}aG--;aN|=(aM.read_byte(aE++)&255)<<aI;aI+=8}aF=(aq+(aN&V[aJ]))*3;aN>>>=(aB[aF+1]);aI-=(aB[aF+1]);aL=aB[aF];if(aL===0){aA=aB[aF+2];at=A;break}if((aL&16)!==0){ao=aL&15;aw=aB[aF+2];at=Z;break}if((aL&64)===0){az=aL;aq=aF/3+aB[aF+2];break}if((aL&32)!==0){at=r;break}at=E;aM.msg="invalid literal/length code";aC=k;aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC);case Z:aJ=ao;while(aI<(aJ)){if(aG!==0){aC=s}else{aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}aG--;aN|=(aM.read_byte(aE++)&255)<<aI;aI+=8}aw+=(aN&V[aJ]);aN>>=aJ;aI-=aJ;az=an;aB=ap;aq=al;at=z;case z:aJ=az;while(aI<(aJ)){if(aG!==0){aC=s}else{aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}aG--;aN|=(aM.read_byte(aE++)&255)<<aI;aI+=8}aF=(aq+(aN&V[aJ]))*3;aN>>=aB[aF+1];aI-=aB[aF+1];aL=(aB[aF]);if((aL&16)!==0){ao=aL&15;ay=aB[aF+2];at=b;break}if((aL&64)===0){az=aL;aq=aF/3+aB[aF+2];break}at=E;aM.msg="invalid distance code";aC=k;aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC);case b:aJ=ao;while(aI<(aJ)){if(aG!==0){aC=s}else{aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}aG--;aN|=(aM.read_byte(aE++)&255)<<aI;aI+=8}ay+=(aN&V[aJ]);aN>>=aJ;aI-=aJ;at=p;case p:aK=aD-ay;while(aK<0){aK+=aO.end}while(aw!==0){if(aH===0){if(aD==aO.end&&aO.read!==0){aD=0;aH=aD<aO.read?aO.read-aD-1:aO.end-aD}if(aH===0){aO.write=aD;aC=aO.inflate_flush(aM,aC);aD=aO.write;aH=aD<aO.read?aO.read-aD-1:aO.end-aD;if(aD==aO.end&&aO.read!==0){aD=0;aH=aD<aO.read?aO.read-aD-1:aO.end-aD}if(aH===0){aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}}}aO.window[aD++]=aO.window[aK++];aH--;if(aK==aO.end){aK=0}aw--}at=K;break;case A:if(aH===0){if(aD==aO.end&&aO.read!==0){aD=0;aH=aD<aO.read?aO.read-aD-1:aO.end-aD}if(aH===0){aO.write=aD;aC=aO.inflate_flush(aM,aC);aD=aO.write;aH=aD<aO.read?aO.read-aD-1:aO.end-aD;if(aD==aO.end&&aO.read!==0){aD=0;aH=aD<aO.read?aO.read-aD-1:aO.end-aD}if(aH===0){aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}}}aC=s;aO.window[aD++]=aA;aH--;at=K;break;case r:if(aI>7){aI-=8;aG++;aE--}aO.write=aD;aC=aO.inflate_flush(aM,aC);aD=aO.write;aH=aD<aO.read?aO.read-aD-1:aO.end-aD;if(aO.read!=aO.write){aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}at=ab;case ab:aC=af;aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC);case E:aC=k;aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC);default:aC=ak;aO.bitb=aN;aO.bitk=aI;aM.avail_in=aG;aM.total_in+=aE-aM.next_in_index;aM.next_in_index=aE;aO.write=aD;return aO.inflate_flush(aM,aC)}}};av.free=function(){}}var m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var q=0;var ae=1;var F=2;var C=3;var U=4;var g=5;var aa=6;var w=7;var y=8;var ah=9;function v(av,ax){var ar=this;var aq=q;var ao=0;var az=0;var at=0;var aA;var au=[0];var ap=[0];var al=new f();var ay=0;var an=new Int32Array(W*3);var am=0;var aw=new n();ar.bitk=0;ar.bitb=0;ar.window=new Uint8Array(ax);ar.end=ax;ar.read=0;ar.write=0;ar.reset=function(aB,aC){if(aC){aC[0]=am}if(aq==aa){al.free(aB)}aq=q;ar.bitk=0;ar.bitb=0;ar.read=ar.write=0};ar.reset(av,null);ar.inflate_flush=function(aE,aB){var aF;var aD;var aC;aD=aE.next_out_index;aC=ar.read;aF=((aC<=ar.write?ar.write:ar.end)-aC);if(aF>aE.avail_out){aF=aE.avail_out}if(aF!==0&&aB==O){aB=s}aE.avail_out-=aF;aE.total_out+=aF;aE.next_out.set(ar.window.subarray(aC,aC+aF),aD);aD+=aF;aC+=aF;if(aC==ar.end){aC=0;if(ar.write==ar.end){ar.write=0}aF=ar.write-aC;if(aF>aE.avail_out){aF=aE.avail_out}if(aF!==0&&aB==O){aB=s}aE.avail_out-=aF;aE.total_out+=aF;aE.next_out.set(ar.window.subarray(aC,aC+aF),aD);aD+=aF;aC+=aF}aE.next_out_index=aD;ar.read=aC;return aB};ar.proc=function(aH,aJ){var aI;var aT;var aO;var aL;var aM;var aK;var aN;var aQ;aL=aH.next_in_index;aM=aH.avail_in;aT=ar.bitb;aO=ar.bitk;aK=ar.write;aN=(aK<ar.read?ar.read-aK-1:ar.end-aK);while(true){switch(aq){case q:while(aO<(3)){if(aM!==0){aJ=s}else{ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aM--;aT|=(aH.read_byte(aL++)&255)<<aO;aO+=8}aI=(aT&7);ay=aI&1;switch(aI>>>1){case 0:aT>>>=(3);aO-=(3);aI=aO&7;aT>>>=(aI);aO-=(aI);aq=ae;break;case 1:var aB=[];var aF=[];var aD=[[]];var aG=[[]];n.inflate_trees_fixed(aB,aF,aD,aG);al.init(aB[0],aF[0],aD[0],0,aG[0],0);aT>>>=(3);aO-=(3);aq=aa;break;case 2:aT>>>=(3);aO-=(3);aq=C;break;case 3:aT>>>=(3);aO-=(3);aq=ah;aH.msg="invalid block type";aJ=k;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}break;case ae:while(aO<(32)){if(aM!==0){aJ=s}else{ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aM--;aT|=(aH.read_byte(aL++)&255)<<aO;aO+=8}if((((~aT)>>>16)&65535)!=(aT&65535)){aq=ah;aH.msg="invalid stored block lengths";aJ=k;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}ao=(aT&65535);aT=aO=0;aq=ao!==0?F:(ay!==0?w:q);break;case F:if(aM===0){ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}if(aN===0){if(aK==ar.end&&ar.read!==0){aK=0;aN=(aK<ar.read?ar.read-aK-1:ar.end-aK)}if(aN===0){ar.write=aK;aJ=ar.inflate_flush(aH,aJ);aK=ar.write;aN=(aK<ar.read?ar.read-aK-1:ar.end-aK);if(aK==ar.end&&ar.read!==0){aK=0;aN=(aK<ar.read?ar.read-aK-1:ar.end-aK)}if(aN===0){ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}}}aJ=s;aI=ao;if(aI>aM){aI=aM}if(aI>aN){aI=aN}ar.window.set(aH.read_buf(aL,aI),aK);aL+=aI;aM-=aI;aK+=aI;aN-=aI;if((ao-=aI)!==0){break}aq=ay!==0?w:q;break;case C:while(aO<(14)){if(aM!==0){aJ=s}else{ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aM--;aT|=(aH.read_byte(aL++)&255)<<aO;aO+=8}az=aI=(aT&16383);if((aI&31)>29||((aI>>5)&31)>29){aq=ah;aH.msg="too many length or distance symbols";aJ=k;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aI=258+(aI&31)+((aI>>5)&31);if(!aA||aA.length<aI){aA=[]}else{for(aQ=0;aQ<aI;aQ++){aA[aQ]=0}}aT>>>=(14);aO-=(14);at=0;aq=U;case U:while(at<4+(az>>>10)){while(aO<(3)){if(aM!==0){aJ=s}else{ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aM--;aT|=(aH.read_byte(aL++)&255)<<aO;aO+=8}aA[m[at++]]=aT&7;aT>>>=(3);aO-=(3)}while(at<19){aA[m[at++]]=0}au[0]=7;aI=aw.inflate_trees_bits(aA,au,ap,an,aH);if(aI!=s){aJ=aI;if(aJ==k){aA=null;aq=ah}ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}at=0;aq=g;case g:while(true){aI=az;if(at>=258+(aI&31)+((aI>>5)&31)){break}var aP,aR;aI=au[0];while(aO<(aI)){if(aM!==0){aJ=s}else{ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aM--;aT|=(aH.read_byte(aL++)&255)<<aO;aO+=8}aI=an[(ap[0]+(aT&V[aI]))*3+1];aR=an[(ap[0]+(aT&V[aI]))*3+2];if(aR<16){aT>>>=(aI);aO-=(aI);aA[at++]=aR}else{aQ=aR==18?7:aR-14;aP=aR==18?11:3;while(aO<(aI+aQ)){if(aM!==0){aJ=s}else{ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aM--;aT|=(aH.read_byte(aL++)&255)<<aO;aO+=8}aT>>>=(aI);aO-=(aI);aP+=(aT&V[aQ]);aT>>>=(aQ);aO-=(aQ);aQ=at;aI=az;if(aQ+aP>258+(aI&31)+((aI>>5)&31)||(aR==16&&aQ<1)){aA=null;aq=ah;aH.msg="invalid bit length repeat";aJ=k;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aR=aR==16?aA[aQ-1]:0;do{aA[aQ++]=aR}while(--aP!==0);at=aQ}}ap[0]=-1;var aU=[];var aE=[];var aS=[];var aC=[];aU[0]=9;aE[0]=6;aI=az;aI=aw.inflate_trees_dynamic(257+(aI&31),1+((aI>>5)&31),aA,aU,aE,aS,aC,an,aH);if(aI!=s){if(aI==k){aA=null;aq=ah}aJ=aI;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}al.init(aU[0],aE[0],an,aS[0],an,aC[0]);aq=aa;case aa:ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;if((aJ=al.proc(ar,aH,aJ))!=af){return ar.inflate_flush(aH,aJ)}aJ=s;al.free(aH);aL=aH.next_in_index;aM=aH.avail_in;aT=ar.bitb;aO=ar.bitk;aK=ar.write;aN=(aK<ar.read?ar.read-aK-1:ar.end-aK);if(ay===0){aq=q;break}aq=w;case w:ar.write=aK;aJ=ar.inflate_flush(aH,aJ);aK=ar.write;aN=(aK<ar.read?ar.read-aK-1:ar.end-aK);if(ar.read!=ar.write){ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}aq=y;case y:aJ=af;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ);case ah:aJ=k;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ);default:aJ=ak;ar.bitb=aT;ar.bitk=aO;aH.avail_in=aM;aH.total_in+=aL-aH.next_in_index;aH.next_in_index=aL;ar.write=aK;return ar.inflate_flush(aH,aJ)}}};ar.free=function(aB){ar.reset(aB,null);ar.window=null;an=null};ar.set_dictionary=function(aB,aD,aC){ar.window.set(aB.subarray(aD,aD+aC),0);ar.read=ar.write=aC};ar.sync_point=function(){return aq==ae?1:0}}var d=32;var X=8;var B=0;var ai=1;var N=2;var P=3;var Q=4;var R=5;var T=6;var G=7;var H=12;var u=13;var j=[0,0,255,255];function l(){var am=this;am.mode=0;am.method=0;am.was=[0];am.need=0;am.marker=0;am.wbits=0;function al(an){if(!an||!an.istate){return ak}an.total_in=an.total_out=0;an.msg=null;an.istate.mode=G;an.istate.blocks.reset(an,null);return s}am.inflateEnd=function(an){if(am.blocks){am.blocks.free(an)}am.blocks=null;return s};am.inflateInit=function(ao,an){ao.msg=null;am.blocks=null;if(an<8||an>15){am.inflateEnd(ao);return ak}am.wbits=an;ao.istate.blocks=new v(ao,1<<an);al(ao);return s};am.inflate=function(aq,ap){var ao;var an;if(!aq||!aq.istate||!aq.next_in){return ak}ap=ap==h?O:s;ao=O;while(true){switch(aq.istate.mode){case B:if(aq.avail_in===0){return ao}ao=ap;aq.avail_in--;aq.total_in++;if(((aq.istate.method=aq.read_byte(aq.next_in_index++))&15)!=X){aq.istate.mode=u;aq.msg="unknown compression method";aq.istate.marker=5;break}if((aq.istate.method>>4)+8>aq.istate.wbits){aq.istate.mode=u;aq.msg="invalid window size";aq.istate.marker=5;break}aq.istate.mode=ai;case ai:if(aq.avail_in===0){return ao}ao=ap;aq.avail_in--;aq.total_in++;an=(aq.read_byte(aq.next_in_index++))&255;if((((aq.istate.method<<8)+an)%31)!==0){aq.istate.mode=u;aq.msg="incorrect header check";aq.istate.marker=5;break}if((an&d)===0){aq.istate.mode=G;break}aq.istate.mode=N;case N:if(aq.avail_in===0){return ao}ao=ap;aq.avail_in--;aq.total_in++;aq.istate.need=((aq.read_byte(aq.next_in_index++)&255)<<24)&4278190080;aq.istate.mode=P;case P:if(aq.avail_in===0){return ao}ao=ap;aq.avail_in--;aq.total_in++;aq.istate.need+=((aq.read_byte(aq.next_in_index++)&255)<<16)&16711680;aq.istate.mode=Q;case Q:if(aq.avail_in===0){return ao}ao=ap;aq.avail_in--;aq.total_in++;aq.istate.need+=((aq.read_byte(aq.next_in_index++)&255)<<8)&65280;aq.istate.mode=R;case R:if(aq.avail_in===0){return ao}ao=ap;aq.avail_in--;aq.total_in++;aq.istate.need+=(aq.read_byte(aq.next_in_index++)&255);aq.istate.mode=T;return M;case T:aq.istate.mode=u;aq.msg="need dictionary";aq.istate.marker=0;return ak;case G:ao=aq.istate.blocks.proc(aq,ao);if(ao==k){aq.istate.mode=u;aq.istate.marker=0;break}if(ao==s){ao=ap}if(ao!=af){return ao}ao=ap;aq.istate.blocks.reset(aq,aq.istate.was);aq.istate.mode=H;case H:return af;case u:return k;default:return ak}}};am.inflateSetDictionary=function(aq,ar,ap){var an=0;var ao=ap;if(!aq||!aq.istate||aq.istate.mode!=T){return ak}if(ao>=(1<<aq.istate.wbits)){ao=(1<<aq.istate.wbits)-1;an=ap-ao}aq.istate.blocks.set_dictionary(ar,an,ao);aq.istate.mode=G;return s};am.inflateSync=function(ar){var at;var aq;var an;var ap,ao;if(!ar||!ar.istate){return ak}if(ar.istate.mode!=u){ar.istate.mode=u;ar.istate.marker=0}if((at=ar.avail_in)===0){return O}aq=ar.next_in_index;an=ar.istate.marker;while(at!==0&&an<4){if(ar.read_byte(aq)==j[an]){an++}else{if(ar.read_byte(aq)!==0){an=0}else{an=4-an}}aq++;at--}ar.total_in+=aq-ar.next_in_index;ar.next_in_index=aq;ar.avail_in=at;ar.istate.marker=an;if(an!=4){return k}ap=ar.total_in;ao=ar.total_out;al(ar);ar.total_in=ap;ar.total_out=ao;ar.istate.mode=G;return s};am.inflateSyncPoint=function(an){if(!an||!an.istate||!an.istate.blocks){return ak}return an.istate.blocks.sync_point()}}function L(){}L.prototype={inflateInit:function(am){var al=this;al.istate=new l();if(!am){am=ag}return al.istate.inflateInit(al,am)},inflate:function(am){var al=this;if(!al.istate){return ak}return al.istate.inflate(al,am)},inflateEnd:function(){var am=this;if(!am.istate){return ak}var al=am.istate.inflateEnd(am);am.istate=null;return al},inflateSync:function(){var al=this;if(!al.istate){return ak}return al.istate.inflateSync(al)},inflateSetDictionary:function(an,am){var al=this;if(!al.istate){return ak}return al.istate.inflateSetDictionary(al,an,am)},read_byte:function(am){var al=this;return al.next_in.subarray(am,am+1)[0]},read_buf:function(an,al){var am=this;return am.next_in.subarray(an,an+al)}};function o(){var ao=this;var aq=new L();var ap=512;var al=ad;var am=new Uint8Array(ap);var an=false;aq.inflateInit();aq.next_out=am;ao.append=function(aw,av){var au,at=[],az=0,ar=0,ay=0,ax;if(aw.length===0){return}aq.next_in_index=0;aq.next_in=aw;aq.avail_in=aw.length;do{aq.next_out_index=0;aq.avail_out=ap;if((aq.avail_in===0)&&(!an)){aq.next_in_index=0;an=true}au=aq.inflate(al);if(an&&(au===O)){if(aq.avail_in!==0){throw new Error("inflating: bad input")}}else{if(au!==s&&au!==af){throw new Error("inflating: "+aq.msg)}}if((an||au===af)&&(aq.avail_in===aw.length)){throw new Error("inflating: bad input")}if(aq.next_out_index){if(aq.next_out_index===ap){at.push(new Uint8Array(am))}else{at.push(new Uint8Array(am.subarray(0,aq.next_out_index)))}}ay+=aq.next_out_index;if(av&&aq.next_in_index>0&&aq.next_in_index!=az){av(aq.next_in_index);az=aq.next_in_index}}while(aq.avail_in>0||aq.avail_out===0);ax=new Uint8Array(ay);at.forEach(function(aA){ax.set(aA,ar);ar+=aA.length});return ax};ao.flush=function(){aq.inflateEnd()}}var i=a.zip||a;i.Inflater=i._jzlib_Inflater=o})(this);
</script>
<script type="text/javascript">
(function(u){if(!u.CFInstall){var t=function(e,d){return typeof e=="string"?(d||document).getElementById(e):e},s=function(){if(u.CFInstall._force){return u.CFInstall._forceValue}if(navigator.userAgent.toLowerCase().indexOf("chromeframe")>=0){return true}if(typeof window.ActiveXObject!="undefined"){try{var e=new ActiveXObject("ChromeTab.ChromeFrame");if(e){e.registerBhoIfNeeded();return true}}catch(d){}}return false},r=function(e){try{var d=document.createElement("style");d.setAttribute("type","text/css");if(d.styleSheet){d.styleSheet.cssText=e}else{d.appendChild(document.createTextNode(e))}var h=document.getElementsByTagName("head")[0];h.insertBefore(d,h.firstChild)}catch(f){}},q=false,p=false,g=function(){if(!p){r(".chromeFrameOverlayContent { display: none; }.chromeFrameOverlayUnderlay { display: none; }");document.cookie="disableGCFCheck=1;path=/;max-age=31536000000";p=true}},c=function(e){var d=document.createElement("iframe");d.setAttribute("frameborder","0");d.setAttribute("border","0");var f=t(e.node);d.id=e.id||(f?f.id||getUid(f):"");d.style.cssText=" "+(e.cssText||"");d.className=e.className||"";d.src=e.src||"about:blank";f&&f.parentNode.replaceChild(d,f);return d},b=function(d){d.className="chromeFrameInstallDefaultStyle "+(d.className||"");d=c(d);d.parentNode||document.body.insertBefore(d,document.body.firstChild)},a=function(e){if(!t("chromeFrameOverlayContent")){var d=document.createElement("span");d.innerHTML='<div class="chromeFrameOverlayUnderlay"></div><table class="chromeFrameOverlayContent"id="chromeFrameOverlayContent"cellpadding="0" cellspacing="0"><tr class="chromeFrameOverlayCloseBar"><td><button id="chromeFrameCloseButton">close</button></td></tr><tr><td id="chromeFrameIframeHolder"></td></tr></table>';for(var f=document.body;d.firstChild;){f.insertBefore(d.lastChild,f.firstChild)}e=c(e);t("chromeFrameIframeHolder").appendChild(e);t("chromeFrameCloseButton").onclick=g}},v={};v.check=function(e){e=e||{};var d=navigator.userAgent,i=/MSIE (\S+); Windows NT/,f=false;if(i.test(d)){if(parseFloat(i.exec(d)[1])<6&&d.indexOf("SV1")<0){f=true}}else{f=true}if(!f){if(!q){r('.chromeFrameInstallDefaultStyle {width: 800px;height: 600px;position: absolute;}.chromeFrameOverlayContent {position: absolute;border: 1px solid #93B4D9;background-color: white;z-index: 2001;}.chromeFrameOverlayContent iframe {width: 800px;height: 600px;border: none;}.chromeFrameOverlayCloseBar {height: 1em;text-align: right;background-color: #CADEF4;}.chromeFrameOverlayUnderlay {position: absolute;width: 100%;height: 100%;background-color: white;opacity: 0.5;-moz-opacity: 0.5;-webkit-opacity: 0.5;-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter: alpha(opacity=50);z-index: 2000;}');q=true}document.cookie.indexOf("disableGCFCheck=1")>=0&&g();d=(document.location.protocol=="https:"?"https:":"http:")+"//www.google.com/chromeframe";if(!s()){e.onmissing&&e.onmissing();e.src=e.url||d;d=e.mode||"inline";if(!(e.preventPrompt||0)){if(d=="inline"){b(e)}else{d=="overlay"?a(e):window.open(e.src)}}if(!e.preventInstallDetection){var h=setInterval(function(){if(s()){e.oninstall&&e.oninstall();clearInterval(h);window.location=e.destination||window.location}},2000)}}}if(!s()&&document.getElementById("kuda")){alert("This page requires Chrome Frame to work properly. Please install it, and try again")}};v._force=false;v._forceValue=false;v.isAvailable=s;u.CFInstall=v}})(this.ChromeFrameInstallScope||this);
</script>
<script type="text/javascript">
(function(v){var u="0.3.4",t="hasOwnProperty",s=/[\.\/]/,r="*",q=function(){},p=function(d,c){return d-c},o,n,m={n:{}},l=function(D,C){var B=m,A=n,z=Array.prototype.slice.call(arguments,2),y=l.listeners(D),x=0,w=!1,k,j=[],i={},h=[],g=o,G=[];o=D,n=0;for(var F=0,E=y.length;F<E;F++){"zIndex" in y[F]&&(j.push(y[F].zIndex),y[F].zIndex<0&&(i[y[F].zIndex]=y[F]))}j.sort(p);while(j[x]<0){k=i[j[x++]],h.push(k.apply(C,z));if(n){n=A;return h}}for(F=0;F<E;F++){k=y[F];if("zIndex" in k){if(k.zIndex==j[x]){h.push(k.apply(C,z));if(n){break}do{x++,k=i[j[x]],k&&h.push(k.apply(C,z));if(n){break}}while(k)}else{i[k.zIndex]=k}}else{h.push(k.apply(C,z));if(n){break}}}n=A,o=g;return h.length?h:null};l.listeners=function(F){var E=F.split(s),D=m,C,B,A,z,y,x,w,j,e=[D],d=[];for(z=0,y=E.length;z<y;z++){j=[];for(x=0,w=e.length;x<w;x++){D=e[x].n,B=[D[E[z]],D[r]],A=2;while(A--){C=B[A],C&&(j.push(C),d=d.concat(C.f||[]))}}e=j}return d},l.on=function(f,d){var w=f.split(s),k=m;for(var j=0,i=w.length;j<i;j++){k=k.n,!k[w[j]]&&(k[w[j]]={n:{}}),k=k[w[j]]}k.f=k.f||[];for(j=0,i=k.f.length;j<i;j++){if(k.f[j]==d){return q}}k.f.push(d);return function(b){+b==+b&&(d.zIndex=+b)}},l.stop=function(){n=1},l.nt=function(b){if(b){return(new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)")).test(o)}return o},l.off=l.unbind=function(D,C){var B=D.split(s),A,z,y,x,w,j,e,d=[m];for(x=0,w=B.length;x<w;x++){for(j=0;j<d.length;j+=y.length-2){y=[j,1],A=d[j].n;if(B[x]!=r){A[B[x]]&&y.push(A[B[x]])}else{for(z in A){A[t](z)&&y.push(A[z])}}d.splice.apply(d,y)}}for(x=0,w=d.length;x<w;x++){A=d[x];while(A.n){if(C){if(A.f){for(j=0,e=A.f.length;j<e;j++){if(A.f[j]==C){A.f.splice(j,1);break}}!A.f.length&&delete A.f}for(z in A.n){if(A.n[t](z)&&A.n[z].f){var c=A.n[z].f;for(j=0,e=c.length;j<e;j++){if(c[j]==C){c.splice(j,1);break}}!c.length&&delete A.n[z].f}}}else{delete A.f;for(z in A.n){A.n[t](z)&&A.n[z].f&&delete A.n[z].f}}A=A.n}}},l.once=function(e,d){var f=function(){var a=d.apply(this,arguments);l.unbind(e,f);return a};return l.on(e,f)},l.version=u,l.toString=function(){return"You are running Eve "+u},typeof module!="undefined"&&module.exports?module.exports=l:typeof define!="undefined"?define("eve",[],function(){return l}):v.eve=l})(this),function(){function cX(d){for(var c=0;c<ab.length;c++){ab[c].el.paper==d&&ab.splice(c--,1)}}function c0(br,bq,bp,bo,bn,bm){bp=c4(bp);var bl,bk,bj,bi=[],bh,bg,be,bb=br.ms,Z={},X={},V={};if(bo){for(Q=0,C=ab.length;Q<C;Q++){var T=ab[Q];if(T.el.id==bq.id&&T.anim==br){T.percent!=bp?(ab.splice(Q,1),bj=1):bk=T,bq.attr(T.totalOrigin);break}}}else{bo=+X}for(var Q=0,C=br.percents.length;Q<C;Q++){if(br.percents[Q]==bp||br.percents[Q]>bo*br.top){bp=br.percents[Q],bg=br.percents[Q-1]||0,bb=bb/br.top*(bp-bg),bh=br.percents[Q+1],bl=br.anim[bp];break}bo&&bq.attr(br.anim[br.percents[Q]])}if(!!bl){if(!bk){for(var bf in bl){if(bl[aV](bf)){if(cS[aV](bf)||bq.paper.customAttributes[aV](bf)){Z[bf]=bq.attr(bf),Z[bf]==null&&(Z[bf]=cV[bf]),X[bf]=bl[bf];switch(cS[bf]){case dv:V[bf]=(X[bf]-Z[bf])/bb;break;case"colour":Z[bf]=a8.getRGB(Z[bf]);var bd=a8.getRGB(X[bf]);V[bf]={r:(bd.r-Z[bf].r)/bb,g:(bd.g-Z[bf].g)/bb,b:(bd.b-Z[bf].b)/bb};break;case"path":var bc=dA(Z[bf],X[bf]),ba=bc[1];Z[bf]=bc[0],V[bf]=[];for(Q=0,C=Z[bf].length;Q<C;Q++){V[bf][Q]=[0];for(var Y=1,W=Z[bf][Q].length;Y<W;Y++){V[bf][Q][Y]=(ba[Q][Y]-Z[bf][Q][Y])/bb}}break;case"transform":var U=bq._,S=aM(U[bf],X[bf]);if(S){Z[bf]=S.from,X[bf]=S.to,V[bf]=[],V[bf].real=!0;for(Q=0,C=Z[bf].length;Q<C;Q++){V[bf][Q]=[Z[bf][Q][0]];for(Y=1,W=Z[bf][Q].length;Y<W;Y++){V[bf][Q][Y]=(X[bf][Q][Y]-Z[bf][Q][Y])/bb}}}else{var N=bq.matrix||new aL,s={_:{transform:U.transform},getBBox:function(){return bq.getBBox(1)}};Z[bf]=[N.a,N.b,N.c,N.d,N.e,N.f],dT(s,X[bf]),X[bf]=s._.transform,V[bf]=[(s.matrix.a-N.a)/bb,(s.matrix.b-N.b)/bb,(s.matrix.c-N.c)/bb,(s.matrix.d-N.d)/bb,(s.matrix.e-N.e)/bb,(s.matrix.f-N.f)/bb]}break;case"csv":var r=aF(bl[bf])[aD](a3),n=aF(Z[bf])[aD](a3);if(bf=="clip-rect"){Z[bf]=n,V[bf]=[],Q=n.length;while(Q--){V[bf][Q]=(r[Q]-Z[bf][Q])/bb}}X[bf]=r;break;default:r=[][aN](bl[bf]),n=[][aN](Z[bf]),V[bf]=[],Q=bq.paper.customAttributes[bf].length;while(Q--){V[bf][Q]=((r[Q]||0)-(n[Q]||0))/bb}}}}}var g=bl.easing,c=a8.easing_formulas[g];if(!c){c=aF(g).match(dc);if(c&&c.length==5){var a=c;c=function(b){return c6(b,+a[1],+a[2],+a[3],+a[4],bb)}}else{c=cU}}be=bl.start||br.start||+(new Date),T={anim:br,percent:bp,timestamp:be,start:be+(br.del||0),status:0,initstatus:bo||0,stop:!1,ms:bb,easing:c,from:Z,diff:V,to:X,el:bq,callback:bl.callback,prev:bg,next:bh,repeat:bm||br.times,origin:bq.attr(),totalOrigin:bn},ab.push(T);if(bo&&!bk&&!bj){T.stop=!0,T.start=new Date-bb*bo;if(ab.length==1){return db()}}bj&&(T.start=new Date-T.ms*bo),ab.length==1&&aa(db)}else{bk.initstatus=bo,bk.start=new Date-bk.ms*bo}eve("raphael.anim.start."+bq.id,bq,br)}}function c3(g,f){var j=[],i={};this.ms=f,this.times=1;if(g){for(var h in g){g[aV](h)&&(i[c4(h)]=g[h],j.push(c4(h)))}j.sort(cZ)}this.anim=i,this.top=j[j.length-1],this.percents=j}function c6(D,C,B,A,z,y){function p(h,g){var E,o,n,m,l,i;for(n=h,i=0;i<8;i++){m=r(n)-h;if(ao(m)<g){return n}l=(3*v*n+2*w)*n+x;if(ao(l)<0.000001){break}n=n-m/l}E=0,o=1,n=h;if(n<E){return E}if(n>o){return o}while(E<o){m=r(n);if(ao(m-h)<g){return n}h>m?E=n:o=n,n=(o-E)/2+E}return n}function q(e,d){var f=p(e,d);return((s*f+t)*f+u)*f}function r(b){return((v*b+w)*b+x)*b}var x=3*C,w=3*(A-C)-x,v=1-x-w,u=3*B,t=3*(z-B)-u,s=1-u-t;return q(D,1/(200*y))}function aj(){return this.x+aH+this.y+aH+this.width+" � "+this.height}function ak(){return this.x+aH+this.y}function aL(h,g,l,k,j,i){h!=null?(this.a=+h,this.b=+g,this.c=+l,this.d=+k,this.e=+j,this.f=+i):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function dK(T,S,R){T=a8._path2curve(T),S=a8._path2curve(S);var Q,P,O,N,M,L,K,J,I,H,G=R?0:[];for(var F=0,E=T.length;F<E;F++){var D=T[F];if(D[0]=="M"){Q=M=D[1],P=L=D[2]}else{D[0]=="C"?(I=[Q,P].concat(D.slice(1)),Q=I[6],P=I[7]):(I=[Q,P,Q,P,M,L,M,L],Q=M,P=L);for(var C=0,B=S.length;C<B;C++){var A=S[C];if(A[0]=="M"){O=K=A[1],N=J=A[2]}else{A[0]=="C"?(H=[O,N].concat(A.slice(1)),O=H[6],N=H[7]):(H=[O,N,O,N,K,J,K,J],O=K,N=J);var z=dL(I,H,R);if(R){G+=z}else{for(var y=0,a=z.length;y<a;y++){z[y].segment1=F,z[y].segment2=C,z[y].bez1=I,z[y].bez2=H}G=G.concat(z)}}}}}return G}function dL(X,W,V){var U=a8.bezierBBox(X),T=a8.bezierBBox(W);if(!a8.isBBoxIntersect(U,T)){return V?0:[]}var S=dQ.apply(0,X),R=dQ.apply(0,W),Q=~~(S/5),P=~~(R/5),O=[],N=[],M={},L=V?0:[];for(var K=0;K<Q+1;K++){var J=a8.findDotsAtSegment.apply(a8,X.concat(K/Q));O.push({x:J.x,y:J.y,t:K/Q})}for(K=0;K<P+1;K++){J=a8.findDotsAtSegment.apply(a8,W.concat(K/P)),N.push({x:J.x,y:J.y,t:K/P})}for(K=0;K<Q;K++){for(var H=0;H<P;H++){var G=O[K],F=O[K+1],E=N[H],D=N[H+1],C=ao(F.x-G.x)<0.001?"y":"x",B=ao(D.x-E.x)<0.001?"y":"x",z=dO(G.x,G.y,F.x,F.y,E.x,E.y,D.x,D.y);if(z){if(M[z.x.toFixed(4)]==z.y.toFixed(4)){continue}M[z.x.toFixed(4)]=z.y.toFixed(4);var a=G.t+ao((z[C]-G[C])/(F[C]-G[C]))*(F.t-G.t),I=E.t+ao((z[B]-E[B])/(D[B]-E[B]))*(D.t-E.t);a>=0&&a<=1&&I>=0&&I<=1&&(V?L++:L.push({x:z.x,y:z.y,t1:a,t2:I}))}}}return L}function dM(d,c){return dL(d,c,1)}function dN(d,c){return dL(d,c)}function dO(D,C,B,A,z,y,x,w){if(!(at(D,B)<aq(z,x)||aq(D,B)>at(z,x)||at(C,A)<aq(y,w)||aq(C,A)>at(y,w))){var v=(D*A-C*B)*(z-x)-(D-B)*(z*w-y*x),u=(D*A-C*B)*(y-w)-(C-A)*(z*w-y*x),t=(D-B)*(y-w)-(C-A)*(z-x);if(!t){return}var s=v/t,r=u/t,q=+s.toFixed(2),p=+r.toFixed(2);if(q<+aq(D,B).toFixed(2)||q>+at(D,B).toFixed(2)||q<+aq(z,x).toFixed(2)||q>+at(z,x).toFixed(2)||p<+aq(C,A).toFixed(2)||p>+at(C,A).toFixed(2)||p<+aq(y,w).toFixed(2)||p>+at(y,w).toFixed(2)){return}return{x:s,y:r}}}function dP(B,A,z,y,x,w,v,u,t){if(!(t<0||dQ(B,A,z,y,x,w,v,u)<t)){var s=1,r=s/2,q=s-r,p,o=0.01;p=dQ(B,A,z,y,x,w,v,u,q);while(ao(p-t)>o){r/=2,q+=(p<t?1:-1)*r,p=dQ(B,A,z,y,x,w,v,u,q)}return q}}function dQ(L,K,J,I,H,G,F,E,D){D==null&&(D=1),D=D>1?1:D<0?0:D;var C=D/2,B=12,A=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],z=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],y=0;for(var x=0;x<B;x++){var w=C*A[x]+C,v=dR(w,L,J,H,F),u=dR(w,K,I,G,E),t=v*v+u*u;y+=z[x]*av.sqrt(t)}return C*y}function dR(i,h,n,m,l){var k=-3*h+9*n-9*m+3*l,j=i*k+6*h-12*n+6*m;return i*j-3*h+3*n}function aW(h,g){var l=[];for(var k=0,j=h.length;j-2*!g>k;k+=2){var i=[{x:+h[k-2],y:+h[k-1]},{x:+h[k],y:+h[k+1]},{x:+h[k+2],y:+h[k+3]},{x:+h[k+4],y:+h[k+5]}];g?k?j-4==k?i[3]={x:+h[0],y:+h[1]}:j-2==k&&(i[2]={x:+h[0],y:+h[1]},i[3]={x:+h[2],y:+h[3]}):i[0]={x:+h[j-2],y:+h[j-1]}:j-4==k?i[3]=i[2]:k||(i[0]={x:+h[k],y:+h[k+1]}),l.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return l}function aY(){return this.hex}function a2(f,e,h){function g(){var d=Array.prototype.slice.call(arguments,0),c=d.join("?"),b=g.cache=g.cache||{},a=g.count=g.count||[];if(b[aV](c)){a4(a,c);return h?h(b[c]):b[c]}a.length>=1000&&delete b[a.shift()],a.push(c),b[c]=f[aO](e,d);return h?h(b[c]):b[c]}return g}function a4(f,e){for(var h=0,g=f.length;h<g;h++){if(f[h]===e){return f.push(f.splice(h,1)[0])}}}function b5(e){if(Object(e)!==e){return e}var d=new e.constructor;for(var f in e){e[aV](f)&&(d[f]=b5(e[f]))}return d}function a8(f){if(a8.is(f,"function")){return a6?f():eve.on("raphael.DOMload",f)}if(a8.is(f,dr)){return a8._engine.create[aO](a8,f.splice(0,3+a8.is(f[0],dv))).add(f)}var b=Array.prototype.slice.call(arguments,0);if(a8.is(b[b.length-1],"function")){var a=b.pop();return a6?a.call(a8._engine.create[aO](a8,b)):eve.on("raphael.DOMload",function(){a.call(a8._engine.create[aO](a8,b))})}return a8._engine.create[aO](a8,arguments)}a8.version="2.1.0",a8.eve=eve;var a6,a3=/[, ]+/,a1={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},a0=/\{(\d+)\}/g,aX="prototype",aV="hasOwnProperty",aU={doc:document,win:window},aS={was:Object.prototype[aV].call(aU.win,"Raphael"),is:aU.win.Raphael},aR=function(){this.ca=this.customAttributes={}},aQ,aP="appendChild",aO="apply",aN="concat",aK="createTouch" in aU.doc,aJ="",aH=" ",aF=String,aD="split",aB="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[aD](aH),az={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ax=aF.prototype.toLowerCase,av=Math,at=av.max,aq=av.min,ao=av.abs,dz=av.pow,dx=av.PI,dv="number",dt="string",dr="array",dp="toString",dm="fill",dk=Object.prototype.toString,di={},dh="push",dg=a8._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,df=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,de={NaN:1,Infinity:1,"-Infinity":1},dc=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,da=av.round,c7="setAttribute",c4=parseFloat,c1=parseInt,cY=aF.prototype.toUpperCase,cV=a8._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},cS=a8._availableAnimAttrs={blur:dv,"clip-rect":"csv",cx:dv,cy:dv,fill:"colour","fill-opacity":dv,"font-size":dv,height:dv,opacity:dv,path:"path",r:dv,rx:dv,ry:dv,stroke:"colour","stroke-opacity":dv,"stroke-width":dv,transform:"transform",width:dv,x:dv,y:dv},cP=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,cM=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,cK={hs:1,rg:1},b9=/,?([achlmqrstvxz]),?/gi,b7=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,dS=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,b1=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,c9=a8._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,c5={},c2=function(d,c){return d.key-c.key},cZ=function(d,c){return c4(d)-c4(c)},cW=function(){},cU=function(b){return b},cR=a8._rectPath=function(g,f,j,i,h){if(h){return[["M",g+h,f],["l",j-h*2,0],["a",h,h,0,0,1,h,h],["l",0,i-h*2],["a",h,h,0,0,1,-h,h],["l",h*2-j,0],["a",h,h,0,0,1,-h,-h],["l",0,h*2-i],["a",h,h,0,0,1,h,-h],["z"]]}return[["M",g,f],["l",j,0],["l",0,i],["l",-j,0],["z"]]},cO=function(f,e,h,g){g==null&&(g=h);return[["M",f,e],["m",0,-g],["a",h,g,0,1,1,0,2*g],["a",h,g,0,1,1,0,-2*g],["z"]]},cL=a8._getPath={path:function(b){return b.attr("path")},circle:function(d){var c=d.attrs;return cO(c.cx,c.cy,c.r)},ellipse:function(d){var c=d.attrs;return cO(c.cx,c.cy,c.rx,c.ry)},rect:function(d){var c=d.attrs;return cR(c.x,c.y,c.width,c.height,c.r)},image:function(d){var c=d.attrs;return cR(c.x,c.y,c.width,c.height)},text:function(d){var c=d._getBBox();return cR(c.x,c.y,c.width,c.height)}},cJ=a8.mapPath=function(r,q){if(!q){return r}var p,o,n,m,l,k,j;r=dA(r);for(n=0,l=r.length;n<l;n++){j=r[n];for(m=1,k=j.length;m<k;m+=2){p=q.x(j[m],j[m+1]),o=q.y(j[m],j[m+1]),j[m]=p,j[m+1]=o}}return r};a8._g=aU,a8.type=aU.win.SVGAngle||aU.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a8.type=="VML"){var b8=aU.doc.createElement("div"),b6;b8.innerHTML='<v:shape adj="1"/>',b6=b8.firstChild,b6.style.behavior="url(#default#VML)";if(!b6||typeof b6.adj!="object"){return a8.type=aJ}b8=null}a8.svg=!(a8.vml=a8.type=="VML"),a8._Paper=aR,a8.fn=aQ=aR.prototype=a8.prototype,a8._id=0,a8._oid=0,a8.is=function(d,c){c=ax.call(c);if(c=="finite"){return !de[aV](+d)}if(c=="array"){return d instanceof Array}return c=="null"&&d===null||c==typeof d&&d!==null||c=="object"&&d===Object(d)||c=="array"&&Array.isArray&&Array.isArray(d)||dk.call(d).slice(8,-1).toLowerCase()==c},a8.angle=function(a,p,o,n,m,l){if(m==null){var k=a-o,j=p-n;if(!k&&!j){return 0}return(180+av.atan2(-j,-k)*180/dx+360)%360}return a8.angle(a,p,m,l)-a8.angle(o,n,m,l)},a8.rad=function(b){return b%360*dx/180},a8.deg=function(b){return b*180/dx%360},a8.snapTo=function(a,j,i){i=a8.is(i,"finite")?i:10;if(a8.is(a,dr)){var h=a.length;while(h--){if(ao(a[h]-j)<=i){return a[h]}}}else{a=+a;var g=j%a;if(g<i){return j-g}if(g>a-i){return j-g+a}}return j};var b4=a8.createUUID=function(d,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(d,c).toUpperCase()}}(/[xy]/g,function(e){var d=av.random()*16|0,f=e=="x"?d:d&3|8;return f.toString(16)});a8.setWindow=function(a){eve("raphael.setWindow",a8,aU.win,a),aU.win=a,aU.doc=aU.win.document,a8._engine.initWin&&a8._engine.initWin(aU.win)};var b3=function(a){if(a8.vml){var n=/^\s+|\s+$/g,m;try{var l=new ActiveXObject("htmlfile");l.write("<body>"),l.close(),m=l.body}catch(k){m=createPopup().document.body}var j=m.createTextRange();b3=a2(function(d){try{m.style.color=aF(d).replace(n,aJ);var c=j.queryCommandValue("ForeColor");c=(c&255)<<16|c&65280|(c&16711680)>>>16;return"#"+("000000"+c.toString(16)).slice(-6)}catch(f){return"none"}})}else{var h=aU.doc.createElement("i");h.title="Rapha�l Colour Picker",h.style.display="none",aU.doc.body.appendChild(h),b3=a2(function(b){h.style.color=b;return aU.doc.defaultView.getComputedStyle(h,aJ).getPropertyValue("color")})}return b3(a)},b2=function(){return"hsb("+[this.h,this.s,this.b]+")"},b0=function(){return"hsl("+[this.h,this.s,this.l]+")"},a9=function(){return this.hex},a7=function(a,h,g){h==null&&a8.is(a,"object")&&"r" in a&&"g" in a&&"b" in a&&(g=a.b,h=a.g,a=a.r);if(h==null&&a8.is(a,dt)){var f=a8.getRGB(a);a=f.r,h=f.g,g=f.b}if(a>1||h>1||g>1){a/=255,h/=255,g/=255}return[a,h,g]},a5=function(a,j,i,h){a*=255,j*=255,i*=255;var g={r:a,g:j,b:i,hex:a8.rgb(a,j,i),toString:a9};a8.is(h,"finite")&&(g.opacity=h);return g};a8.color=function(a){var d;a8.is(a,"object")&&"h" in a&&"s" in a&&"b" in a?(d=a8.hsb2rgb(a),a.r=d.r,a.g=d.g,a.b=d.b,a.hex=d.hex):a8.is(a,"object")&&"h" in a&&"s" in a&&"l" in a?(d=a8.hsl2rgb(a),a.r=d.r,a.g=d.g,a.b=d.b,a.hex=d.hex):(a8.is(a,"string")&&(a=a8.getRGB(a)),a8.is(a,"object")&&"r" in a&&"g" in a&&"b" in a?(d=a8.rgb2hsl(a),a.h=d.h,a.s=d.s,a.l=d.l,d=a8.rgb2hsb(a),a.v=d.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=a9;return a},a8.hsb2rgb=function(r,q,p,o){this.is(r,"object")&&"h" in r&&"s" in r&&"b" in r&&(p=r.b,q=r.s,r=r.h,o=r.o),r*=360;var n,m,l,k,j;r=r%360/60,j=p*q,k=j*(1-ao(r%2-1)),n=m=l=p-j,r=~~r,n+=[j,k,0,0,k,j][r],m+=[k,j,j,k,0,0][r],l+=[0,0,k,j,j,k][r];return a5(n,m,l,o)},a8.hsl2rgb=function(r,q,p,o){this.is(r,"object")&&"h" in r&&"s" in r&&"l" in r&&(p=r.l,q=r.s,r=r.h);if(r>1||q>1||p>1){r/=360,q/=100,p/=100}r*=360;var n,m,l,k,j;r=r%360/60,j=2*q*(p<0.5?p:1-p),k=j*(1-ao(r%2-1)),n=m=l=p-j/2,r=~~r,n+=[j,k,0,0,k,j][r],m+=[k,j,j,k,0,0][r],l+=[0,0,k,j,j,k][r];return a5(n,m,l,o)},a8.rgb2hsb=function(i,h,n){n=a7(i,h,n),i=n[0],h=n[1],n=n[2];var m,l,k,j;k=at(i,h,n),j=k-aq(i,h,n),m=j==0?null:k==i?(h-n)/j:k==h?(n-i)/j+2:(i-h)/j+4,m=(m+360)%6*60/360,l=j==0?0:j/k;return{h:m,s:l,b:k,toString:b2}},a8.rgb2hsl=function(r,q,p){p=a7(r,q,p),r=p[0],q=p[1],p=p[2];var o,n,m,l,k,j;l=at(r,q,p),k=aq(r,q,p),j=l-k,o=j==0?null:l==r?(q-p)/j:l==q?(p-r)/j+2:(r-q)/j+4,o=(o+360)%6*60/360,m=(l+k)/2,n=j==0?0:m<0.5?j/(2*m):j/(2-2*m);return{h:o,s:n,l:m,toString:b0}},a8._path2string=function(){return this.join(",").replace(b9,"$1")};var aZ=a8._preload=function(e,d){var f=aU.doc.createElement("img");f.style.cssText="position:absolute;left:-9999em;top:-9999em",f.onload=function(){d.call(this),this.onload=null,aU.doc.body.removeChild(this)},f.onerror=function(){aU.doc.body.removeChild(this)},aU.doc.body.appendChild(f),f.src=e};a8.getRGB=a2(function(r){if(!r||!!((r=aF(r)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aY}}if(r=="none"){return{r:-1,g:-1,b:-1,hex:"none",toString:aY}}!cK[aV](r.toLowerCase().substring(0,2))&&r.charAt()!="#"&&(r=b3(r));var q,p,o,n,m,l,g,a=r.match(df);if(a){a[2]&&(n=c1(a[2].substring(5),16),o=c1(a[2].substring(3,5),16),p=c1(a[2].substring(1,3),16)),a[3]&&(n=c1((l=a[3].charAt(3))+l,16),o=c1((l=a[3].charAt(2))+l,16),p=c1((l=a[3].charAt(1))+l,16)),a[4]&&(g=a[4][aD](cM),p=c4(g[0]),g[0].slice(-1)=="%"&&(p*=2.55),o=c4(g[1]),g[1].slice(-1)=="%"&&(o*=2.55),n=c4(g[2]),g[2].slice(-1)=="%"&&(n*=2.55),a[1].toLowerCase().slice(0,4)=="rgba"&&(m=c4(g[3])),g[3]&&g[3].slice(-1)=="%"&&(m/=100));if(a[5]){g=a[5][aD](cM),p=c4(g[0]),g[0].slice(-1)=="%"&&(p*=2.55),o=c4(g[1]),g[1].slice(-1)=="%"&&(o*=2.55),n=c4(g[2]),g[2].slice(-1)=="%"&&(n*=2.55),(g[0].slice(-3)=="deg"||g[0].slice(-1)=="�")&&(p/=360),a[1].toLowerCase().slice(0,4)=="hsba"&&(m=c4(g[3])),g[3]&&g[3].slice(-1)=="%"&&(m/=100);return a8.hsb2rgb(p,o,n,m)}if(a[6]){g=a[6][aD](cM),p=c4(g[0]),g[0].slice(-1)=="%"&&(p*=2.55),o=c4(g[1]),g[1].slice(-1)=="%"&&(o*=2.55),n=c4(g[2]),g[2].slice(-1)=="%"&&(n*=2.55),(g[0].slice(-3)=="deg"||g[0].slice(-1)=="�")&&(p/=360),a[1].toLowerCase().slice(0,4)=="hsla"&&(m=c4(g[3])),g[3]&&g[3].slice(-1)=="%"&&(m/=100);return a8.hsl2rgb(p,o,n,m)}a={r:p,g:o,b:n,toString:aY},a.hex="#"+(16777216|n|o<<8|p<<16).toString(16).slice(1),a8.is(m,"finite")&&(a.opacity=m);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aY}},a8),a8.hsb=a2(function(a,f,e){return a8.hsb2rgb(a,f,e).hex}),a8.hsl=a2(function(a,f,e){return a8.hsl2rgb(a,f,e).hex}),a8.rgb=a2(function(e,d,f){return"#"+(16777216|f|d<<8|e<<16).toString(16).slice(1)}),a8.getColor=function(e){var d=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},f=this.hsb2rgb(d.h,d.s,d.b);d.h+=0.075,d.h>1&&(d.h=0,d.s-=0.2,d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b}));return f.hex},a8.getColor.reset=function(){delete this.start},a8.parsePathString=function(a){if(!a){return null}var h=aT(a);if(h.arr){return dI(h.arr)}var g={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},f=[];a8.is(a,dr)&&a8.is(a[0],dr)&&(f=dI(a)),f.length||aF(a).replace(b7,function(e,d,k){var j=[],i=d.toLowerCase();k.replace(b1,function(l,c){c&&j.push(+c)}),i=="m"&&j.length>2&&(f.push([d][aN](j.splice(0,2))),i="l",d=d=="m"?"l":"L");if(i=="r"){f.push([d][aN](j))}else{while(j.length>=g[i]){f.push([d][aN](j.splice(0,g[i])));if(!g[i]){break}}}}),f.toString=a8._path2string,h.arr=dI(f);return f},a8.parseTransformString=a2(function(a){if(!a){return null}var f={r:3,s:4,t:2,m:6},e=[];a8.is(a,dr)&&a8.is(a[0],dr)&&(e=dI(a)),e.length||aF(a).replace(dS,function(g,d,j){var i=[],h=ax.call(d);j.replace(b1,function(k,c){c&&i.push(+c)}),e.push([d][aN](i))}),e.toString=a8._path2string;return e});var aT=function(d){var c=aT.ps=aT.ps||{};c[d]?c[d].sleep=100:c[d]={sleep:100},setTimeout(function(){for(var a in c){c[aV](a)&&a!=d&&(c[a].sleep--,!c[a].sleep&&delete c[a])}});return c[d]};a8.findDotsAtSegment=function(X,W,V,U,T,S,R,Q,P){var O=1-P,N=dz(O,3),M=dz(O,2),L=P*P,K=L*P,J=N*X+M*3*P*V+O*3*P*P*T+K*R,I=N*W+M*3*P*U+O*3*P*P*S+K*Q,H=X+2*P*(V-X)+L*(T-2*V+X),G=W+2*P*(U-W)+L*(S-2*U+W),F=V+2*P*(T-V)+L*(R-2*T+V),E=U+2*P*(S-U)+L*(Q-2*S+U),D=O*X+P*V,C=O*W+P*U,B=O*T+P*R,A=O*S+P*Q,w=90-av.atan2(H-F,G-E)*180/dx;(H>F||G<E)&&(w+=180);return{x:J,y:I,m:{x:H,y:G},n:{x:F,y:E},start:{x:D,y:C},end:{x:B,y:A},alpha:w}},a8.bezierBBox=function(r,q,p,o,n,m,l,k){a8.is(r,"array")||(r=[r,q,p,o,n,m,l,k]);var a=dB.apply(null,r);return{x:a.min.x,y:a.min.y,x2:a.max.x,y2:a.max.y,width:a.max.x-a.min.x,height:a.max.y-a.min.y}},a8.isPointInsideBBox=function(e,d,f){return d>=e.x&&d<=e.x2&&f>=e.y&&f<=e.y2},a8.isBBoxIntersect=function(a,f){var e=a8.isPointInsideBBox;return e(f,a.x,a.y)||e(f,a.x2,a.y)||e(f,a.x,a.y2)||e(f,a.x2,a.y2)||e(a,f.x,f.y)||e(a,f.x2,f.y)||e(a,f.x,f.y2)||e(a,f.x2,f.y2)||(a.x<f.x2&&a.x>f.x||f.x<a.x2&&f.x>a.x)&&(a.y<f.y2&&a.y>f.y||f.y<a.y2&&f.y>a.y)},a8.pathIntersection=function(d,c){return dK(d,c)},a8.pathIntersectionNumber=function(d,c){return dK(d,c,1)},a8.isPointInsidePath=function(a,h,g){var f=a8.pathBBox(a);return a8.isPointInsideBBox(f,h,g)&&dK(a,[["M",h,g],["H",f.x2+10]],1)%2==1},a8._removedFactory=function(b){return function(){eve("raphael.log",null,"Rapha�l: you are calling to method �"+b+"� of removed object",b)}};var dJ=a8.pathBBox=function(D){var C=aT(D);if(C.bbox){return b5(C.bbox)}if(!D){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}D=dA(D);var B=0,A=0,z=[],y=[],x;for(var w=0,v=D.length;w<v;w++){x=D[w];if(x[0]=="M"){B=x[1],A=x[2],z.push(B),y.push(A)}else{var u=dB(B,A,x[1],x[2],x[3],x[4],x[5],x[6]);z=z[aN](u.min.x,u.max.x),y=y[aN](u.min.y,u.max.y),B=x[5],A=x[6]}}var t=aq[aO](0,z),s=aq[aO](0,y),r=at[aO](0,z),n=at[aO](0,y),m={x:t,y:s,x2:r,y2:n,width:r-t,height:n-s};C.bbox=b5(m);return m},dI=function(a){var d=b5(a);d.toString=a8._path2string;return d},dH=a8._pathToRelative=function(H){var G=aT(H);if(G.rel){return dI(G.rel)}if(!a8.is(H,dr)||!a8.is(H&&H[0],dr)){H=a8.parsePathString(H)}var F=[],E=0,D=0,C=0,B=0,A=0;H[0][0]=="M"&&(E=H[0][1],D=H[0][2],C=E,B=D,A++,F.push(["M",E,D]));for(var z=A,y=H.length;z<y;z++){var x=F[z]=[],w=H[z];if(w[0]!=ax.call(w[0])){x[0]=ax.call(w[0]);switch(x[0]){case"a":x[1]=w[1],x[2]=w[2],x[3]=w[3],x[4]=w[4],x[5]=w[5],x[6]=+(w[6]-E).toFixed(3),x[7]=+(w[7]-D).toFixed(3);break;case"v":x[1]=+(w[1]-D).toFixed(3);break;case"m":C=w[1],B=w[2];default:for(var v=1,u=w.length;v<u;v++){x[v]=+(w[v]-(v%2?E:D)).toFixed(3)}}}else{x=F[z]=[],w[0]=="m"&&(C=w[1]+E,B=w[2]+D);for(var t=0,s=w.length;t<s;t++){F[z][t]=w[t]}}var a=F[z].length;switch(F[z][0]){case"z":E=C,D=B;break;case"h":E+=+F[z][a-1];break;case"v":D+=+F[z][a-1];break;default:E+=+F[z][a-2],D+=+F[z][a-1]}}F.toString=a8._path2string,G.rel=dI(F);return F},dG=a8._pathToAbsolute=function(J){var I=aT(J);if(I.abs){return dI(I.abs)}if(!a8.is(J,dr)||!a8.is(J&&J[0],dr)){J=a8.parsePathString(J)}if(!J||!J.length){return[["M",0,0]]}var H=[],G=0,F=0,E=0,D=0,C=0;J[0][0]=="M"&&(G=+J[0][1],F=+J[0][2],E=G,D=F,C++,H[0]=["M",G,F]);var B=J.length==3&&J[0][0]=="M"&&J[1][0].toUpperCase()=="R"&&J[2][0].toUpperCase()=="Z";for(var A,z,y=C,x=J.length;y<x;y++){H.push(A=[]),z=J[y];if(z[0]!=cY.call(z[0])){A[0]=cY.call(z[0]);switch(A[0]){case"A":A[1]=z[1],A[2]=z[2],A[3]=z[3],A[4]=z[4],A[5]=z[5],A[6]=+(z[6]+G),A[7]=+(z[7]+F);break;case"V":A[1]=+z[1]+F;break;case"H":A[1]=+z[1]+G;break;case"R":var w=[G,F][aN](z.slice(1));for(var v=2,u=w.length;v<u;v++){w[v]=+w[v]+G,w[++v]=+w[v]+F}H.pop(),H=H[aN](aW(w,B));break;case"M":E=+z[1]+G,D=+z[2]+F;default:for(v=1,u=z.length;v<u;v++){A[v]=+z[v]+(v%2?G:F)}}}else{if(z[0]=="R"){w=[G,F][aN](z.slice(1)),H.pop(),H=H[aN](aW(w,B)),A=["R"][aN](z.slice(-2))}else{for(var n=0,a=z.length;n<a;n++){A[n]=z[n]}}}switch(A[0]){case"Z":G=E,F=D;break;case"H":G=A[1];break;case"V":F=A[1];break;case"M":E=A[A.length-2],D=A[A.length-1];default:G=A[A.length-2],F=A[A.length-1]}}H.toString=a8._path2string,I.abs=dI(H);return H},dF=function(f,e,h,g){return[f,e,h,g,h,g]},dE=function(j,i,p,o,n,m){var l=1/3,k=2/3;return[l*j+k*p,l*i+k*o,l*n+k*p,l*m+k*o,n,m]},dD=function(bL,bK,bJ,bI,bH,bG,bF,bE,bD,bC){var bB=dx*120/180,bA=dx/180*(+bH||0),bz=[],by,bx=a2(function(g,f,j){var i=g*av.cos(j)-f*av.sin(j),h=g*av.sin(j)+f*av.cos(j);return{x:i,y:h}});if(!bC){by=bx(bL,bK,-bA),bL=by.x,bK=by.y,by=bx(bE,bD,-bA),bE=by.x,bD=by.y;var bw=av.cos(dx/180*bH),bv=av.sin(dx/180*bH),bu=(bL-bE)/2,bt=(bK-bD)/2,bs=bu*bu/(bJ*bJ)+bt*bt/(bI*bI);bs>1&&(bs=av.sqrt(bs),bJ=bs*bJ,bI=bs*bI);var br=bJ*bJ,bq=bI*bI,bp=(bG==bF?-1:1)*av.sqrt(ao((br*bq-br*bt*bt-bq*bu*bu)/(br*bt*bt+bq*bu*bu))),bo=bp*bJ*bt/bI+(bL+bE)/2,bn=bp*-bI*bu/bJ+(bK+bD)/2,bm=av.asin(((bK-bn)/bI).toFixed(9)),bl=av.asin(((bD-bn)/bI).toFixed(9));bm=bL<bo?dx-bm:bm,bl=bE<bo?dx-bl:bl,bm<0&&(bm=dx*2+bm),bl<0&&(bl=dx*2+bl),bF&&bm>bl&&(bm=bm-dx*2),!bF&&bl>bm&&(bl=bl-dx*2)}else{bm=bC[0],bl=bC[1],bo=bC[2],bn=bC[3]}var bk=bl-bm;if(ao(bk)>bB){var bj=bl,bi=bE,bh=bD;bl=bm+bB*(bF&&bl>bm?1:-1),bE=bo+bJ*av.cos(bl),bD=bn+bI*av.sin(bl),bz=dD(bE,bD,bJ,bI,bH,0,bF,bi,bh,[bl,bj,bo,bn])}bk=bl-bm;var bg=av.cos(bm),bf=av.sin(bm),be=av.cos(bl),bd=av.sin(bl),bc=av.tan(bk/4),bb=4/3*bJ*bc,ba=4/3*bI*bc,Z=[bL,bK],Y=[bL+bb*bf,bK-ba*bg],B=[bE+bb*bd,bD-ba*be],z=[bE,bD];Y[0]=2*Z[0]-Y[0],Y[1]=2*Z[1]-Y[1];if(bC){return[Y,B,z][aN](bz)}bz=[Y,B,z][aN](bz).join()[aD](",");var w=[];for(var s=0,n=bz.length;s<n;s++){w[s]=s%2?bx(bz[s-1],bz[s],bA).y:bx(bz[s],bz[s+1],bA).x}return w},dC=function(t,s,r,q,p,o,n,m,l){var k=1-l;return{x:dz(k,3)*t+dz(k,2)*3*l*r+k*3*l*l*p+dz(l,3)*n,y:dz(k,3)*s+dz(k,2)*3*l*q+k*3*l*l*o+dz(l,3)*m}},dB=a2(function(F,E,D,C,B,A,z,y){var x=B-2*D+F-(z-2*B+D),w=2*(D-F)-2*(B-D),v=F-D,u=(-w+av.sqrt(w*w-4*x*v))/2/x,t=(-w-av.sqrt(w*w-4*x*v))/2/x,s=[E,y],r=[F,z],m;ao(u)>"1e12"&&(u=0.5),ao(t)>"1e12"&&(t=0.5),u>0&&u<1&&(m=dC(F,E,D,C,B,A,z,y,u),r.push(m.x),s.push(m.y)),t>0&&t<1&&(m=dC(F,E,D,C,B,A,z,y,t),r.push(m.x),s.push(m.y)),x=A-2*C+E-(y-2*A+C),w=2*(C-E)-2*(A-C),v=E-C,u=(-w+av.sqrt(w*w-4*x*v))/2/x,t=(-w-av.sqrt(w*w-4*x*v))/2/x,ao(u)>"1e12"&&(u=0.5),ao(t)>"1e12"&&(t=0.5),u>0&&u<1&&(m=dC(F,E,D,C,B,A,z,y,u),r.push(m.x),s.push(m.y)),t>0&&t<1&&(m=dC(F,E,D,C,B,A,z,y,t),r.push(m.x),s.push(m.y));return{min:{x:aq[aO](0,r),y:aq[aO](0,s)},max:{x:at[aO](0,r),y:at[aO](0,s)}}}),dA=a8._path2curve=a2(function(F,E){var D=!E&&aT(F);if(!E&&D.curve){return dI(D.curve)}var C=dG(F),B=E&&dG(E),A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y=function(f,e){var h,g;if(!f){return["C",e.x,e.y,e.x,e.y,e.x,e.y]}!(f[0] in {T:1,Q:1})&&(e.qx=e.qy=null);switch(f[0]){case"M":e.X=f[1],e.Y=f[2];break;case"A":f=["C"][aN](dD[aO](0,[e.x,e.y][aN](f.slice(1))));break;case"S":h=e.x+(e.x-(e.bx||e.x)),g=e.y+(e.y-(e.by||e.y)),f=["C",h,g][aN](f.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),f=["C"][aN](dE(e.x,e.y,e.qx,e.qy,f[1],f[2]));break;case"Q":e.qx=f[1],e.qy=f[2],f=["C"][aN](dE(e.x,e.y,f[1],f[2],f[3],f[4]));break;case"L":f=["C"][aN](dF(e.x,e.y,f[1],f[2]));break;case"H":f=["C"][aN](dF(e.x,e.y,f[1],e.y));break;case"V":f=["C"][aN](dF(e.x,e.y,e.x,f[1]));break;case"Z":f=["C"][aN](dF(e.x,e.y,e.X,e.Y))}return f},x=function(e,d){if(e[d].length>7){e[d].shift();var f=e[d];while(f.length){e.splice(d++,0,["C"][aN](f.splice(0,6)))}e.splice(d,1),u=at(C.length,B&&B.length||0)}},w=function(e,d,j,i,h){e&&d&&e[h][0]=="M"&&d[h][0]!="M"&&(d.splice(h,0,["M",i.x,i.y]),j.bx=0,j.by=0,j.x=e[h][1],j.y=e[h][2],u=at(C.length,B&&B.length||0))};for(var v=0,u=at(C.length,B&&B.length||0);v<u;v++){C[v]=y(C[v],A),x(C,v),B&&(B[v]=y(B[v],z)),B&&x(B,v),w(C,B,A,z,v),w(B,C,z,A,v);var t=C[v],s=B&&B[v],n=t.length,m=B&&s.length;A.x=t[n-2],A.y=t[n-1],A.bx=c4(t[n-4])||A.x,A.by=c4(t[n-3])||A.y,z.bx=B&&(c4(s[m-4])||z.x),z.by=B&&(c4(s[m-3])||z.y),z.x=B&&s[m-2],z.y=B&&s[m-1]}B||(D.curve=dI(C));return B?[C,B]:C},null,dI),dy=a8._parseDots=a2(function(t){var s=[];for(var r=0,q=t.length;r<q;r++){var p={},o=t[r].match(/^([^:]*):?([\d\.]*)/);p.color=a8.getRGB(o[1]);if(p.color.error){return null}p.color=p.color.hex,o[2]&&(p.offset=o[2]+"%"),s.push(p)}for(r=1,q=s.length-1;r<q;r++){if(!s[r].offset){var n=c4(s[r-1].offset||0),m=0;for(var l=r+1;l<q;l++){if(s[l].offset){m=s[l].offset;break}}m||(m=100,l=q),m=c4(m);var a=(m-n)/(l-r+1);for(;r<l;r++){n+=a,s[r].offset=n+"%"}}}return s}),dw=a8._tear=function(d,c){d==c.top&&(c.top=d.prev),d==c.bottom&&(c.bottom=d.next),d.next&&(d.next.prev=d.prev),d.prev&&(d.prev.next=d.next)},du=a8._tofront=function(d,c){c.top!==d&&(dw(d,c),d.next=null,d.prev=c.top,c.top.next=d,c.top=d)},ds=a8._toback=function(d,c){c.bottom!==d&&(dw(d,c),d.next=c.bottom,d.prev=null,c.bottom.prev=d,c.bottom=d)},dq=a8._insertafter=function(e,d,f){dw(e,f),d==f.top&&(f.top=e),d.next&&(d.next.prev=e),e.next=d.next,e.prev=d,d.next=e},dn=a8._insertbefore=function(e,d,f){dw(e,f),d==f.bottom&&(f.bottom=e),d.prev&&(d.prev.next=e),e.prev=d.prev,d.prev=e,e.next=d},dl=a8.toMatrix=function(f,e){var h=dJ(f),g={_:{transform:aJ},getBBox:function(){return h}};dT(g,e);return g.matrix},dj=a8.transformPath=function(d,c){return cJ(d,dl(d,c))},dT=a8._extractTransform=function(R,Q){if(Q==null){return R._.transform}Q=aF(Q).replace(/\.{3}|\u2026/g,R._.transform||aJ);var P=a8.parseTransformString(Q),O=0,N=0,M=0,L=1,K=1,J=R._,I=new aL;J.transform=P||[];if(P){for(var H=0,G=P.length;H<G;H++){var F=P[H],E=F.length,D=aF(F[0]).toLowerCase(),C=F[0]!=D,B=C?I.invert():0,A,z,r,p,a;D=="t"&&E==3?C?(A=B.x(0,0),z=B.y(0,0),r=B.x(F[1],F[2]),p=B.y(F[1],F[2]),I.translate(r-A,p-z)):I.translate(F[1],F[2]):D=="r"?E==2?(a=a||R.getBBox(1),I.rotate(F[1],a.x+a.width/2,a.y+a.height/2),O+=F[1]):E==4&&(C?(r=B.x(F[2],F[3]),p=B.y(F[2],F[3]),I.rotate(F[1],r,p)):I.rotate(F[1],F[2],F[3]),O+=F[1]):D=="s"?E==2||E==3?(a=a||R.getBBox(1),I.scale(F[1],F[E-1],a.x+a.width/2,a.y+a.height/2),L*=F[1],K*=F[E-1]):E==5&&(C?(r=B.x(F[3],F[4]),p=B.y(F[3],F[4]),I.scale(F[1],F[2],r,p)):I.scale(F[1],F[2],F[3],F[4]),L*=F[1],K*=F[2]):D=="m"&&E==7&&I.add(F[1],F[2],F[3],F[4],F[5],F[6]),J.dirtyT=1,R.matrix=I}}R.matrix=I,J.sx=L,J.sy=K,J.deg=O,J.dx=N=I.e,J.dy=M=I.f,L==1&&K==1&&!O&&J.bbox?(J.bbox.x+=+N,J.bbox.y+=+M):J.dirtyT=1},dd=function(d){var c=d[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return d.length==4?[c,0,d[2],d[3]]:[c,0];case"s":return d.length==5?[c,1,1,d[3],d[4]]:d.length==3?[c,1,1]:[c,1]}},aM=a8._equaliseTransform=function(t,s){s=aF(s).replace(/\.{3}|\u2026/g,t),t=a8.parseTransformString(t)||[],s=a8.parseTransformString(s)||[];var r=at(t.length,s.length),q=[],p=[],o=0,n,m,l,a;for(;o<r;o++){l=t[o]||dd(s[o]),a=s[o]||dd(l);if(l[0]!=a[0]||l[0].toLowerCase()=="r"&&(l[2]!=a[2]||l[3]!=a[3])||l[0].toLowerCase()=="s"&&(l[3]!=a[3]||l[4]!=a[4])){return}q[o]=[],p[o]=[];for(n=0,m=at(l.length,a.length);n<m;n++){n in l&&(q[o][n]=l[n]),n in a&&(p[o][n]=a[n])}}return{from:q,to:p}};a8._getContainer=function(a,k,j,h,i){var g;g=h==null&&!a8.is(a,"object")?aU.doc.getElementById(a):a;if(g!=null){if(g.tagName){return k==null?{container:g,width:g.style.pixelWidth||g.offsetWidth,height:g.style.pixelHeight||g.offsetHeight}:{container:g,width:k,height:j}}return{container:1,x:a,y:k,width:j,height:h,zValue:i}}},a8.pathToRelative=dH,a8._engine={},a8.path2curve=dA,a8.matrix=function(h,g,l,k,j,i){return new aL(h,g,l,k,j,i)},function(a){function e(d){var c=av.sqrt(f(d));d[0]&&(d[0]/=c),d[1]&&(d[1]/=c)}function f(b){return b[0]*b[0]+b[1]*b[1]}a.add=function(z,y,x,w,v,u){var t=[[],[],[]],s=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],r=[[z,x,v],[y,w,u],[0,0,1]],q,p,o,n;z&&z instanceof aL&&(r=[[z.a,z.c,z.e],[z.b,z.d,z.f],[0,0,1]]);for(q=0;q<3;q++){for(p=0;p<3;p++){n=0;for(o=0;o<3;o++){n+=s[q][o]*r[o][p]}t[q][p]=n}}this.a=t[0][0],this.b=t[1][0],this.c=t[0][1],this.d=t[1][1],this.e=t[0][2],this.f=t[1][2]},a.invert=function(){var d=this,c=d.a*d.d-d.b*d.c;return new aL(d.d/c,-d.b/c,-d.c/c,d.a/c,(d.c*d.f-d.d*d.e)/c,(d.b*d.e-d.a*d.f)/c)},a.clone=function(){return new aL(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(d,c){this.add(1,0,0,1,d,c)},a.scale=function(h,g,j,i){g==null&&(g=h),(j||i)&&this.add(1,0,0,1,j,i),this.add(h,0,0,g,0,0),(j||i)&&this.add(1,0,0,1,-j,-i)},a.rotate=function(g,k,j){g=a8.rad(g),k=k||0,j=j||0;var i=+av.cos(g).toFixed(9),h=+av.sin(g).toFixed(9);this.add(i,h,-h,i,k,j),this.add(1,0,0,1,-k,-j)},a.x=function(d,c){return d*this.a+c*this.c+this.e},a.y=function(d,c){return d*this.b+c*this.d+this.f},a.get=function(b){return +this[aF.fromCharCode(97+b)].toFixed(4)},a.toString=function(){return a8.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var c={};c.dx=this.e,c.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];c.scalex=av.sqrt(f(i[0])),e(i[0]),c.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*c.shear,i[1][1]-i[0][1]*c.shear],c.scaley=av.sqrt(f(i[1])),e(i[1]),c.shear/=c.scaley;var h=-i[0][1],d=i[1][1];d<0?(c.rotate=a8.deg(av.acos(d)),h<0&&(c.rotate=360-c.rotate)):c.rotate=a8.deg(av.asin(h)),c.isSimple=!+c.shear.toFixed(9)&&(c.scalex.toFixed(9)==c.scaley.toFixed(9)||!c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate;return c},a.toTransformString=function(d){var c=d||this[aD]();if(c.isSimple){c.scalex=+c.scalex.toFixed(4),c.scaley=+c.scaley.toFixed(4),c.rotate=+c.rotate.toFixed(4);return(c.dx||c.dy?"t"+[c.dx,c.dy]:aJ)+(c.scalex!=1||c.scaley!=1?"s"+[c.scalex,c.scaley,0,0]:aJ)+(c.rotate?"r"+[c.rotate,0,0]:aJ)}return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(aL.prototype);var aI=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(aI&&aI[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&aI&&aI[1]<8?aQ.safari=function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){b.remove()})}:aQ.safari=cW;var aG=function(){this.returnValue=!1},aE=function(){return this.originalEvent.preventDefault()},aC=function(){this.cancelBubble=!0},aA=function(){return this.originalEvent.stopPropagation()},ay=function(){if(aU.doc.addEventListener){return function(h,g,l,k){var j=aK&&az[g]?az[g]:g,i=function(q){var p=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,o=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft,d=q.clientX+o,c=q.clientY+p;if(aK&&az[aV](g)){for(var b=0,a=q.targetTouches&&q.targetTouches.length;b<a;b++){if(q.targetTouches[b].target==h){var r=q;q=q.targetTouches[b],q.originalEvent=r,q.preventDefault=aE,q.stopPropagation=aA;break}}}return l.call(k,q,d,c)};h.addEventListener(j,i,!1);return function(){h.removeEventListener(j,i,!1);return !0}}}if(aU.doc.attachEvent){return function(h,g,l,k){var j=function(d){d=d||aU.win.event;var c=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,o=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft,n=d.clientX+o,m=d.clientY+c;d.preventDefault=d.preventDefault||aG,d.stopPropagation=d.stopPropagation||aC;return l.call(k,d,n,m)};h.attachEvent("on"+g,j);var i=function(){h.detachEvent("on"+g,j);return !0};return i}}}(),aw=[],au=function(B){var A=B.clientX,z=B.clientY,y=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,x=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft,w,v=aw.length;while(v--){w=aw[v];if(aK){var u=B.touches.length,t;while(u--){t=B.touches[u];if(t.identifier==w.el._drag.id){A=t.clientX,z=t.clientY,(B.originalEvent?B.originalEvent:B).preventDefault();break}}}else{B.preventDefault()}var s=w.el.node,r,q=s.nextSibling,o=s.parentNode,h=s.style.display;aU.win.opera&&o.removeChild(s),s.style.display="none",r=w.el.paper.getElementByPoint(A,z),s.style.display=h,aU.win.opera&&(q?o.insertBefore(s,q):o.appendChild(s)),r&&eve("raphael.drag.over."+w.el.id,w.el,r),A+=x,z+=y,eve("raphael.drag.move."+w.el.id,w.move_scope||w.el,A-w.el._drag.x,z-w.el._drag.y,A,z,B)}},ar=function(a){a8.unmousemove(au).unmouseup(ar);var f=aw.length,e;while(f--){e=aw[f],e.el._drag={},eve("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,a)}aw=[]},ap=a8.el={};for(var an=aB.length;an--;){(function(a){a8[a]=ap[a]=function(e,b){a8.is(e,"function")&&(this.events=this.events||[],this.events.push({name:a,f:e,unbind:ay(this.shape||this.node||aU.doc,a,e,b||this)}));return this},a8["un"+a]=ap["un"+a]=function(b){var f=this.events||[],e=f.length;while(e--){if(f[e].name==a&&f[e].f==b){f[e].unbind(),f.splice(e,1),!f.length&&delete this.events;return this}}return this}})(aB[an])}ap.data=function(a,h){var g=c5[this.id]=c5[this.id]||{};if(arguments.length==1){if(a8.is(a,"object")){for(var f in a){a[aV](f)&&this.data(f,a[f])}return this}eve("raphael.data.get."+this.id,this,g[a],a);return g[a]}g[a]=h,eve("raphael.data.set."+this.id,this,h,a);return this},ap.removeData=function(b){b==null?c5[this.id]={}:c5[this.id]&&delete c5[this.id][b];return this},ap.hover=function(f,e,h,g){return this.mouseover(f,h).mouseout(e,g||h)},ap.unhover=function(d,c){return this.unmouseover(d).unmouseout(c)};var am=[];ap.drag=function(a,n,m,l,k,j){function h(d){(d.originalEvent||d).preventDefault();var c=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,b=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft;this._drag.x=d.clientX+b,this._drag.y=d.clientY+c,this._drag.id=d.identifier,!aw.length&&a8.mousemove(au).mouseup(ar),aw.push({el:this,move_scope:l,start_scope:k,end_scope:j}),n&&eve.on("raphael.drag.start."+this.id,n),a&&eve.on("raphael.drag.move."+this.id,a),m&&eve.on("raphael.drag.end."+this.id,m),eve("raphael.drag.start."+this.id,k||l||this,d.clientX+b,d.clientY+c,d)}this._drag={},am.push({el:this,start:h}),this.mousedown(h);return this},ap.onDragOver=function(b){b?eve.on("raphael.drag.over."+this.id,b):eve.unbind("raphael.drag.over."+this.id)},ap.undrag=function(){var a=am.length;while(a--){am[a].el==this&&(this.unmousedown(am[a].start),am.splice(a,1),eve.unbind("raphael.drag.*."+this.id))}!am.length&&a8.unmousemove(au).unmouseup(ar)},aQ.circle=function(a,h,g){var f=a8._engine.circle(this,a||0,h||0,g||0);this.__set__&&this.__set__.push(f);return f},aQ.rect=function(a,l,k,j,i){var h=a8._engine.rect(this,a||0,l||0,k||0,j||0,i||0);this.__set__&&this.__set__.push(h);return h},aQ.ellipse=function(a,j,i,h){var g=a8._engine.ellipse(this,a||0,j||0,i||0,h||0);this.__set__&&this.__set__.push(g);return g},aQ.path=function(a){a&&!a8.is(a,dt)&&!a8.is(a[0],dr)&&(a+=aJ);var d=a8._engine.path(a8.format[aO](a8,arguments),this);this.__set__&&this.__set__.push(d);return d},aQ.image=function(a,l,k,j,i){var h=a8._engine.image(this,a||"about:blank",l||0,k||0,j||0,i||0);this.__set__&&this.__set__.push(h);return h},aQ.text=function(a,h,g){var f=a8._engine.text(this,a||0,h||0,aF(g));this.__set__&&this.__set__.push(f);return f},aQ.set=function(a){!a8.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var d=new cT(a);this.__set__&&this.__set__.push(d);return d},aQ.setStart=function(b){this.__set__=b||this.set()},aQ.setFinish=function(d){var c=this.__set__;delete this.__set__;return c},aQ.setSize=function(a,d){return a8._engine.setSize.call(this,a,d)},aQ.setViewBox=function(a,j,i,h,g){return a8._engine.setViewBox.call(this,a,j,i,h,g)},aQ.top=aQ.bottom=null,aQ.raphael=a8;var al=function(r){var q=r.getBoundingClientRect(),p=r.ownerDocument,o=p.body,n=p.documentElement,m=n.clientTop||o.clientTop||0,l=n.clientLeft||o.clientLeft||0,k=q.top+(aU.win.pageYOffset||n.scrollTop||o.scrollTop)-m,h=q.left+(aU.win.pageXOffset||n.scrollLeft||o.scrollLeft)-l;return{y:k,x:h}};aQ.getElementByPoint=function(j,h){var p=this,o=p.canvas,n=aU.doc.elementFromPoint(j,h);if(aU.win.opera&&n.tagName=="svg"){var m=al(o),l=o.createSVGRect();l.x=j-m.x,l.y=h-m.y,l.width=l.height=1;var k=o.getIntersectionList(l,null);k.length&&(n=k[k.length-1])}if(!n){return null}while(n.parentNode&&n!=o.parentNode&&!n.raphael){n=n.parentNode}n==p.canvas.parentNode&&(n=o),n=n&&n.raphael?p.getById(n.raphaelid):null;return n},aQ.getById=function(d){var c=this.bottom;while(c){if(c.id==d){return c}c=c.next}return null},aQ.forEach=function(e,d){var f=this.bottom;while(f){if(e.call(d,f)===!1){return this}f=f.next}return this},aQ.getElementsByPoint=function(e,d){var f=this.set();this.forEach(function(a){a.isPointInside(e,d)&&f.push(a)});return f},ap.isPointInside=function(a,f){var e=this.realPath=this.realPath||cL[this.type](this);return a8.isPointInsidePath(e,a,f)},ap.getBBox=function(d){if(this.removed){return{}}var c=this._;if(d){if(c.dirty||!c.bboxwt){this.realPath=cL[this.type](this),c.bboxwt=dJ(this.realPath),c.bboxwt.toString=aj,c.dirty=0}return b5(c.bboxwt)}if(c.dirty||c.dirtyT||!c.bbox){if(c.dirty||!this.realPath){c.bboxwt=0,this.realPath=cL[this.type](this)}c.bbox=dJ(cJ(this.realPath,this.matrix)),c.bbox.toString=aj,c.dirty=c.dirtyT=0}return b5(c.bbox)},ap.getBBoxWOTransform=function(){return this.getBBox(1)},ap.clone=function(){if(this.removed){return null}var b=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(b);return b},ap.glow=function(i){if(this.type=="text"){return null}i=i||{};var h={width:(i.width||10)+(+this.attr("stroke-width")||1),fill:i.fill||!1,opacity:i.opacity||0.5,offsetx:i.offsetx||0,offsety:i.offsety||0,color:i.color||"#000"},n=h.width/2,m=this.paper,l=m.set(),k=this.realPath||cL[this.type](this);k=this.matrix?cJ(k,this.matrix):k;for(var j=1;j<n+1;j++){l.push(m.path(k).attr({stroke:h.color,fill:h.fill?h.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(h.width/n*j).toFixed(3),opacity:+(h.opacity/n).toFixed(3)}))}return l.insertBefore(this).translate(h.offsetx,h.offsety)};var ai={},ah=function(r,q,p,o,n,m,l,k,a){return a==null?dQ(r,q,p,o,n,m,l,k):a8.findDotsAtSegment(r,q,p,o,n,m,l,k,dP(r,q,p,o,n,m,l,k,a))},ag=function(a,d){return function(A,z,y){A=dA(A);var x,w,v,u,t="",s={},r,q=0;for(var c=0,b=A.length;c<b;c++){v=A[c];if(v[0]=="M"){x=+v[1],w=+v[2]}else{u=ah(x,w,v[1],v[2],v[3],v[4],v[5],v[6]);if(q+u>z){if(d&&!s.start){r=ah(x,w,v[1],v[2],v[3],v[4],v[5],v[6],z-q),t+=["C"+r.start.x,r.start.y,r.m.x,r.m.y,r.x,r.y];if(y){return t}s.start=t,t=["M"+r.x,r.y+"C"+r.n.x,r.n.y,r.end.x,r.end.y,v[5],v[6]].join(),q+=u,x=+v[5],w=+v[6];continue}if(!a&&!d){r=ah(x,w,v[1],v[2],v[3],v[4],v[5],v[6],z-q);return{x:r.x,y:r.y,alpha:r.alpha}}}q+=u,x=+v[5],w=+v[6]}t+=v.shift()+v}s.end=t,r=a?q:d?s:a8.findDotsAtSegment(x,w,v[0],v[1],v[2],v[3],v[4],v[5],1),r.alpha&&(r={x:r.x,y:r.y,alpha:r.alpha});return r}},af=ag(1),ae=ag(),ad=ag(0,1);a8.getTotalLength=af,a8.getPointAtLength=ae,a8.getSubpath=function(f,e,h){if(this.getTotalLength(f)-h<0.000001){return ad(f,e).end}var g=ad(f,h,1);return e?ad(g,e).end:g},ap.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength){return this.node.getTotalLength()}return af(this.attrs.path)}},ap.getPointAtLength=function(b){if(this.type=="path"){return ae(this.attrs.path,b)}},ap.getSubpath=function(a,d){if(this.type=="path"){return a8.getSubpath(this.attrs.path,a,d)}};var ac=a8.easing_formulas={linear:function(b){return b},"<":function(b){return dz(b,1.7)},">":function(b){return dz(b,0.48)},"<>":function(j){var i=0.48-j/1.04,p=av.sqrt(0.1734+i*i),o=p-i,n=dz(ao(o),1/3)*(o<0?-1:1),m=-p-i,l=dz(ao(m),1/3)*(m<0?-1:1),k=n+l+0.5;return(1-k)*3*k*k+k*k*k},backIn:function(d){var c=1.70158;return d*d*((c+1)*d-c)},backOut:function(d){d=d-1;var c=1.70158;return d*d*((c+1)*d+c)+1},elastic:function(b){if(b==!!b){return b}return dz(2,-10*b)*av.sin((b-0.075)*2*dx/0.3)+1},bounce:function(f){var e=7.5625,h=2.75,g;f<1/h?g=e*f*f:f<2/h?(f-=1.5/h,g=e*f*f+0.75):f<2.5/h?(f-=2.25/h,g=e*f*f+0.9375):(f-=2.625/h,g=e*f*f+0.984375);return g}};ac.easeIn=ac["ease-in"]=ac["<"],ac.easeOut=ac["ease-out"]=ac[">"],ac.easeInOut=ac["ease-in-out"]=ac["<>"],ac["back-in"]=ac.backIn,ac["back-out"]=ac.backOut;var ab=[],aa=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,16)},db=function(){var T=+(new Date),S=0;for(;S<ab.length;S++){var R=ab[S];if(R.el.removed||R.paused){continue}var Q=T-R.start,P=R.ms,O=R.easing,N=R.from,M=R.diff,L=R.to,K=R.t,J=R.el,I={},H,F={},E;R.initstatus?(Q=(R.initstatus*R.anim.top-R.prev)/(R.percent-R.prev)*P,R.status=R.initstatus,delete R.initstatus,R.stop&&ab.splice(S--,1)):R.status=(R.prev+(R.percent-R.prev)*(Q/P))/R.anim.top;if(Q<0){continue}if(Q<P){var D=O(Q/P);for(var C in N){if(N[aV](C)){switch(cS[C]){case dv:H=+N[C]+D*P*M[C];break;case"colour":H="rgb("+[c8(da(N[C].r+D*P*M[C].r)),c8(da(N[C].g+D*P*M[C].g)),c8(da(N[C].b+D*P*M[C].b))].join(",")+")";break;case"path":H=[];for(var B=0,q=N[C].length;B<q;B++){H[B]=[N[C][B][0]];for(var n=1,g=N[C][B].length;n<g;n++){H[B][n]=+N[C][B][n]+D*P*M[C][B][n]}H[B]=H[B].join(aH)}H=H.join(aH);break;case"transform":if(M[C].real){H=[];for(B=0,q=N[C].length;B<q;B++){H[B]=[N[C][B][0]];for(n=1,g=N[C][B].length;n<g;n++){H[B][n]=N[C][B][n]+D*P*M[C][B][n]}}}else{var a=function(b){return +N[C][b]+D*P*M[C][b]};H=[["m",a(0),a(1),a(2),a(3),a(4),a(5)]]}break;case"csv":if(C=="clip-rect"){H=[],B=4;while(B--){H[B]=+N[C][B]+D*P*M[C][B]}}break;default:var G=[][aN](N[C]);H=[],B=J.paper.customAttributes[C].length;while(B--){H[B]=+G[B]+D*P*M[C][B]}}I[C]=H}}J.attr(I),function(e,d,f){setTimeout(function(){eve("raphael.anim.frame."+e,d,f)})}(J.id,J,R.anim)}else{(function(e,h,f){setTimeout(function(){eve("raphael.anim.frame."+h.id,h,f),eve("raphael.anim.finish."+h.id,h,f),a8.is(e,"function")&&e.call(h)})})(R.callback,J,R.anim),J.attr(L),ab.splice(S--,1);if(R.repeat>1&&!R.next){for(E in L){L[aV](E)&&(F[E]=R.totalOrigin[E])}R.el.attr(F),c0(R.anim,R.el,R.anim.percents[0],null,R.totalOrigin,R.repeat-1)}R.next&&!R.stop&&c0(R.anim,R.el,R.next,null,R.totalOrigin,R.repeat)}}a8.svg&&J&&J.paper&&J.paper.safari(),ab.length&&aa(db)},c8=function(b){return b>255?255:b<0?0:b};ap.animateWith=function(x,w,v,u,t,s){var r=this;if(r.removed){s&&s.call(r);return r}var q=v instanceof c3?v:a8.animation(v,u,t,s),p,o;c0(q,r,q.percents[0],null,r.attr());for(var n=0,a=ab.length;n<a;n++){if(ab[n].anim==w&&ab[n].el==x){ab[a-1].start=ab[n].start;break}}return r},ap.onAnimation=function(b){b?eve.on("raphael.anim.frame."+this.id,b):eve.unbind("raphael.anim.frame."+this.id);return this},c3.prototype.delay=function(d){var c=new c3(this.anim,this.ms);c.times=this.times,c.del=+d||0;return c},c3.prototype.repeat=function(d){var c=new c3(this.anim,this.ms);c.del=this.del,c.times=av.floor(at(d,0))||1;return c},a8.animation=function(a,n,m,l){if(a instanceof c3){return a}if(a8.is(m,"function")||!m){l=l||m||null,m=null}a=Object(a),n=+n||0;var k={},j,g;for(g in a){a[aV](g)&&c4(g)!=g&&c4(g)+"%"!=g&&(j=!0,k[g]=a[g])}if(!j){return new c3(a,n)}m&&(k.easing=m),l&&(k.callback=l);return new c3({100:k},n)},ap.animate=function(a,l,k,j){var i=this;if(i.removed){j&&j.call(i);return i}var h=a instanceof c3?a:a8.animation(a,l,k,j);c0(h,i,h.percents[0],null,i.attr());return i},ap.setTime=function(d,c){d&&c!=null&&this.status(d,aq(c,d.ms)/d.ms);return this},ap.status=function(h,g){var l=[],k=0,j,i;if(g!=null){c0(h,this,-1,aq(g,1));return this}j=ab.length;for(;k<j;k++){i=ab[k];if(i.el.id==this.id&&(!h||i.anim==h)){if(h){return i.status}l.push({anim:i.anim,status:i.status})}}if(h){return 0}return l},ap.pause=function(d){for(var c=0;c<ab.length;c++){ab[c].el.id==this.id&&(!d||ab[c].anim==d)&&eve("raphael.anim.pause."+this.id,this,ab[c].anim)!==!1&&(ab[c].paused=!0)}return this},ap.resume=function(e){for(var d=0;d<ab.length;d++){if(ab[d].el.id==this.id&&(!e||ab[d].anim==e)){var f=ab[d];eve("raphael.anim.resume."+this.id,this,f.anim)!==!1&&(delete f.paused,this.status(f.anim,f.status))}}return this},ap.stop=function(d){for(var c=0;c<ab.length;c++){ab[c].el.id==this.id&&(!d||ab[c].anim==d)&&eve("raphael.anim.stop."+this.id,this,ab[c].anim)!==!1&&ab.splice(c--,1)}return this},eve.on("raphael.remove",cX),eve.on("raphael.clear",cX),ap.toString=function(){return"Rapha�l�s object"};var cT=function(e){this.items=[],this.length=0,this.type="set";if(e){for(var d=0,f=e.length;d<f;d++){e[d]&&(e[d].constructor==ap.constructor||e[d].constructor==cT)&&(this[this.items.length]=this.items[this.items.length]=e[d],this.length++)}}},cQ=cT.prototype;cQ.push=function(){var f,e;for(var h=0,g=arguments.length;h<g;h++){f=arguments[h],f&&(f.constructor==ap.constructor||f.constructor==cT)&&(e=this.items.length,this[e]=this.items[e]=f,this.length++)}return this},cQ.pop=function(){this.length&&delete this[this.length--];return this.items.pop()},cQ.forEach=function(f,e){for(var h=0,g=this.items.length;h<g;h++){if(f.call(e,this.items[h],h)===!1){return this}}return this};for(var cN in ap){ap[aV](cN)&&(cQ[cN]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b][aO](d,a)})}}(cN))}cQ.attr=function(a,l){if(a&&a8.is(a,dr)&&a8.is(a[0],"object")){for(var k=0,j=a.length;k<j;k++){this.items[k].attr(a[k])}}else{for(var i=0,h=this.items.length;i<h;i++){this.items[i].attr(a,l)}}return this},cQ.clear=function(){while(this.length){this.pop()}},cQ.splice=function(j,i,p){j=j<0?at(this.length+j,0):j,i=at(0,aq(this.length-j,i));var o=[],n=[],m=[],l;for(l=2;l<arguments.length;l++){m.push(arguments[l])}for(l=0;l<i;l++){n.push(this[j+l])}for(;l<this.length-j;l++){o.push(this[j+l])}var k=m.length;for(l=0;l<k+o.length;l++){this.items[j+l]=this[j+l]=l<k?m[l]:o[l-k]}l=this.items.length=this.length-=i-k;while(this[l]){delete this[l++]}return new cT(n)},cQ.exclude=function(e){for(var d=0,f=this.length;d<f;d++){if(this[d]==e){this.splice(d,1);return !0}}},cQ.animate=function(t,s,r,q){(a8.is(r,"function")||!r)&&(q=r||null);var p=this.items.length,o=p,n,m=this,l;if(!p){return this}q&&(l=function(){!--p&&q.call(m)}),r=a8.is(r,dt)?r:l;var a=a8.animation(t,s,r,l);n=this.items[--o].animate(a);while(o--){this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(n,a,a)}return this},cQ.insertAfter=function(d){var c=this.items.length;while(c--){this.items[c].insertAfter(d)}return this},cQ.getBBox=function(){var h=[],g=[],l=[],k=[];for(var j=this.items.length;j--;){if(!this.items[j].removed){var i=this.items[j].getBBox();h.push(i.x),g.push(i.y),l.push(i.x+i.width),k.push(i.y+i.height)}}h=aq[aO](0,h),g=aq[aO](0,g),l=at[aO](0,l),k=at[aO](0,k);return{x:h,y:g,x2:l,y2:k,width:l-h,height:k-g}},cQ.clone=function(e){e=new cT;for(var d=0,f=this.items.length;d<f;d++){e.push(this.items[d].clone())}return e},cQ.toString=function(){return"Rapha�l�s set"},a8.registerFont=function(i){if(!i.face){return i}this.fonts=this.fonts||{};var g={w:i.w,face:{},glyphs:{}},n=i.face["font-family"];for(var m in i.face){i.face[aV](m)&&(g.face[m]=i.face[m])}this.fonts[n]?this.fonts[n].push(g):this.fonts[n]=[g];if(!i.svg){g.face["units-per-em"]=c1(i.face["units-per-em"],10);for(var l in i.glyphs){if(i.glyphs[aV](l)){var k=i.glyphs[l];g.glyphs[l]={w:k.w,k:{},d:k.d&&"M"+k.d.replace(/[mlcxtrv]/g,function(b){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[b]||"M"})+"z"};if(k.k){for(var j in k.k){k[aV](j)&&(g.glyphs[l].k[j]=k.k[j])}}}}}return i},aQ.getFont=function(t,s,r,q){q=q||"normal",r=r||"normal",s=+s||{normal:400,bold:700,lighter:300,bolder:800}[s]||400;if(!!a8.fonts){var p=a8.fonts[t];if(!p){var o=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,aJ)+"(\\s|$)","i");for(var n in a8.fonts){if(a8.fonts[aV](n)&&o.test(n)){p=a8.fonts[n];break}}}var m;if(p){for(var g=0,a=p.length;g<a;g++){m=p[g];if(m.face["font-weight"]==s&&(m.face["font-style"]==r||!m.face["font-style"])&&m.face["font-stretch"]==q){break}}}return m}},aQ.print=function(P,O,N,M,L,K,J){K=K||"middle",J=at(aq(J||0,1),-1);var I=aF(N)[aD](aJ),H=0,G=0,F=aJ,E;a8.is(M,N)&&(M=this.getFont(M));if(M){E=(L||16)/M.face["units-per-em"];var D=M.face.bbox[aD](a3),y=+D[0],s=D[3]-D[1],r=0,p=+D[1]+(K=="baseline"?s+ +M.face.descent:s/2);for(var c=0,a=I.length;c<a;c++){if(I[c]=="\n"){H=0,x=0,G=0,r+=s}else{var C=G&&M.glyphs[I[c-1]]||{},x=M.glyphs[I[c]];H+=G?(C.w||M.w)+(C.k&&C.k[I[c]]||0)+M.w*J:0,G=1}x&&x.d&&(F+=a8.transformPath(x.d,["t",H*E,r*E,"s",E,E,y,p,"t",(P-y)/E,(O-p)/E]))}}return this.path(F).attr({fill:"#000",stroke:"none"})},aQ.add=function(a){if(a8.is(a,"array")){var j=this.set(),i=0,g=a.length,d;for(;i<g;i++){d=a[i]||{},a1[aV](d.type)&&j.push(this[d.type]().attr(d))}}return j},a8.format=function(a,f){var e=a8.is(f,dr)?[0][aN](f):arguments;a&&a8.is(a,dt)&&e.length-1&&(a=a.replace(a0,function(d,c){return e[++c]==null?aJ:e[c]}));return a||aJ},a8.fullfill=function(){var e=/\{([^\}]+)\}/g,d=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,f=function(b,i,h){var g=h;i.replace(d,function(k,j,n,m,l){j=j||m,g&&(j in g&&(g=g[j]),typeof g=="function"&&l&&(g=g()))}),g=(g==null||g==h?b:g)+"";return g};return function(a,c){return String(a).replace(e,function(h,g){return f(h,g,c)})}}(),a8.ninja=function(){aS.was?aU.win.Raphael=aS.is:delete Raphael;return a8},a8.st=cQ,function(a,h,g){function f(){/in/.test(a.readyState)?setTimeout(f,9):a8.eve("raphael.DOMload")}a.readyState==null&&a.addEventListener&&(a.addEventListener(h,g=function(){a.removeEventListener(h,g,!1),a.readyState="complete"},!1),a.readyState="loading"),f()}(document,"DOMContentLoaded"),aS.was?aU.win.Raphael=a8:Raphael=a8,eve.on("raphael.DOMload",function(){a6=!0})}(),window.Raphael.svg&&function(af){var ae="hasOwnProperty",ad=String,ac=parseFloat,ab=parseInt,aa=Math,Z=aa.max,Y=aa.abs,X=aa.pow,W=/[, ]+/,V=af.eve,U="",T=" ",S="http://www.w3.org/1999/xlink",R={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},Q={};af.toString=function(){return"Your browser supports SVG.\nYou are running Rapha�l "+this.version};var O=function(c,b){if(b){typeof c=="string"&&(c=O(c));for(var a in b){b[ae](a)&&(a.substring(0,6)=="xlink:"?c.setAttributeNS(S,a.substring(6),ad(b[a])):c.setAttribute(a,ad(b[a])))}}else{c=af._g.doc.createElementNS("http://www.w3.org/2000/svg",c),c.style&&(c.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return c},M=function(z,l){var i="linear",h=z.id+l,g=0.5,f=0.5,d=z.node,c=z.paper,a=d.style,ai=af._g.doc.getElementById(h);if(!ai){l=ad(l).replace(af._radial_gradient,function(k,j,n){i="radial";if(j&&n){g=ac(j),f=ac(n);var m=(f>0.5)*2-1;X(g-0.5,2)+X(f-0.5,2)>0.25&&(f=aa.sqrt(0.25-X(g-0.5,2))*m+0.5)&&f!=0.5&&(f=f.toFixed(5)-0.00001*m)}return U}),l=l.split(/\s*\-\s*/);if(i=="linear"){var ah=l.shift();ah=-ac(ah);if(isNaN(ah)){return null}var ag=[0,0,aa.cos(af.rad(ah)),aa.sin(af.rad(ah))],C=1/(Z(Y(ag[2]),Y(ag[3]))||1);ag[2]*=C,ag[3]*=C,ag[2]<0&&(ag[0]=-ag[2],ag[2]=0),ag[3]<0&&(ag[1]=-ag[3],ag[3]=0)}var B=af._parseDots(l);if(!B){return null}h=h.replace(/[\(\)\s,\xb0#]/g,"_"),z.gradient&&h!=z.gradient.id&&(c.defs.removeChild(z.gradient),delete z.gradient);if(!z.gradient){ai=O(i+"Gradient",{id:h}),z.gradient=ai,O(ai,i=="radial"?{fx:g,fy:f}:{x1:ag[0],y1:ag[1],x2:ag[2],y2:ag[3],gradientTransform:z.matrix.invert()}),c.defs.appendChild(ai);for(var A=0,q=B.length;A<q;A++){ai.appendChild(O("stop",{offset:B[A].offset?B[A].offset:A?"100%":"0%","stop-color":B[A].color||"#fff"}))}}}O(d,{fill:"url(#"+h+")",opacity:1,"fill-opacity":1}),a.fill=U,a.opacity=1,a.fillOpacity=1;return 1},K=function(d){var c=d.getBBox(1);O(d.pattern,{patternTransform:d.matrix.invert()+" translate("+c.x+","+c.y+")"})},J=function(ay,ax,aw){if(ay.type=="path"){var av=ad(ax).toLowerCase().split("-"),au=ay.paper,at=aw?"end":"start",ar=ay.node,aq=ay.attrs,ap=aq["stroke-width"],ao=av.length,al="classic",aj,ah,ag,p,l,c=3,b=3,a=5;while(ao--){switch(av[ao]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":al=av[ao];break;case"wide":b=5;break;case"narrow":b=2;break;case"long":c=5;break;case"short":c=2}}al=="open"?(c+=2,b+=2,a+=2,ag=1,p=aw?4:1,l={fill:"none",stroke:aq.stroke}):(p=ag=c/2,l={fill:aq.stroke,stroke:"none"}),ay._.arrows?aw?(ay._.arrows.endPath&&Q[ay._.arrows.endPath]--,ay._.arrows.endMarker&&Q[ay._.arrows.endMarker]--):(ay._.arrows.startPath&&Q[ay._.arrows.startPath]--,ay._.arrows.startMarker&&Q[ay._.arrows.startMarker]--):ay._.arrows={};if(al!="none"){var an="raphael-marker-"+al,am="raphael-marker-"+at+al+c+b;af._g.doc.getElementById(an)?Q[an]++:(au.defs.appendChild(O(O("path"),{"stroke-linecap":"round",d:R[al],id:an})),Q[an]=1);var ak=af._g.doc.getElementById(am),ai;ak?(Q[am]++,ai=ak.getElementsByTagName("use")[0]):(ak=O(O("marker"),{id:am,markerHeight:b,markerWidth:c,orient:"auto",refX:p,refY:b/2}),ai=O(O("use"),{"xlink:href":"#"+an,transform:(aw?"rotate(180 "+c/2+" "+b/2+") ":U)+"scale("+c/a+","+b/a+")","stroke-width":(1/((c/a+b/a)/2)).toFixed(4)}),ak.appendChild(ai),au.defs.appendChild(ak),Q[am]=1),O(ai,l);var q=ag*(al!="diamond"&&al!="oval");aw?(aj=ay._.arrows.startdx*ap||0,ah=af.getTotalLength(aq.path)-q*ap):(aj=q*ap,ah=af.getTotalLength(aq.path)-(ay._.arrows.enddx*ap||0)),l={},l["marker-"+at]="url(#"+am+")";if(ah||aj){l.d=Raphael.getSubpath(aq.path,aj,ah)}O(ar,l),ay._.arrows[at+"Path"]=an,ay._.arrows[at+"Marker"]=am,ay._.arrows[at+"dx"]=q,ay._.arrows[at+"Type"]=al,ay._.arrows[at+"String"]=ax}else{aw?(aj=ay._.arrows.startdx*ap||0,ah=af.getTotalLength(aq.path)-aj):(aj=0,ah=af.getTotalLength(aq.path)-(ay._.arrows.enddx*ap||0)),ay._.arrows[at+"Path"]&&O(ar,{d:Raphael.getSubpath(aq.path,aj,ah)}),delete ay._.arrows[at+"Path"],delete ay._.arrows[at+"Marker"],delete ay._.arrows[at+"dx"],delete ay._.arrows[at+"Type"],delete ay._.arrows[at+"String"]}for(l in Q){if(Q[ae](l)&&!Q[l]){var o=af._g.doc.getElementById(l);o&&o.parentNode.removeChild(o)}}}},I={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},H=function(i,c,n){c=I[ad(c).toLowerCase()];if(c){var m=i.attrs["stroke-width"]||"1",l={round:m,square:m,butt:0}[i.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,k=[],j=c.length;while(j--){k[j]=c[j]*m+(j%2?1:-1)*l}O(i.node,{"stroke-dasharray":k.join(",")})}};V.on("raphael.util.attr.blur",function(b){this.blur(b)}),V.on("raphael.util.attr.cursor",function(b){this.node.style.cursor=b});var G=function(aj,ai){var ah=aj.node,ag=aj.attrs,y=ah.style.visibility;ah.style.visibility="hidden";for(var v in ai){V("raphael.util.attr."+v,aj,ai[v]);if(ai[ae](v)){if(!af._availableAttrs[ae](v)){continue}var n=ai[v];ag[v]=n;switch(v){case"blur":aj.blur(n);break;case"href":case"title":case"target":var j=ah.parentNode;if(j.tagName.toLowerCase()!="a"){var g=O("a");j.insertBefore(g,ah),g.appendChild(ah),j=g}v=="target"?j.setAttributeNS(S,"show",n=="blank"?"new":n):j.setAttributeNS(S,v,n);break;case"cursor":break;case"transform":aj.transform(n);break;case"arrow-start":J(aj,n);break;case"arrow-end":J(aj,n,1);break;case"clip-rect":var b=ad(n).split(W);if(b.length==4){aj.clip&&aj.clip.parentNode.parentNode.removeChild(aj.clip.parentNode);var t=O("clipPath"),s=O("rect");t.id=af.createUUID(),O(s,{x:b[0],y:b[1],width:b[2],height:b[3]}),t.appendChild(s),aj.paper.defs.appendChild(t),O(ah,{"clip-path":"url(#"+t.id+")"}),aj.clip=s}if(!n){var r=ah.getAttribute("clip-path");if(r){var q=af._g.doc.getElementById(r.replace(/(^url\(#|\)$)/g,U));q&&q.parentNode.removeChild(q),O(ah,{"clip-path":U}),delete aj.clip}}break;case"path":aj.type=="path"&&(O(ah,{d:n?ag.path=af._pathToAbsolute(n):"M0,0"}),aj._.dirty=1,aj._.arrows&&("startString" in aj._.arrows&&J(aj,aj._.arrows.startString),"endString" in aj._.arrows&&J(aj,aj._.arrows.endString,1)));break;case"width":ah.setAttribute(v,n),aj._.dirty=1;if(ag.fx){v="x",n=ag.x}else{break}case"x":ag.fx&&(n=-ag.x-(ag.width||0));case"rx":if(v=="rx"&&aj.type=="rect"){break}case"cx":ah.setAttribute(v,n),aj.pattern&&K(aj),aj._.dirty=1;break;case"height":ah.setAttribute(v,n),aj._.dirty=1;if(ag.fy){v="y",n=ag.y}else{break}case"y":ag.fy&&(n=-ag.y-(ag.height||0));case"ry":if(v=="ry"&&aj.type=="rect"){break}case"cy":ah.setAttribute(v,n),aj.pattern&&K(aj),aj._.dirty=1;break;case"r":aj.type=="rect"?O(ah,{rx:n,ry:n}):ah.setAttribute(v,n),aj._.dirty=1;break;case"src":aj.type=="image"&&ah.setAttributeNS(S,"href",n);break;case"stroke-width":if(aj._.sx!=1||aj._.sy!=1){n/=Z(Y(aj._.sx),Y(aj._.sy))||1}aj.paper._vbSize&&(n*=aj.paper._vbSize),ah.setAttribute(v,n),ag["stroke-dasharray"]&&H(aj,ag["stroke-dasharray"],ai),aj._.arrows&&("startString" in aj._.arrows&&J(aj,aj._.arrows.startString),"endString" in aj._.arrows&&J(aj,aj._.arrows.endString,1));break;case"stroke-dasharray":H(aj,n,ai);break;case"fill":var l=ad(n).match(af._ISURL);if(l){t=O("pattern");var k=O("image");t.id=af.createUUID(),O(t,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),O(k,{x:0,y:0,"xlink:href":l[1]}),t.appendChild(k),function(d){af._preload(l[1],function(){var f=this.offsetWidth,i=this.offsetHeight;O(d,{width:f,height:i}),O(k,{width:f,height:i}),aj.paper.safari()})}(t),aj.paper.defs.appendChild(t),O(ah,{fill:"url(#"+t.id+")"}),aj.pattern=t,aj.pattern&&K(aj);break}var h=af.getRGB(n);if(!h.error){delete ai.gradient,delete ag.gradient,!af.is(ag.opacity,"undefined")&&af.is(ai.opacity,"undefined")&&O(ah,{opacity:ag.opacity}),!af.is(ag["fill-opacity"],"undefined")&&af.is(ai["fill-opacity"],"undefined")&&O(ah,{"fill-opacity":ag["fill-opacity"]})}else{if((aj.type=="circle"||aj.type=="ellipse"||ad(n).charAt()!="r")&&M(aj,n)){if("opacity" in ag||"fill-opacity" in ag){var e=af._g.doc.getElementById(ah.getAttribute("fill").replace(/^url\(#|\)$/g,U));if(e){var c=e.getElementsByTagName("stop");O(c[c.length-1],{"stop-opacity":("opacity" in ag?ag.opacity:1)*("fill-opacity" in ag?ag["fill-opacity"]:1)})}}ag.gradient=n,ag.fill="none";break}}h[ae]("opacity")&&O(ah,{"fill-opacity":h.opacity>1?h.opacity/100:h.opacity});case"stroke":h=af.getRGB(n),ah.setAttribute(v,h.hex),v=="stroke"&&h[ae]("opacity")&&O(ah,{"stroke-opacity":h.opacity>1?h.opacity/100:h.opacity}),v=="stroke"&&aj._.arrows&&("startString" in aj._.arrows&&J(aj,aj._.arrows.startString),"endString" in aj._.arrows&&J(aj,aj._.arrows.endString,1));break;case"gradient":(aj.type=="circle"||aj.type=="ellipse"||ad(n).charAt()!="r")&&M(aj,n);break;case"opacity":ag.gradient&&!ag[ae]("stroke-opacity")&&O(ah,{"stroke-opacity":n>1?n/100:n});case"fill-opacity":if(ag.gradient){e=af._g.doc.getElementById(ah.getAttribute("fill").replace(/^url\(#|\)$/g,U)),e&&(c=e.getElementsByTagName("stop"),O(c[c.length-1],{"stop-opacity":n}));break}default:v=="font-size"&&(n=ab(n,10)+"px");var a=v.replace(/(\-.)/g,function(d){return d.substring(1).toUpperCase()});ah.style[a]=n,aj._.dirty=1,ah.setAttribute(v,n)}}}E(aj,ai),ah.style.visibility=y},F=1.2,E=function(x,w){if(x.type=="text"&&!!(w[ae]("text")||w[ae]("font")||w[ae]("font-size")||w[ae]("x")||w[ae]("y"))){var v=x.attrs,u=x.node,t=u.firstChild?ab(af._g.doc.defaultView.getComputedStyle(u.firstChild,U).getPropertyValue("font-size"),10):10;if(w[ae]("text")){v.text=w.text;while(u.firstChild){u.removeChild(u.firstChild)}var s=ad(w.text).split("\n"),q=[],l;for(var e=0,c=s.length;e<c;e++){l=O("tspan"),e&&O(l,{dy:t*F,x:v.x}),l.appendChild(af._g.doc.createTextNode(s[e])),u.appendChild(l),q[e]=l}}else{q=u.getElementsByTagName("tspan");for(e=0,c=q.length;e<c;e++){e?O(q[e],{dy:t*F,x:v.x}):O(q[0],{dy:0})}}O(u,{x:v.x,y:v.y}),x._.dirty=1;var b=x._getBBox(),a=v.y-(b.y+b.height/2);a&&af.is(a,"finite")&&O(q[0],{dy:a})}},D=function(a,h){var g=0,f=0;this[0]=this.node=a,a.raphael=!0,this.id=af._oid++,a.raphaelid=this.id,this.matrix=af.matrix(),this.realPath=null,this.paper=h,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!h.bottom&&(h.bottom=this),this.prev=h.top,h.top&&(h.top.next=this),h.top=this,this.next=null},P=af.el;D.prototype=P,P.constructor=D,af._engine.path=function(f,e){var h=O("path");e.canvas&&e.canvas.appendChild(h);var g=new D(h,e);g.type="path",G(g,{fill:"none",stroke:"#000",path:f});return g},P.rotate=function(d,c,h){if(this.removed){return this}d=ad(d).split(W),d.length-1&&(c=ac(d[1]),h=ac(d[2])),d=ac(d[0]),h==null&&(c=h);if(c==null||h==null){var g=this.getBBox(1);c=g.x+g.width/2,h=g.y+g.height/2}this.transform(this._.transform.concat([["r",d,c,h]]));return this},P.scale=function(d,c,j,i){if(this.removed){return this}d=ad(d).split(W),d.length-1&&(c=ac(d[1]),j=ac(d[2]),i=ac(d[3])),d=ac(d[0]),c==null&&(c=d),i==null&&(j=i);if(j==null||i==null){var h=this.getBBox(1)}j=j==null?h.x+h.width/2:j,i=i==null?h.y+h.height/2:i,this.transform(this._.transform.concat([["s",d,c,j,i]]));return this},P.translate=function(d,c){if(this.removed){return this}d=ad(d).split(W),d.length-1&&(c=ac(d[1])),d=ac(d[0])||0,c=+c||0,this.transform(this._.transform.concat([["t",d,c]]));return this},P.transform=function(f){var b=this._;if(f==null){return b.transform}af._extractTransform(this,f),this.clip&&O(this.clip,{transform:this.matrix.invert()}),this.pattern&&K(this),this.node&&O(this.node,{transform:this.matrix});if(b.sx!=1||b.sy!=1){var a=this.attrs[ae]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":a})}return this},P.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this},P.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this},P.remove=function(){if(!this.removed&&!!this.node.parentNode){var a=this.paper;a.__set__&&a.__set__.exclude(this),V.unbind("raphael.*.*."+this.id),this.gradient&&a.defs.removeChild(this.gradient),af._tear(this,a),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var d in this){this[d]=typeof this[d]=="function"?af._removedFactory(d):null}this.removed=!0}},P._getBBox=function(){if(this.node.style.display=="none"){this.show();var e=!0}var d={};try{d=this.node.getBBox()}catch(f){}finally{d=d||{}}e&&this.hide();return d},P.attr=function(x,w){if(this.removed){return this}if(x==null){var v={};for(var u in this.attrs){this.attrs[ae](u)&&(v[u]=this.attrs[u])}v.gradient&&v.fill=="none"&&(v.fill=v.gradient)&&delete v.gradient,v.transform=this._.transform;return v}if(w==null&&af.is(x,"string")){if(x=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}if(x=="transform"){return this._.transform}var t=x.split(W),s={};for(var r=0,q=t.length;r<q;r++){x=t[r],x in this.attrs?s[x]=this.attrs[x]:af.is(this.paper.customAttributes[x],"function")?s[x]=this.paper.customAttributes[x].def:s[x]=af._availableAttrs[x]}return q-1?s:s[t[0]]}if(w==null&&af.is(x,"array")){s={};for(r=0,q=x.length;r<q;r++){s[x[r]]=this.attr(x[r])}return s}if(w!=null){var k={};k[x]=w}else{x!=null&&af.is(x,"object")&&(k=x)}for(var j in k){V("raphael.attr."+j+"."+this.id,this,k[j])}for(j in this.paper.customAttributes){if(this.paper.customAttributes[ae](j)&&k[ae](j)&&af.is(this.paper.customAttributes[j],"function")){var b=this.paper.customAttributes[j].apply(this,[].concat(k[j]));this.attrs[j]=k[j];for(var a in b){b[ae](a)&&(k[a]=b[a])}}}G(this,k);return this},P.toFront=function(){if(this.removed){return this}this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&af._tofront(this,a);return this},P.toBack=function(){if(this.removed){return this}var a=this.node.parentNode;a.tagName.toLowerCase()=="a"?a.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild),af._toback(this,this.paper);var d=this.paper;return this},P.insertAfter=function(a){if(this.removed){return this}var d=a.node||a[a.length-1].node;d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node),af._insertafter(this,a,this.paper);return this},P.insertBefore=function(a){if(this.removed){return this}var d=a.node||a[0].node;d.parentNode.insertBefore(this.node,d),af._insertbefore(this,a,this.paper);return this},P.blur=function(a){var h=this;if(+a!==0){var g=O("filter"),f=O("feGaussianBlur");h.attrs.blur=a,g.id=af.createUUID(),O(f,{stdDeviation:+a||1.5}),g.appendChild(f),h.paper.defs.appendChild(g),h._blur=g,O(h.node,{filter:"url(#"+g.id+")"})}else{h._blur&&(h._blur.parentNode.removeChild(h._blur),delete h._blur,delete h.attrs.blur),h.node.removeAttribute("filter")}},af._engine.circle=function(h,g,l,k){var j=O("circle");h.canvas&&h.canvas.appendChild(j);var i=new D(j,h);i.attrs={cx:g,cy:l,r:k,fill:"none",stroke:"#000"},i.type="circle",O(j,i.attrs);return i},af._engine.rect=function(j,i,p,o,n,m){var l=O("rect");j.canvas&&j.canvas.appendChild(l);var k=new D(l,j);k.attrs={x:i,y:p,width:o,height:n,r:m||0,rx:m||0,ry:m||0,fill:"none",stroke:"#000"},k.type="rect",O(l,k.attrs);return k},af._engine.ellipse=function(i,h,n,m,l){var k=O("ellipse");i.canvas&&i.canvas.appendChild(k);var j=new D(k,i);j.attrs={cx:h,cy:n,rx:m,ry:l,fill:"none",stroke:"#000"},j.type="ellipse",O(k,j.attrs);return j},af._engine.image=function(j,i,p,o,n,m){var l=O("image");O(l,{x:p,y:o,width:n,height:m,preserveAspectRatio:"none"}),l.setAttributeNS(S,"href",i),j.canvas&&j.canvas.appendChild(l);var k=new D(l,j);k.attrs={x:p,y:o,width:n,height:m,src:i},k.type="image";return k},af._engine.text=function(a,l,k,j){var i=O("text");a.canvas&&a.canvas.appendChild(i);var h=new D(i,a);h.attrs={x:l,y:k,"text-anchor":"middle",text:j,font:af._availableAttrs.font,stroke:"none",fill:"#000"},h.type="text",G(h,h.attrs);return h},af._engine.setSize=function(d,c){this.width=d||this.width,this.height=c||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this},af._engine.create=function(){var r=af._getContainer.apply(0,arguments),q=r&&r.container,p=r.x,o=r.y,n=r.width,m=r.height,s=r.zValue;if(!q){throw new Error("SVG container not found.")}var l=O("svg"),k="overflow:hidden;",a;p=p||0,o=o||0,n=n||512,m=m||342,O(l,{height:m,version:1.1,width:n,xmlns:"http://www.w3.org/2000/svg"}),q==1?(l.style.cssText=k+"position:absolute; z-index: "+s+";left:"+p+"px;top:"+o+"px",af._g.doc.body.appendChild(l),a=1):(l.style.cssText=k+"position:relative",q.firstChild?q.insertBefore(l,q.firstChild):q.appendChild(l)),q=new af._Paper,q.width=n,q.height=m,q.canvas=l,q.clear(),q._left=q._top=0,a&&(q.renderfix=function(){}),q.renderfix();return q},af._engine.setViewBox=function(t,s,r,q,p){V("raphael.setViewBox",this,this._viewBox,[t,s,r,q,p]);var o=Z(r/this.width,q/this.height),n=this.top,m=p?"meet":"xMinYMin",k,g;t==null?(this._vbSize&&(o=1),delete this._vbSize,k="0 0 "+this.width+T+this.height):(this._vbSize=o,k=t+T+s+T+r+T+q),O(this.canvas,{viewBox:k,preserveAspectRatio:m});while(o&&n){g="stroke-width" in n.attrs?n.attrs["stroke-width"]:1,n.attr({"stroke-width":g}),n._.dirty=1,n._.dirtyT=1,n=n.prev}this._viewBox=[t,s,r,q,!!p];return this},af.prototype.renderfix=function(){var h=this.canvas,g=h.style,l;try{l=h.getScreenCTM()||h.createSVGMatrix()}catch(k){l=h.createSVGMatrix()}var j=-l.e%1,i=-l.f%1;if(j||i){j&&(this._left=(this._left+j)%1,g.left=this._left+"px"),i&&(this._top=(this._top+i)%1,g.top=this._top+"px")}},af.prototype.clear=function(){af.eve("raphael.clear",this);var a=this.canvas;while(a.firstChild){a.removeChild(a.firstChild)}this.bottom=this.top=null,(this.desc=O("desc")).appendChild(af._g.doc.createTextNode("Created with Rapha�l "+af.version)),a.appendChild(this.desc),a.appendChild(this.defs=O("defs"))},af.prototype.remove=function(){V("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this){this[a]=typeof this[a]=="function"?af._removedFactory(a):null}};var N=af.st;for(var L in P){P[ae](L)&&!N[ae](L)&&(N[L]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b].apply(d,a)})}}(L))}}(window.Raphael),window.Raphael.vml&&function(ap){var ao="hasOwnProperty",an=String,am=parseFloat,al=Math,ak=al.round,aj=al.max,ai=al.min,ah=al.abs,ag="fill",af=/[, ]+/,ae=ap.eve,ad=" progid:DXImageTransform.Microsoft",ac=" ",ab="",aa={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Y=/([clmz]),?([^clmz]*)/gi,W=/ progid:\S+Blur\([^\)]+\)/g,U=/-?[^,\s-]+/g,S="position:absolute;left:0;top:0;width:1px;height:1px",Q=21600,O={path:1,rect:1,image:1},M={circle:1,ellipse:1},K=function(v){var u=/[ahqstv]/ig,t=ap._pathToAbsolute;an(v).match(u)&&(t=ap._path2curve),u=/[clmz]/g;if(t==ap._pathToAbsolute&&!an(v).match(u)){var s=an(v).replace(Y,function(i,h,m){var l=[],k=h.toLowerCase()=="m",j=aa[h];m.replace(U,function(b){k&&l.length==2&&(j+=l+aa[h=="m"?"l":"L"],l=[]),l.push(ak(b*Q))});return j+l});return s}var q=t(v),p,o;s=[];for(var n=0,f=q.length;n<f;n++){p=q[n],o=q[n][0].toLowerCase(),o=="z"&&(o="x");for(var c=1,a=p.length;c<a;c++){o+=ak(p[c]*Q)+(c!=a-1?",":ab)}s.push(o)}return s.join(ac)},J=function(a,h,g){var f=ap.matrix();f.rotate(-a,0.5,0.5);return{dx:f.x(h,g),dy:f.y(h,g)}},I=function(ar,aq,H,G,F,E){var D=ar._,C=ar.matrix,B=D.fillpos,A=ar.node,z=A.style,y=1,x="",w,u=Q/aq,n=Q/H;z.visibility="hidden";if(!!aq&&!!H){A.coordsize=ah(u)+ac+ah(n),z.rotation=E*(aq*H<0?-1:1);if(E){var j=J(E,G,F);G=j.dx,F=j.dy}aq<0&&(x+="x"),H<0&&(x+=" y")&&(y=-1),z.flip=x,A.coordorigin=G*-u+ac+F*-n;if(B||D.fillsize){var i=A.getElementsByTagName(ag);i=i&&i[0],A.removeChild(i),B&&(j=J(E,C.x(B[0],B[1]),C.y(B[0],B[1])),i.position=j.dx*y+ac+j.dy*y),D.fillsize&&(i.size=D.fillsize[0]*ah(aq)+ac+D.fillsize[1]*ah(H)),A.appendChild(i)}z.visibility="visible"}};ap.toString=function(){return"Your browser doesn�t support SVG. Falling down to VML.\nYou are running Rapha�l "+this.version};var Z=function(t,s,r){var q=an(s).toLowerCase().split("-"),p=r?"end":"start",o=q.length,n="classic",m="medium",l="medium";while(o--){switch(q[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":n=q[o];break;case"wide":case"narrow":l=q[o];break;case"long":case"short":m=q[o]}}var c=t.node.getElementsByTagName("stroke")[0];c[p+"arrow"]=n,c[p+"arrowlength"]=m,c[p+"arrowwidth"]=l},X=function(aF,aE){aF.attrs=aF.attrs||{};var aD=aF.node,aC=aF.attrs,aB=aD.style,aA,ay=O[aF.type]&&(aE.x!=aC.x||aE.y!=aC.y||aE.width!=aC.width||aE.height!=aC.height||aE.cx!=aC.cx||aE.cy!=aC.cy||aE.rx!=aC.rx||aE.ry!=aC.ry||aE.r!=aC.r),aw=M[aF.type]&&(aC.cx!=aE.cx||aC.cy!=aE.cy||aC.r!=aE.r||aC.rx!=aE.rx||aC.ry!=aE.ry),av=aF;for(var F in aE){aE[ao](F)&&(aC[F]=aE[F])}ay&&(aC.path=ap._getPath[aF.type](aF),aF._.dirty=1),aE.href&&(aD.href=aE.href),aE.title&&(aD.title=aE.title),aE.target&&(aD.target=aE.target),aE.cursor&&(aB.cursor=aE.cursor),"blur" in aE&&aF.blur(aE.blur);if(aE.path&&aF.type=="path"||ay){aD.path=K(~an(aC.path).toLowerCase().indexOf("r")?ap._pathToAbsolute(aC.path):aC.path),aF.type=="image"&&(aF._.fillpos=[aC.x,aC.y],aF._.fillsize=[aC.width,aC.height],I(aF,1,1,0,0,0))}"transform" in aE&&aF.transform(aE.transform);if(aw){var az=+aC.cx,ax=+aC.cy,au=+aC.rx||+aC.r||0,at=+aC.ry||+aC.r||0;aD.path=ap.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ak((az-au)*Q),ak((ax-at)*Q),ak((az+au)*Q),ak((ax+at)*Q),ak(az*Q))}if("clip-rect" in aE){var ar=an(aE["clip-rect"]).split(af);if(ar.length==4){ar[2]=+ar[2]+ +ar[0],ar[3]=+ar[3]+ +ar[1];var aq=aD.clipRect||ap._g.doc.createElement("div"),C=aq.style;C.clip=ap.format("rect({1}px {2}px {3}px {0}px)",ar),aD.clipRect||(C.position="absolute",C.top=0,C.left=0,C.width=aF.paper.width+"px",C.height=aF.paper.height+"px",aD.parentNode.insertBefore(aq,aD),aq.appendChild(aD),aD.clipRect=aq)}aE["clip-rect"]||aD.clipRect&&(aD.clipRect.style.clip="auto")}if(aF.textpath){var A=aF.textpath.style;aE.font&&(A.font=aE.font),aE["font-family"]&&(A.fontFamily='"'+aE["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,ab)+'"'),aE["font-size"]&&(A.fontSize=aE["font-size"]),aE["font-weight"]&&(A.fontWeight=aE["font-weight"]),aE["font-style"]&&(A.fontStyle=aE["font-style"])}"arrow-start" in aE&&Z(av,aE["arrow-start"]),"arrow-end" in aE&&Z(av,aE["arrow-end"],1);if(aE.opacity!=null||aE["stroke-width"]!=null||aE.fill!=null||aE.src!=null||aE.stroke!=null||aE["stroke-width"]!=null||aE["stroke-opacity"]!=null||aE["fill-opacity"]!=null||aE["stroke-dasharray"]!=null||aE["stroke-miterlimit"]!=null||aE["stroke-linejoin"]!=null||aE["stroke-linecap"]!=null){var z=aD.getElementsByTagName(ag),x=!1;z=z&&z[0],!z&&(x=z=P(ag)),aF.type=="image"&&aE.src&&(z.src=aE.src),aE.fill&&(z.on=!0);if(z.on==null||aE.fill=="none"||aE.fill===null){z.on=!1}if(z.on&&aE.fill){var w=an(aE.fill).match(ap._ISURL);if(w){z.parentNode==aD&&aD.removeChild(z),z.rotate=!0,z.src=w[1],z.type="tile";var v=aF.getBBox(1);z.position=v.x+ac+v.y,aF._.fillpos=[v.x,v.y],ap._preload(w[1],function(){aF._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{z.color=ap.getRGB(aE.fill).hex,z.src=ab,z.type="solid",ap.getRGB(aE.fill).error&&(av.type in {circle:1,ellipse:1}||an(aE.fill).charAt()!="r")&&V(av,aE.fill,z)&&(aC.fill="none",aC.gradient=aE.fill,z.rotate=!1)}}if("fill-opacity" in aE||"opacity" in aE){var u=((+aC["fill-opacity"]+1||2)-1)*((+aC.opacity+1||2)-1)*((+ap.getRGB(aE.fill).o+1||2)-1);u=ai(aj(u,0),1),z.opacity=u,z.src&&(z.color="none")}aD.appendChild(z);var n=aD.getElementsByTagName("stroke")&&aD.getElementsByTagName("stroke")[0],h=!1;!n&&(h=n=P("stroke"));if(aE.stroke&&aE.stroke!="none"||aE["stroke-width"]||aE["stroke-opacity"]!=null||aE["stroke-dasharray"]||aE["stroke-miterlimit"]||aE["stroke-linejoin"]||aE["stroke-linecap"]){n.on=!0}(aE.stroke=="none"||aE.stroke===null||n.on==null||aE.stroke==0||aE["stroke-width"]==0)&&(n.on=!1);var g=ap.getRGB(aE.stroke);n.on&&aE.stroke&&(n.color=g.hex),u=((+aC["stroke-opacity"]+1||2)-1)*((+aC.opacity+1||2)-1)*((+g.o+1||2)-1);var f=(am(aE["stroke-width"])||1)*0.75;u=ai(aj(u,0),1),aE["stroke-width"]==null&&(f=aC["stroke-width"]),aE["stroke-width"]&&(n.weight=f),f&&f<1&&(u*=f)&&(n.weight=1),n.opacity=u,aE["stroke-linejoin"]&&(n.joinstyle=aE["stroke-linejoin"]||"miter"),n.miterlimit=aE["stroke-miterlimit"]||8,aE["stroke-linecap"]&&(n.endcap=aE["stroke-linecap"]=="butt"?"flat":aE["stroke-linecap"]=="square"?"square":"round");if(aE["stroke-dasharray"]){var d={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};n.dashstyle=d[ao](aE["stroke-dasharray"])?d[aE["stroke-dasharray"]]:ab}h&&aD.appendChild(n)}if(av.type=="text"){av.paper.canvas.style.display=ab;var c=av.paper.span,b=100,a=aC.font&&aC.font.match(/\d+(?:\.\d*)?(?=px)/);aB=c.style,aC.font&&(aB.font=aC.font),aC["font-family"]&&(aB.fontFamily=aC["font-family"]),aC["font-weight"]&&(aB.fontWeight=aC["font-weight"]),aC["font-style"]&&(aB.fontStyle=aC["font-style"]),a=am(aC["font-size"]||a&&a[0])||10,aB.fontSize=a*b+"px",av.textpath.string&&(c.innerHTML=an(av.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var j=c.getBoundingClientRect();av.W=aC.w=(j.right-j.left)/b,av.H=aC.h=(j.bottom-j.top)/b,av.X=aC.x,av.Y=aC.y+av.H/2,("x" in aE||"y" in aE)&&(av.path.v=ap.format("m{0},{1}l{2},{1}",ak(aC.x*Q),ak(aC.y*Q),ak(aC.x*Q)+1));var aG=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var o=0,k=aG.length;o<k;o++){if(aG[o] in aE){av._.dirty=1;break}}switch(aC["text-anchor"]){case"start":av.textpath.style["v-text-align"]="left",av.bbx=av.W/2;break;case"end":av.textpath.style["v-text-align"]="right",av.bbx=-av.W/2;break;default:av.textpath.style["v-text-align"]="center",av.bbx=0}av.textpath.style["v-text-kern"]=!0}},V=function(z,y,x){z.attrs=z.attrs||{};var w=z.attrs,v=Math.pow,u,o,n="linear",e=".5 .5";z.attrs.gradient=y,y=an(y).replace(ap._radial_gradient,function(g,f,h){n="radial",f&&h&&(f=am(f),h=am(h),v(f-0.5,2)+v(h-0.5,2)>0.25&&(h=al.sqrt(0.25-v(f-0.5,2))*((h>0.5)*2-1)+0.5),e=f+ac+h);return ab}),y=y.split(/\s*\-\s*/);if(n=="linear"){var d=y.shift();d=-am(d);if(isNaN(d)){return null}}var c=ap._parseDots(y);if(!c){return null}z=z.shape||z.node;if(c.length){z.removeChild(x),x.on=!0,x.method="none",x.color=c[0].color,x.color2=c[c.length-1].color;var a=[];for(var B=0,A=c.length;B<A;B++){c[B].offset&&a.push(c[B].offset+ac+c[B].color)}x.colors=a.length?a.join():"0% "+x.color,n=="radial"?(x.type="gradientTitle",x.focus="100%",x.focussize="0 0",x.focusposition=e,x.angle=0):(x.type="gradient",x.angle=(270-d)%360),z.appendChild(x)}return 1},T=function(a,d){this[0]=this.node=a,a.raphael=!0,this.id=ap._oid++,a.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=d,this.matrix=ap.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},R=ap.el;T.prototype=R,R.constructor=T,R.transform=function(B){if(B==null){return this._.transform}var A=this.paper._viewBoxShift,z=A?"s"+[A.scale,A.scale]+"-1-1t"+[A.dx,A.dy]:ab,y;A&&(y=B=an(B).replace(/\.{3}|\u2026/g,this._.transform||ab)),ap._extractTransform(this,z+B);var x=this.matrix.clone(),w=this.skew,v=this.node,u,t=~an(this.attrs.fill).indexOf("-"),s=!an(this.attrs.fill).indexOf("url(");x.translate(-0.5,-0.5);if(s||t||this.type=="image"){w.matrix="1 0 0 1",w.offset="0 0",u=x.split();if(t&&u.noRotation||!u.isSimple){v.style.filter=x.toFilter();var o=this.getBBox(),n=this.getBBox(1),c=o.x-n.x,a=o.y-n.y;v.coordorigin=c*-Q+ac+a*-Q,I(this,1,1,c,a,0)}else{v.style.filter=ab,I(this,u.scalex,u.scaley,u.dx,u.dy,u.rotate)}}else{v.style.filter=ab,w.matrix=an(x),w.offset=x.offset()}y&&(this._.transform=y);return this},R.rotate=function(d,c,h){if(this.removed){return this}if(d!=null){d=an(d).split(af),d.length-1&&(c=am(d[1]),h=am(d[2])),d=am(d[0]),h==null&&(c=h);if(c==null||h==null){var g=this.getBBox(1);c=g.x+g.width/2,h=g.y+g.height/2}this._.dirtyT=1,this.transform(this._.transform.concat([["r",d,c,h]]));return this}},R.translate=function(d,c){if(this.removed){return this}d=an(d).split(af),d.length-1&&(c=am(d[1])),d=am(d[0])||0,c=+c||0,this._.bbox&&(this._.bbox.x+=d,this._.bbox.y+=c),this.transform(this._.transform.concat([["t",d,c]]));return this},R.scale=function(d,c,j,i){if(this.removed){return this}d=an(d).split(af),d.length-1&&(c=am(d[1]),j=am(d[2]),i=am(d[3]),isNaN(j)&&(j=null),isNaN(i)&&(i=null)),d=am(d[0]),c==null&&(c=d),i==null&&(j=i);if(j==null||i==null){var h=this.getBBox(1)}j=j==null?h.x+h.width/2:j,i=i==null?h.y+h.height/2:i,this.transform(this._.transform.concat([["s",d,c,j,i]])),this._.dirtyT=1;return this},R.hide=function(){!this.removed&&(this.node.style.display="none");return this},R.show=function(){!this.removed&&(this.node.style.display=ab);return this},R._getBBox=function(){if(this.removed){return{}}return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},R.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),ap.eve.unbind("raphael.*.*."+this.id),ap._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this){this[a]=typeof this[a]=="function"?ap._removedFactory(a):null}this.removed=!0}},R.attr=function(x,w){if(this.removed){return this}if(x==null){var v={};for(var u in this.attrs){this.attrs[ao](u)&&(v[u]=this.attrs[u])}v.gradient&&v.fill=="none"&&(v.fill=v.gradient)&&delete v.gradient,v.transform=this._.transform;return v}if(w==null&&ap.is(x,"string")){if(x==ag&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}var t=x.split(af),s={};for(var r=0,l=t.length;r<l;r++){x=t[r],x in this.attrs?s[x]=this.attrs[x]:ap.is(this.paper.customAttributes[x],"function")?s[x]=this.paper.customAttributes[x].def:s[x]=ap._availableAttrs[x]}return l-1?s:s[t[0]]}if(this.attrs&&w==null&&ap.is(x,"array")){s={};for(r=0,l=x.length;r<l;r++){s[x[r]]=this.attr(x[r])}return s}var k;w!=null&&(k={},k[x]=w),w==null&&ap.is(x,"object")&&(k=x);for(var j in k){ae("raphael.attr."+j+"."+this.id,this,k[j])}if(k){for(j in this.paper.customAttributes){if(this.paper.customAttributes[ao](j)&&k[ao](j)&&ap.is(this.paper.customAttributes[j],"function")){var b=this.paper.customAttributes[j].apply(this,[].concat(k[j]));this.attrs[j]=k[j];for(var a in b){b[ao](a)&&(k[a]=b[a])}}}k.text&&this.type=="text"&&(this.textpath.string=k.text),X(this,k)}return this},R.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&ap._tofront(this,this.paper);return this},R.toBack=function(){if(this.removed){return this}this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),ap._toback(this,this.paper));return this},R.insertAfter=function(a){if(this.removed){return this}a.constructor==ap.st.constructor&&(a=a[a.length-1]),a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node),ap._insertafter(this,a,this.paper);return this},R.insertBefore=function(a){if(this.removed){return this}a.constructor==ap.st.constructor&&(a=a[0]),a.node.parentNode.insertBefore(this.node,a.node),ap._insertbefore(this,a,this.paper);return this},R.blur=function(a){var f=this.node.runtimeStyle,e=f.filter;e=e.replace(W,ab),+a!==0?(this.attrs.blur=a,f.filter=e+ac+ad+".Blur(pixelradius="+(+a||1.5)+")",f.margin=ap.format("-{0}px 0 0 -{0}px",ak(+a||1.5))):(f.filter=e,f.margin=0,delete this.attrs.blur)},ap._engine.path=function(h,g){var l=P("shape");l.style.cssText=S,l.coordsize=Q+ac+Q,l.coordorigin=g.coordorigin;var k=new T(l,g),j={fill:"none",stroke:"#000"};h&&(j.path=h),k.type="path",k.path=[],k.Path=ab,X(k,j),g.canvas.appendChild(l);var i=P("skew");i.on=!0,l.appendChild(i),k.skew=i,k.transform(ab);return k},ap._engine.rect=function(r,q,p,o,n,m){var l=ap._rectPath(q,p,o,n,m),k=r.path(l),a=k.attrs;k.X=a.x=q,k.Y=a.y=p,k.W=a.width=o,k.H=a.height=n,a.r=m,a.path=l,k.type="rect";return k},ap._engine.ellipse=function(i,h,n,m,l){var k=i.path(),j=k.attrs;k.X=h-m,k.Y=n-l,k.W=m*2,k.H=l*2,k.type="ellipse",X(k,{cx:h,cy:n,rx:m,ry:l});return k},ap._engine.circle=function(h,g,l,k){var j=h.path(),i=j.attrs;j.X=g-k,j.Y=l-k,j.W=j.H=k*2,j.type="circle",X(j,{cx:g,cy:l,r:k});return j},ap._engine.image=function(v,u,t,s,r,q){var p=ap._rectPath(t,s,r,q),o=v.path(p).attr({stroke:"none"}),n=o.attrs,j=o.node,a=j.getElementsByTagName(ag)[0];n.src=u,o.X=n.x=t,o.Y=n.y=s,o.W=n.width=r,o.H=n.height=q,n.path=p,o.type="image",a.parentNode==j&&j.removeChild(a),a.rotate=!0,a.src=u,a.type="tile",o._.fillpos=[t,s],o._.fillsize=[r,q],j.appendChild(a),I(o,1,1,0,0,0);return o},ap._engine.text=function(t,s,r,q){var p=P("shape"),o=P("path"),n=P("textpath");s=s||0,r=r||0,q=q||"",o.v=ap.format("m{0},{1}l{2},{1}",ak(s*Q),ak(r*Q),ak(s*Q)+1),o.textpathok=!0,n.string=an(q),n.on=!0,p.style.cssText=S,p.coordsize=Q+ac+Q,p.coordorigin="0 0";var f=new T(p,t),c={fill:"#000",stroke:"none",font:ap._availableAttrs.font,text:q};f.shape=p,f.path=o,f.textpath=n,f.type="text",f.attrs.text=an(q),f.attrs.x=s,f.attrs.y=r,f.attrs.w=1,f.attrs.h=1,X(f,c),p.appendChild(n),p.appendChild(o),t.canvas.appendChild(p);var a=P("skew");a.on=!0,p.appendChild(a),f.skew=a,f.transform(ab);return f},ap._engine.setSize=function(a,f){var e=this.canvas.style;this.width=a,this.height=f,a==+a&&(a+="px"),f==+f&&(f+="px"),e.width=a,e.height=f,e.clip="rect(0 "+a+" "+f+" 0)",this._viewBox&&ap._engine.setViewBox.apply(this,this._viewBox);return this},ap._engine.setViewBox=function(t,s,r,q,p){ap.eve("raphael.setViewBox",this,this._viewBox,[t,s,r,q,p]);var o=this.width,n=this.height,m=1/aj(r/o,q/n),g,a;p&&(g=n/q,a=o/r,r*g<o&&(t-=(o-r*g)/2/g),q*a<n&&(s-=(n-q*a)/2/a)),this._viewBox=[t,s,r,q,!!p],this._viewBoxShift={dx:-t,dy:-s,scale:m},this.forEach(function(b){b.transform("...")});return this};var P;ap._engine.initWin=function(e){var d=e.document;d.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!d.namespaces.rvml&&d.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(b){return d.createElement("<rvml:"+b+' class="rvml">')}}catch(f){P=function(b){return d.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},ap._engine.initWin(ap._g.win),ap._engine.create=function(){var t=ap._getContainer.apply(0,arguments),s=t.container,r=t.height,q,p=t.width,o=t.x,n=t.y;if(!s){throw new Error("VML container not found.")}var m=new ap._Paper,l=m.canvas=ap._g.doc.createElement("div"),a=l.style;o=o||0,n=n||0,p=p||512,r=r||342,m.width=p,m.height=r,p==+p&&(p+="px"),r==+r&&(r+="px"),m.coordsize=Q*1000+ac+Q*1000,m.coordorigin="0 0",m.span=ap._g.doc.createElement("span"),m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(m.span),a.cssText=ap.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",p,r),s==1?(ap._g.doc.body.appendChild(l),a.left=o+"px",a.top=n+"px",a.position="absolute"):s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),m.renderfix=function(){};return m},ap.prototype.clear=function(){ap.eve("raphael.clear",this),this.canvas.innerHTML=ab,this.span=ap._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},ap.prototype.remove=function(){ap.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var a in this){this[a]=typeof this[a]=="function"?ap._removedFactory(a):null}return !0};var N=ap.st;for(var L in R){R[ao](L)&&!N[ao](L)&&(N[L]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b].apply(d,a)})}}(L))}}(window.Raphael);
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script type="text/javascript">

window.onload = function () {
	ShowProgressBar();
	if(navigator.appName == "Microsoft Internet Explorer")
	{
		var Object3DTag = document.getElementById("Object3D");
		if(Object3DTag)
		{
			CFInstall.check({
				mode: "inline",
				cssText:"z-index:30;position:absolute;left:"+ Object3DTag.style.left +"; top:"+ Object3DTag.style.top +"; width:"+Object3DTag.style.width+"; height:"+Object3DTag.style.height+";"
			});
		}
	}
		//repalce the empty line with &nbsp;
		x=document.getElementsByTagName("p");
		for (i=0;i<x.length;i++)
		{
			var innerString = x[i].innerHTML;
			if(innerString=="")
			{
				x[i].innerHTML = "&nbsp;";
			}
		}

		y=document.getElementsByTagName("span");
		for (i=0;i<y.length;i++)
		{
			var innerString = y[i].innerHTML;
			var n = innerString.replace(/ /g,"&nbsp;");
			y[i].innerHTML = n;
		}

};
var Width3D,Height3D,window_width,inner_calculations,scaleRatio,a_ratio,b_ratio,new_height,new_width,new_Top,new_Left,MouseClickPosX,MouseClickPosY = 0;
 var FullScreenCheck = false;
	function responsive_WebGl(){
		window_width = $(window).width();
		window_height = $(window).height();
		$("#bdy").css("transform","scale3d(" + 0 + ',' + 0 + ',' + 0 + ")");
		$("#bdy").css("-ms-transform","scale3d(" + 0 + ',' + 0 + ',' + 0 + ")");
		$("#bdy").css("-webkit-transform","scale3d(" + 0 + ',' + 0 + ',' + 0 + ")");
		main_elementW = (document.getElementById("SimLabWebGL").style.width).slice(0, -2);
		main_elementH = (document.getElementById("SimLabWebGL").style.height).slice(0, -2);
		
		a_ratio = window_height / main_elementH;
		b_ratio = window_width / main_elementW;
		if(b_ratio <= a_ratio) 
 { 
 if(window_width <= main_elementW) 
 { 
 calculateRatio(b_ratio); 
 } else{calculateRatio_equal();} 
 };
		if(b_ratio > a_ratio) 
 { 
 if(window_height < main_elementH) 
 { 
 calculateRatio(a_ratio); 
 } else{calculateRatio_equal();} 
 
		} 
		function calculateRatio(element_Ratio) { 
		inner_calculations = element_Ratio * 100; 
		scaleRatio = (inner_calculations) / 100; 
		new_width = scaleRatio * main_elementW; 
		if(window_width > new_width) 
 { 
		new_Left = ((window_width - new_width)/2); 
		$("#bdy").css("left",new_Left); 
		} else 
		{ 
		new_Left = 0; 
		$("#bdy").css("left","0px"); 
		} 
		new_height = scaleRatio * main_elementH; 
		if(window_height > new_height) { 
		new_Top = ((window_height - new_height)/2); 
		$("#bdy").css("top",new_Top); 
		} else 
 { 
		new_Top = 0; 
		$("#bdy").css("top","0px"); 
 } 
		$("#bdy").css("transform","scale3d(" + scaleRatio + ',' + scaleRatio + ',' + scaleRatio + ")"); 
		$("#bdy").css("-ms-transform","scale3d(" + scaleRatio + ',' + scaleRatio + ',' + scaleRatio + ")"); 
		$("#bdy").css("-webkit-transform","scale3d(" + scaleRatio + ',' + scaleRatio + ',' + scaleRatio + ")"); 
		} 
		function calculateRatio_equal() { 
		scaleRatio = 1; 
		new_width = main_elementW; 
		new_height = main_elementH; 
		$("#bdy").css("transform","scale3d(" + 1 + ',' + 1 + ',' + 1 + ")"); 
		$("#bdy").css("-ms-transform","scale3d(" + 1 + ',' + 1 + ',' + 1 + ")"); 
		$("#bdy").css("-webkit-transform","scale3d(" + 1 + ',' + 1 + ',' + 1 + ")"); 
		$("#bdy").css("margin-left",'inherit'); 
		new_Left = ((window_width - main_elementW)/2); 
		$("#bdy").css("left",new_Left); 
		new_Top = ((window_height - main_elementH)/2); 
		$("#bdy").css("top",new_Top); 
		} 
		} 
	function extractHostname(url)
		{
		  var hostname;
		  var tString = url;
		  var tArray = tString.split(':');
		  hostname = url.split('/')[2];
		    if (url.indexOf("//") > -1 && (tArray[0] == "file"  || tArray[0] == "File")) { alert('Using WebGL on web server will work fine on all browsers, on local machine for testing, please check http://blog.simlab-soft.com/running-webgl-files-locally to learn how to run WebGL locally.');}
		}
</script>
<script type='text/javascript'>
var overlay;
var loadingOverlay;
$(function(){
	// raphael section
	var paper = Raphael(0,0,595,842);
	 //background color
	paper.rect(0,0,595,842).attr({fill:"rgba(255,255,255,1)", stroke:'none'});
	// create new canvas for raphael elements
	var paper0 = Raphael( 233,190,233,190 , 0 );
	// create new canvas for raphael elements
	var paper1 = Raphael(12,119,102,55 , 1 );
;
	// create new canvas for raphael elements
	var paper2 = Raphael(160,115,102,55 , 2 );
;
	// create new canvas for raphael elements
	var paper3 = Raphael(311,117,102,55 , 3 );
;
	// create new canvas for raphael elements
	var paper4 = Raphael(468,120,102,55 , 4 );
;
	// create new canvas for raphael elements
	var paper5 = Raphael(0,0,595,842 , 5 );
TemplateActions();
overlay = $('<div id="overlay"></div>');
loadingOverlay = $('<div id="loadingOverlay"></div>');
$('.close').click(function(){
$('.popup').hide();
overlay.appendTo(document.body).remove();
return false;
});
$('.x').click(function(){
$('.popup').hide();
overlay.appendTo(document.body).remove();
return false;
});
});

function OpenLocalHtmlFile(localFile)
{
	var iFrametagJSVar = document.getElementById("iframeId");
	iFrametagJSVar.src = localFile;
	overlay.show();
	overlay.appendTo(document.body);
	$('.popup').show();
};
function ShowProgressBar()
{
	document.getElementById("progress").style.visibility = "visible";
	document.getElementById("progressText").style.visibility = "visible";
	var request = new XMLHttpRequest();
	var circle = new ProgressBar.Circle('#progress', {
	color: '#353535',
	trailColor: '#eee',
	strokeWidth: 2,
	trailWidth: 2,
	duration: 1500,
	text: {
	value: '0'
	},
	step: function(state, bar) {
	bar.setText(((bar.value() * 100).toFixed(0)) + "%");
	}
	});
	request.onprogress = function(evt) {
	if (evt.lengthComputable)
	{
	var percentComplete = (evt.loaded / evt.total);
	circle.animate(percentComplete);
	}
	}
	 request.open("GET", "fac1_files/" + "fac1" + ".zip", true);
 	request.overrideMimeType("application / zip");
	request.onreadystatechange = function(){
	if (this.readyState == 3 || this.readyState == 4){
	document.getElementById("progressText").innerHTML = "Downloading...";
	}
	if (this.readyState == 4 && (this.status == 200 || this.status == 0) ){
	document.getElementById("progress").style.visibility = "hidden";
	document.getElementById("progressText").innerHTML = "Unpacking...";
	var circle2 = new ProgressBar.Circle('#progress2', {
	color: '#353535',
	trailColor: '#eee',
	strokeWidth: 2,
	trailWidth: 2,
	duration: 10000,
	easing: 'easeInOut'
	});
	document.getElementById("progress2").style.visibility = "visible";
	circle2.set(0.05);
	circle2.animate(.5, function(){circle2.animate(.9);});
	unzipToBlobAndLoad();
	}
	}
	request.send();
	loadingOverlay.show();
	loadingOverlay.appendTo(document.body);
	$('.loadingPopup').show();
};
function HideProgressBar()
{
	$('.loadingPopup').hide();
	loadingOverlay.appendTo(document.body).remove();
	document.getElementById("progressText").style.visibility = "hidden";
	document.getElementById("progress2").style.visibility = "hidden";
};
</script>
<script type="text/javascript">
function TemplateActions(){
	var ActionCanvas = Raphael(233,190,118,21, 5);
	ActionCanvas.rect(0 , 0 , 118 , 21).attr({fill:"rgba(255,255,255,0)", stroke:'none', cursor:"pointer"}).click(function(e){ o227.o244( 0 );});
};
</script>
<script type="text/javascript">
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.THREE={})}(this,function(t){"use strict";function e(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:0<t?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),n=0,r=i.length;n<r;n++)i[n].call(this,t)}}}});var i,n,p,d,r,a,o,s,c,h,l,u,f,m,g,v,y,x,b,_,k=0,j=1,W=2,B=1,F=2,U=0,Z=1,J=2,Tt=0,w=2,X=0,q=1,Y=2,Q=3,K=4,$=5,M=100,E=101,T=102,S=103,A=104,R=200,L=201,P=202,C=203,O=204,I=205,N=206,D=207,z=208,G=209,H=210,tt=0,et=1,it=2,nt=3,rt=4,at=5,ot=6,st=7,V=0,ct=1,ht=2,lt=0,St=1,ut=2,pt=3,dt=4,ft=301,mt=302,gt=303,vt=304,yt=305,xt=306,bt=307,_t=1e3,wt=1001,Mt=1002,Et=1003,At=1004,Rt=1005,Lt=1006,Pt=1007,Ct=1008,Ot=1009,It=1010,Nt=1011,Ut=1012,Dt=1013,Bt=1014,Ft=1015,zt=1016,Gt=1017,Ht=1018,Vt=1019,kt=1020,jt=1021,Wt=1022,Xt=1023,qt=1024,Yt=1025,Zt=Xt,Jt=1026,Qt=1027,Kt=33776,$t=33777,te=33778,ee=33779,ie=35840,ne=35841,re=35842,ae=35843,oe=36196,se=37808,ce=37809,he=37810,le=37811,ue=37812,pe=37813,de=37814,fe=37815,me=37816,ge=37817,ve=37818,ye=37819,xe=37820,be=37821,_e=2300,we=2301,Me=2400,Ee=2401,Te=2402,Se=0,Ae=3e3,Re=3001,Le=3007,Pe=3002,Ce=3004,Oe=3005,Ie=3006,Ne=3200,Ue=3201,De={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var r=[],t=0;t<256;t++)r[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&e]+r[e>>8&255]+"-"+r[e>>16&15|64]+r[e>>24&255]+"-"+r[63&i|128]+r[i>>8&255]+"-"+r[i>>16&255]+r[i>>24&255]+r[255&n]+r[n>>8&255]+r[n>>16&255]+r[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:i<=t?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:i<=t?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*De.DEG2RAD},radToDeg:function(t){return t*De.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Be(t,e){this.x=t||0,this.y=e||0}function Fe(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function ze(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}function Ge(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function He(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Be.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(Be.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:(i=new Be,n=new Be,function(t,e){return i.set(t,t),n.set(e,e),this.clamp(i,n)}),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}}),Object.assign(Fe.prototype,{isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,c,h,l,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=n,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=c,g[6]=h,g[10]=l,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Fe).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:(c=new Ge,function(t){var e=this.elements,i=t.elements,n=1/c.setFromMatrixColumn(t,0).length(),r=1/c.setFromMatrixColumn(t,1).length(),a=1/c.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,this}),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),c=Math.sin(n),h=Math.cos(r),l=Math.sin(r);if("XYZ"===t.order){var u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-o*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=a*s}else if("YXZ"===t.order){var m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m+y*o,e[4]=v*o-g,e[8]=a*c,e[1]=a*l,e[5]=a*h,e[9]=-o,e[2]=g*o-v,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order){m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m-y*o,e[4]=-a*l,e[8]=v+g*o,e[1]=g+v*o,e[5]=a*h,e[9]=y-m*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var x=a*s,b=a*c,_=o*s,w=o*c;e[0]=s*h,e[4]=w-x*l,e[8]=_*l+b,e[1]=l,e[5]=a*h,e[9]=-o*h,e[2]=-c*h,e[6]=b*l+_,e[10]=x-w*l}else if("XZY"===t.order){x=a*s,b=a*c,_=o*s,w=o*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=a*h,e[9]=b*l-_,e[2]=_*l-b,e[6]=o*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,i=t._x,n=t._y,r=t._z,a=t._w,o=i+i,s=n+n,c=r+r,h=i*o,l=i*s,u=i*c,p=n*s,d=n*c,f=r*c,m=a*o,g=a*s,v=a*c;return e[0]=1-(p+f),e[4]=l-v,e[8]=u+g,e[1]=l+v,e[5]=1-(h+f),e[9]=d-m,e[2]=u-g,e[6]=d+m,e[10]=1-(h+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:(a=new Ge,o=new Ge,s=new Ge,function(t,e,i){var n=this.elements;return s.subVectors(t,e),0===s.lengthSq()&&(s.z=1),s.normalize(),a.crossVectors(i,s),0===a.lengthSq()&&(1===Math.abs(i.z)?s.x+=1e-4:s.z+=1e-4,s.normalize(),a.crossVectors(i,s)),a.normalize(),o.crossVectors(s,a),n[0]=a.x,n[4]=o.x,n[8]=s.x,n[1]=a.y,n[5]=o.y,n[9]=s.y,n[2]=a.z,n[6]=o.z,n[10]=s.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],c=i[12],h=i[1],l=i[5],u=i[9],p=i[13],d=i[2],f=i[6],m=i[10],g=i[14],v=i[3],y=i[7],x=i[11],b=i[15],_=n[0],w=n[4],M=n[8],E=n[12],T=n[1],S=n[5],A=n[9],R=n[13],L=n[2],P=n[6],C=n[10],O=n[14],I=n[3],N=n[7],U=n[11],D=n[15];return r[0]=a*_+o*T+s*L+c*I,r[4]=a*w+o*S+s*P+c*N,r[8]=a*M+o*A+s*C+c*U,r[12]=a*E+o*R+s*O+c*D,r[1]=h*_+l*T+u*L+p*I,r[5]=h*w+l*S+u*P+p*N,r[9]=h*M+l*A+u*C+p*U,r[13]=h*E+l*R+u*O+p*D,r[2]=d*_+f*T+m*L+g*I,r[6]=d*w+f*S+m*P+g*N,r[10]=d*M+f*A+m*C+g*U,r[14]=d*E+f*R+m*O+g*D,r[3]=v*_+y*T+x*L+b*I,r[7]=v*w+y*S+x*P+b*N,r[11]=v*M+y*A+x*C+b*U,r[15]=v*E+y*R+x*O+b*D,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:(r=new Ge,function(t){for(var e=0,i=t.count;e<i;e++)r.x=t.getX(e),r.y=t.getY(e),r.z=t.getZ(e),r.applyMatrix4(this),t.setXYZ(e,r.x,r.y,r.z);return t}),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14];return t[3]*(+r*s*l-n*c*l-r*o*u+i*c*u+n*o*p-i*s*p)+t[7]*(+e*s*p-e*c*u+r*a*u-n*a*p+n*c*h-r*s*h)+t[11]*(+e*c*l-e*o*p-r*a*l+i*a*p+r*o*h-i*c*h)+t[15]*(-n*o*h-e*s*l+e*o*u+n*a*l-i*a*u+i*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,n=t.elements,r=n[0],a=n[1],o=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],x=n[15],b=d*y*u-v*f*u+v*l*m-h*y*m-d*l*x+h*f*x,_=g*f*u-p*y*u-g*l*m+c*y*m+p*l*x-c*f*x,w=p*v*u-g*d*u+g*h*m-c*v*m-p*h*x+c*d*x,M=g*d*l-p*v*l-g*h*f+c*v*f+p*h*y-c*d*y,E=r*b+a*_+o*w+s*M;if(0===E){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return i[0]=b*S,i[1]=(v*f*s-d*y*s-v*o*m+a*y*m+d*o*x-a*f*x)*S,i[2]=(h*y*s-v*l*s+v*o*u-a*y*u-h*o*x+a*l*x)*S,i[3]=(d*l*s-h*f*s-d*o*u+a*f*u+h*o*m-a*l*m)*S,i[4]=_*S,i[5]=(p*y*s-g*f*s+g*o*m-r*y*m-p*o*x+r*f*x)*S,i[6]=(g*l*s-c*y*s-g*o*u+r*y*u+c*o*x-r*l*x)*S,i[7]=(c*f*s-p*l*s+p*o*u-r*f*u-c*o*m+r*l*m)*S,i[8]=w*S,i[9]=(g*d*s-p*v*s-g*a*m+r*v*m+p*a*x-r*d*x)*S,i[10]=(c*v*s-g*h*s+g*a*u-r*v*u-c*a*x+r*h*x)*S,i[11]=(p*h*s-c*d*s-p*a*u+r*d*u+c*a*m-r*h*m)*S,i[12]=M*S,i[13]=(p*v*o-g*d*o+g*a*f-r*v*f-p*a*y+r*d*y)*S,i[14]=(g*h*o-c*v*o-g*a*l+r*v*l+c*a*y-r*h*y)*S,i[15]=(c*d*o-p*h*o+p*a*l-r*d*l-c*a*f+r*h*f)*S,this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,c=r*a,h=r*o;return this.set(c*a+i,c*o-n*s,c*s+n*o,0,c*o+n*s,h*o+i,h*s-n*a,0,c*s-n*o,h*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:(p=new Ge,d=new Fe,function(t,e,i){var n=this.elements,r=p.set(n[0],n[1],n[2]).length(),a=p.set(n[4],n[5],n[6]).length(),o=p.set(n[8],n[9],n[10]).length(),s=this.determinant();t.x=n[12],t.y=n[13],t.z=n[14],d.copy(this);var c=1;s<0&&(r=r,a=a,o=o,c=-1);var h=c/r,l=c/a,u=c/o;return d.elements[0]*=h,d.elements[1]*=h,d.elements[2]*=h,d.elements[4]*=l,d.elements[5]*=l,d.elements[6]*=l,d.elements[8]*=u,d.elements[9]*=u,d.elements[10]*=u,e.setFromRotationMatrix(d),i.x=r,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,n,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=parseFloat(r),c=parseFloat(a),h=2*s/(e-t),l=2*s/(i-n),u=(e+t)/(e-t),p=(i+n)/(i-n),d=-(c+s)/(c-s),f=-2*c*s/(c-s);return o[0]=h,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=p,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),c=1/(i-n),h=1/(a-r),l=(e+t)*s,u=(i+n)*c,p=(a+r)*h;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*h,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}),Object.assign(ze,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],c=i[n+1],h=i[n+2],l=i[n+3],u=r[a+0],p=r[a+1],d=r[a+2],f=r[a+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-o,g=s*u+c*p+h*d+l*f,v=0<=g?1:-1,y=1-g*g;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,g*v);m=Math.sin(m*b)/x,o=Math.sin(o*b)/x}var _=o*v;if(s=s*m+u*_,c=c*m+p*_,h=h*m+d*_,l=l*m+f*_,m===1-o){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),Object.defineProperties(ze.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(ze.prototype,{set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,n=t._y,r=t._z,a=t.order,o=Math.cos,s=Math.sin,c=o(i/2),h=o(n/2),l=o(r/2),u=s(i/2),p=s(n/2),d=s(r/2);return"XYZ"===a?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"YXZ"===a?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"ZXY"===a?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"ZYX"===a?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"YZX"===a?(this._x=u*h*l+c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l-u*p*d):"XZY"===a&&(this._x=u*h*l-c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l+u*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],c=i[9],h=i[2],l=i[6],u=i[10],p=n+s+u;return 0<p?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(a-h)*e,this._z=(o-r)*e):s<n&&u<n?(e=2*Math.sqrt(1+n-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+h)/e):u<s?(e=2*Math.sqrt(1+s-n-u),this._w=(a-h)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(o-r)/e,this._x=(a+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:(l=new Ge,function(t,e){return void 0===l&&(l=new Ge),(h=t.dot(e)+1)<1e-6?(h=0,Math.abs(t.x)>Math.abs(t.z)?l.set(-t.y,t.x,0):l.set(0,-t.z,t.y)):l.crossVectors(t,e),this._x=l.x,this._y=l.y,this._z=l.z,this._w=h,this.normalize()}),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,h=e._w;return this._x=i*h+a*o+n*c-r*s,this._y=n*h+a*s+r*o-i*c,this._z=r*h+a*c+i*s-n*o,this._w=a*h-i*o-n*s-r*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),1<=o)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var c=Math.atan2(s,o),h=Math.sin((1-e)*c)/s,l=Math.sin(e*c)/s;return this._w=a*h+this._w*l,this._x=i*h+this._x*l,this._y=n*h+this._y*l,this._z=r*h+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Ge.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(b=new ze,function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(b.setFromEuler(t))}),applyAxisAngle:(x=new ze,function(t,e){return this.applyQuaternion(x.setFromAxisAngle(t,e))}),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*n-o*i,h=s*i+o*e-r*n,l=s*n+r*i-a*e,u=-r*e-a*i-o*n;return this.x=c*s+u*-r+h*-o-l*-a,this.y=h*s+u*-a+l*-r-c*-o,this.z=l*s+u*-o+c*-a-h*-r,this},project:(y=new Fe,function(t){return y.multiplyMatrices(t.projectionMatrix,y.getInverse(t.matrixWorld)),this.applyMatrix4(y)}),unproject:(v=new Fe,function(t){return v.multiplyMatrices(t.matrixWorld,v.getInverse(t.projectionMatrix)),this.applyMatrix4(v)}),transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:(m=new Ge,g=new Ge,function(t,e){return m.set(t,t,t),g.set(e,e,e),this.clamp(m,g)}),clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(f=new Ge,function(t){return f.copy(this).projectOnVector(t),this.sub(f)}),reflect:(u=new Ge,function(t){return this.sub(u.copy(t).multiplyScalar(2*this.dot(t)))}),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(De.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(He.prototype,{isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,c){var h=this.elements;return h[0]=t,h[1]=n,h[2]=o,h[3]=e,h[4]=r,h[5]=s,h[6]=i,h[7]=a,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:(_=new Ge,function(t){for(var e=0,i=t.count;e<i;e++)_.x=t.getX(e),_.y=t.getY(e),_.z=t.getZ(e),_.applyMatrix3(this),t.setXYZ(e,_.x,_.y,_.z);return t}),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[3],s=i[6],c=i[1],h=i[4],l=i[7],u=i[2],p=i[5],d=i[8],f=n[0],m=n[3],g=n[6],v=n[1],y=n[4],x=n[7],b=n[2],_=n[5],w=n[8];return r[0]=a*f+o*v+s*b,r[3]=a*m+o*y+s*_,r[6]=a*g+o*x+s*w,r[1]=c*f+h*v+l*b,r[4]=c*m+h*y+l*_,r[7]=c*g+h*x+l*w,r[2]=u*f+p*v+d*b,r[5]=u*m+p*y+d*_,r[8]=u*g+p*x+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],h=t[8];return e*a*h-e*o*c-i*r*h+i*o*s+n*r*c-n*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],c=i[4],h=i[5],l=i[6],u=i[7],p=i[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,g=r*d+a*f+o*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return n[0]=d*y,n[1]=(o*u-p*a)*y,n[2]=(h*a-o*c)*y,n[3]=f*y,n[4]=(p*r-o*l)*y,n[5]=(o*s-h*r)*y,n[6]=m*y,n[7]=(a*l-u*r)*y,n[8]=(c*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,n,r,a,o){var s=Math.cos(r),c=Math.sin(r);this.set(i*s,i*c,-i*(s*a+c*o)+a+t,-n*c,n*s,-n*(-c*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.elements,r=n[0],a=n[3],o=n[6],s=n[1],c=n[4],h=n[7];return n[0]=e*r+i*s,n[3]=e*a+i*c,n[6]=e*o+i*h,n[1]=-i*r+e*s,n[4]=-i*a+e*c,n[7]=-i*o+e*h,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var Ve,ke,je,We,Xe,qe,Ye,Ze,Je,Qe,Ke,$e,ti,ei,ii,ni,ri,ai=0;function oi(t,e,i,n,r,a,o,s,c,h){Object.defineProperty(this,"id",{value:ai++}),this.uuid=De.generateUUID(),this.name="",this.image=void 0!==t?t:oi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:oi.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:wt,this.wrapT=void 0!==n?n:wt,this.magFilter=void 0!==r?r:Lt,this.minFilter=void 0!==a?a:Ct,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:Xt,this.type=void 0!==s?s:Ot,this.offset=new Be(0,0),this.repeat=new Be(1,1),this.center=new Be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new He,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:Ae,this.version=0,this.onUpdate=null}function si(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function ci(t,e,i){this.width=t,this.height=e,this.scissor=new si(0,0,t,e),this.scissorTest=!1,this.viewport=new si(0,0,t,e),void 0===(i=i||{}).minFilter&&(i.minFilter=Lt),this.texture=new oi(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function hi(t,e,i){ci.call(this,t,e,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function li(t,e,i,n,r,a,o,s,c,h,l,u){oi.call(this,null,a,o,s,c,h,n,r,l,u),this.image={data:t,width:e,height:i},this.magFilter=void 0!==c?c:Et,this.minFilter=void 0!==h?h:Et,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function ui(t,e){this.min=void 0!==t?t:new Ge(1/0,1/0,1/0),this.max=void 0!==e?e:new Ge(-1/0,-1/0,-1/0)}function pi(t,e){this.center=void 0!==t?t:new Ge,this.radius=void 0!==e?e:0}function di(t,e){this.normal=void 0!==t?t:new Ge(1,0,0),this.constant=void 0!==e?e:0}function fi(t,e,i,n,r,a){this.planes=[void 0!==t?t:new di,void 0!==e?e:new di,void 0!==i?i:new di,void 0!==n?n:new di,void 0!==r?r:new di,void 0!==a?a:new di]}oi.DEFAULT_IMAGE=void 0,oi.DEFAULT_MAPPING=300,oi.prototype=Object.assign(Object.create(e.prototype),{constructor:oi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=De.generateUUID()),e||void 0!==t.images[n.uuid]||(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height;var i=e.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height)}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),i.image=n.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.applyMatrix3(this.matrix),t.x<0||1<t.x)switch(this.wrapS){case _t:t.x=t.x-Math.floor(t.x);break;case wt:t.x=t.x<0?0:1;break;case Mt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case _t:t.y=t.y-Math.floor(t.y);break;case wt:t.y=t.y<0?0:1;break;case Mt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(oi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(si.prototype,{isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,a=t.elements,o=a[0],s=a[4],c=a[8],h=a[1],l=a[5],u=a[9],p=a[2],d=a[6],f=a[10];if(Math.abs(s-h)<.01&&Math.abs(c-p)<.01&&Math.abs(u-d)<.01){if(Math.abs(s+h)<.1&&Math.abs(c+p)<.1&&Math.abs(u+d)<.1&&Math.abs(o+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,g=(l+1)/2,v=(f+1)/2,y=(s+h)/4,x=(c+p)/4,b=(u+d)/4;return g<m&&v<m?m<.01?(i=0,r=n=.707106781):(n=y/(i=Math.sqrt(m)),r=x/i):v<g?g<.01?(n=0,r=i=.707106781):(i=y/(n=Math.sqrt(g)),r=b/n):v<.01?(n=i=.707106781,r=0):(i=x/(r=Math.sqrt(v)),n=b/r),this.set(i,n,r,e),this}var _=Math.sqrt((d-u)*(d-u)+(c-p)*(c-p)+(h-s)*(h-s));return Math.abs(_)<.001&&(_=1),this.x=(d-u)/_,this.y=(c-p)/_,this.z=(h-s)/_,this.w=Math.acos((o+l+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===Ve&&(Ve=new si,ke=new si),Ve.set(t,t,t,t),ke.set(e,e,e,e),this.clamp(Ve,ke)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),ci.prototype=Object.assign(Object.create(e.prototype),{constructor:ci,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((hi.prototype=Object.create(ci.prototype)).constructor=hi).prototype.isWebGLRenderTargetCube=!0,((li.prototype=Object.create(oi.prototype)).constructor=li).prototype.isDataTexture=!0,Object.assign(ui.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<i&&(i=l),u<n&&(n=u),r<h&&(r=h),a<l&&(a=l),o<u&&(o=u)}return this.min.set(e,i,n),this.max.set(r,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var h=t.getX(s),l=t.getY(s),u=t.getZ(s);h<e&&(e=h),l<i&&(i=l),u<n&&(n=u),r<h&&(r=h),a<l&&(a=l),o<u&&(o=u)}return this.min.set(e,i,n),this.max.set(r,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(Ye=new Ge,function(t,e){var i=Ye.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Ge),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Ge),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var r,a,o,s=new Ge;function e(t){var e=t.geometry;if(void 0!==e)if(e.isGeometry){var i=e.vertices;for(a=0,o=i.length;a<o;a++)s.copy(i[a]),s.applyMatrix4(t.matrixWorld),r.expandByPoint(s)}else if(e.isBufferGeometry){var n=e.attributes.position;if(void 0!==n)for(a=0,o=n.count;a<o;a++)s.fromBufferAttribute(n,a).applyMatrix4(t.matrixWorld),r.expandByPoint(s)}}return function(t){return r=this,t.updateMatrixWorld(!0),t.traverse(e),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Ge),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(qe=new Ge,function(t){return this.clampPoint(t.center,qe),qe.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return 0<t.normal.x?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),0<t.normal.y?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},intersectsTriangle:function(){var s=new Ge,c=new Ge,h=new Ge,i=new Ge,n=new Ge,r=new Ge,l=new Ge,a=new Ge,u=new Ge,o=new Ge;function p(t){var e,i;for(e=0,i=t.length-3;e<=i;e+=3){l.fromArray(t,e);var n=u.x*Math.abs(l.x)+u.y*Math.abs(l.y)+u.z*Math.abs(l.z),r=s.dot(l),a=c.dot(l),o=h.dot(l);if(Math.max(-Math.max(r,a,o),Math.min(r,a,o))>n)return!1}return!0}return function(t){if(this.isEmpty())return!1;this.getCenter(a),u.subVectors(this.max,a),s.subVectors(t.a,a),c.subVectors(t.b,a),h.subVectors(t.c,a),i.subVectors(c,s),n.subVectors(h,c),r.subVectors(s,h);var e=[0,-i.z,i.y,0,-n.z,n.y,0,-r.z,r.y,i.z,0,-i.x,n.z,0,-n.x,r.z,0,-r.x,-i.y,i.x,0,-n.y,n.x,0,-r.y,r.x,0];return!!p(e)&&(!!p(e=[1,0,0,0,1,0,0,0,1])&&(o.crossVectors(i,n),p(e=[o.x,o.y,o.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Ge),e.copy(t).clamp(this.min,this.max)},distanceToPoint:(Xe=new Ge,function(t){return Xe.copy(t).clamp(this.min,this.max).sub(t).length()}),getBoundingSphere:(We=new Ge,function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new pi),this.getCenter(t.center),t.radius=.5*this.getSize(We).length(),t}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(je=[new Ge,new Ge,new Ge,new Ge,new Ge,new Ge,new Ge,new Ge],function(t){return this.isEmpty()||(je[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),je[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),je[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),je[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),je[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),je[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),je[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),je[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(je)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(pi.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(Ze=new ui,function(t,e){var i=this.center;void 0!==e?i.copy(e):Ze.setFromPoints(t).getCenter(i);for(var n=0,r=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Ge),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ui),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(di.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:($e=new Ge,ti=new Ge,function(t,e,i){var n=$e.subVectors(i,e).cross(ti.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Ge),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:(Ke=new Ge,function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Ge);var i=t.delta(Ke),n=this.normal.dot(i);if(0===n)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/n;return r<0||1<r?void 0:e.copy(i).multiplyScalar(r).add(t.start)}),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&0<i||i<0&&0<e},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Ge),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(Je=new Ge,Qe=new He,function(t,e){var i=e||Qe.getNormalMatrix(t),n=this.coplanarPoint(Je).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this}),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(fi.prototype,{set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],c=i[5],h=i[6],l=i[7],u=i[8],p=i[9],d=i[10],f=i[11],m=i[12],g=i[13],v=i[14],y=i[15];return e[0].setComponents(o-n,l-s,f-u,y-m).normalize(),e[1].setComponents(o+n,l+s,f+u,y+m).normalize(),e[2].setComponents(o+r,l+c,f+p,y+g).normalize(),e[3].setComponents(o-r,l-c,f-p,y-g).normalize(),e[4].setComponents(o-a,l-h,f-d,y-v).normalize(),e[5].setComponents(o+a,l+h,f+d,y+v).normalize(),this},intersectsObject:(ri=new pi,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ri.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ri)}),intersectsSprite:(ni=new pi,function(t){return ni.center.set(0,0,0),ni.radius=.7071067811865476,ni.applyMatrix4(t.matrixWorld),this.intersectsSphere(ni)}),intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(i)<n)return!1}return!0},intersectsBox:(ei=new Ge,ii=new Ge,function(t){for(var e=this.planes,i=0;i<6;i++){var n=e[i];ei.x=0<n.normal.x?t.min.x:t.max.x,ii.x=0<n.normal.x?t.max.x:t.min.x,ei.y=0<n.normal.y?t.min.y:t.max.y,ii.y=0<n.normal.y?t.max.y:t.min.y,ei.z=0<n.normal.z?t.min.z:t.max.z,ii.z=0<n.normal.z?t.max.z:t.min.z;var r=n.distanceToPoint(ei),a=n.distanceToPoint(ii);if(r<0&&a<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}});var mi,gi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_pars_maps:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity - 0.4;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( normal.z > 0.0 ));\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\t\tscale *= float( gl_FrontFacing ) * 2.0 - 1.0;\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},vi={merge:function(t){for(var e={},i=0;i<t.length;i++){var n=this.clone(t[i]);for(var r in n)e[r]=n[r]}return e},clone:function(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}return e}},yi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xi(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}Object.assign(xi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function a(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(t,e,i){if(t=De.euclideanModulo(t,1),e=De.clamp(e,0,1),i=De.clamp(i,0,1),0===e)this.r=this.g=this.b=i;else{var n=i<=.5?i*(1+e):i+e-i*e,r=2*i-n;this.r=a(r,n,t+1/3),this.g=a(r,n,t),this.b=a(r,n,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(o,s,c)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var h,l=(h=i[1]).length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}e&&0<e.length&&(void 0!==(h=yi[e])?this.setHex(h):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=0<e?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,i,n=this.r,r=this.g,a=this.b,o=Math.max(n,r,a),s=Math.min(n,r,a),c=(s+o)/2;if(s===o)i=e=0;else{var h=o-s;switch(i=c<=.5?h/(o+s):h/(2-o-s),o){case n:e=(r-a)/h+(r<a?6:0);break;case r:e=(a-n)/h+2;break;case a:e=(n-r)/h+4}e/=6}return t.h=e,t.s=i,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(mi={},function(t,e,i){return this.getHSL(mi),mi.h+=t,mi.s+=e,mi.l+=i,this.setHSL(mi.h,mi.s,mi.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var bi,_i,wi={common:{diffuse:{value:new xi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new He},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Be(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xi(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new xi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new He}}},Mi={basic:{uniforms:vi.merge([wi.common,wi.specularmap,wi.envmap,wi.aomap,wi.lightmap,wi.fog]),vertexShader:gi.meshbasic_vert,fragmentShader:gi.meshbasic_frag},lambert:{uniforms:vi.merge([wi.common,wi.specularmap,wi.envmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.fog,wi.lights,{emissive:{value:new xi(0)}}]),vertexShader:gi.meshlambert_vert,fragmentShader:gi.meshlambert_frag},phong:{uniforms:vi.merge([wi.common,wi.specularmap,wi.envmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.bumpmap,wi.normalmap,wi.displacementmap,wi.gradientmap,wi.fog,wi.lights,{emissive:{value:new xi(0)},specular:{value:new xi(1118481)},shininess:{value:30}}]),vertexShader:gi.meshphong_vert,fragmentShader:gi.meshphong_frag},standard:{uniforms:vi.merge([wi.common,wi.envmap,wi.aomap,wi.lightmap,wi.emissivemap,wi.bumpmap,wi.normalmap,wi.displacementmap,wi.roughnessmap,wi.metalnessmap,wi.fog,wi.lights,{emissive:{value:new xi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:gi.meshphysical_vert,fragmentShader:gi.meshphysical_frag},points:{uniforms:vi.merge([wi.points,wi.fog]),vertexShader:gi.points_vert,fragmentShader:gi.points_frag},dashed:{uniforms:vi.merge([wi.common,wi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gi.linedashed_vert,fragmentShader:gi.linedashed_frag},depth:{uniforms:vi.merge([wi.common,wi.displacementmap]),vertexShader:gi.depth_vert,fragmentShader:gi.depth_frag},normal:{uniforms:vi.merge([wi.common,wi.bumpmap,wi.normalmap,wi.displacementmap,{opacity:{value:1}}]),vertexShader:gi.normal_vert,fragmentShader:gi.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gi.cube_vert,fragmentShader:gi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gi.equirect_vert,fragmentShader:gi.equirect_frag},distanceRGBA:{uniforms:vi.merge([wi.common,wi.displacementmap,{referencePosition:{value:new Ge},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gi.distanceRGBA_vert,fragmentShader:gi.distanceRGBA_frag},shadow:{uniforms:vi.merge([wi.lights,wi.fog,{color:{value:new xi(0)},opacity:{value:1}}]),vertexShader:gi.shadow_vert,fragmentShader:gi.shadow_frag}};function Ei(c){var h=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),h.get(t)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var e=h.get(t);e&&(c.deleteBuffer(e.buffer),h.delete(t))},update:function(t,e){t.isInterleavedBufferAttribute&&(t=t.data);var i,n,r,a,o,s=h.get(t);void 0===s?h.set(t,function(t,e){var i=t.array,n=t.dynamic?c.DYNAMIC_DRAW:c.STATIC_DRAW,r=c.createBuffer();c.bindBuffer(e,r),c.bufferData(e,i,n),t.onUploadCallback();var a=c.FLOAT;return i instanceof Float32Array?a=c.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?a=c.UNSIGNED_SHORT:i instanceof Int16Array?a=c.SHORT:i instanceof Uint32Array?a=c.UNSIGNED_INT:i instanceof Int32Array?a=c.INT:i instanceof Int8Array?a=c.BYTE:i instanceof Uint8Array&&(a=c.UNSIGNED_BYTE),{buffer:r,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,e)):s.version<t.version&&(i=s.buffer,r=e,a=(n=t).array,o=n.updateRange,c.bindBuffer(r,i),!1===n.dynamic?c.bufferData(r,a,c.STATIC_DRAW):-1===o.count?c.bufferSubData(r,0,a):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(c.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),s.version=t.version)}}}function Ti(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||Ti.DefaultOrder}function Si(){this.mask=1}Mi.physical={uniforms:vi.merge([Mi.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:gi.meshphysical_vert,fragmentShader:gi.meshphysical_frag},Ti.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ti.DefaultOrder="XYZ",Object.defineProperties(Ti.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(Ti.prototype,{isEuler:!0,set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=De.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],h=r[5],l=r[9],u=r[2],p=r[6],d=r[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,h),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,h))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:(_i=new Fe,function(t,e,i){return _i.makeRotationFromQuaternion(t),this.setFromRotationMatrix(_i,e,i)}),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(bi=new ze,function(t){return bi.setFromEuler(this),this.setFromQuaternion(bi,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Ge(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Si.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Ai,Ri,Li,Pi,Ci,Oi,Ii,Ni,Ui,Di,Bi,Fi,zi,Gi,Hi,Vi,ki,ji,Wi=0;function Xi(){Object.defineProperty(this,"id",{value:Wi++}),this.uuid=De.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xi.DefaultUp.clone();var t=new Ge,e=new Ti,i=new ze,n=new Ge(1,1,1);e.onChange(function(){i.setFromEuler(e,!1)}),i.onChange(function(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new Fe},normalMatrix:{value:new He}}),this.matrix=new Fe,this.matrixWorld=new Fe,this.matrixAutoUpdate=Xi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Si,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function qi(){Xi.call(this),this.type="Camera",this.matrixWorldInverse=new Fe,this.projectionMatrix=new Fe}function Yi(t,e,i,n,r,a){qi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Zi(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new Ge,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new xi,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Xi.DefaultUp=new Ge(0,1,0),Xi.DefaultMatrixAutoUpdate=!0,Xi.prototype=Object.assign(Object.create(e.prototype),{constructor:Xi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(ki=new ze,function(t,e){return ki.setFromAxisAngle(t,e),this.quaternion.multiply(ki),this}),rotateOnWorldAxis:(Vi=new ze,function(t,e){return Vi.setFromAxisAngle(t,e),this.quaternion.premultiply(Vi),this}),rotateX:(Hi=new Ge(1,0,0),function(t){return this.rotateOnAxis(Hi,t)}),rotateY:(Gi=new Ge(0,1,0),function(t){return this.rotateOnAxis(Gi,t)}),rotateZ:(zi=new Ge(0,0,1),function(t){return this.rotateOnAxis(zi,t)}),translateOnAxis:(Fi=new Ge,function(t,e){return Fi.copy(t).applyQuaternion(this.quaternion),this.position.add(Fi.multiplyScalar(e)),this}),translateX:(Bi=new Ge(1,0,0),function(t){return this.translateOnAxis(Bi,t)}),translateY:(Di=new Ge(0,1,0),function(t){return this.translateOnAxis(Di,t)}),translateZ:(Ui=new Ge(0,0,1),function(t){return this.translateOnAxis(Ui,t)}),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(Ni=new Fe,function(t){return t.applyMatrix4(Ni.getInverse(this.matrixWorld))}),lookAt:(Oi=new Fe,Ii=new Ge,function(t,e,i){t.isVector3?Ii.copy(t):Ii.set(t,e,i),this.isCamera?Oi.lookAt(this.position,Ii,this.up):Oi.lookAt(Ii,this.position,this.up),this.quaternion.setFromRotationMatrix(Oi)}),add:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this},remove:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Ge),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Pi=new Ge,Ci=new Ge,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new ze),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Pi,t,Ci),t}),getWorldScale:(Ri=new Ge,Li=new ze,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Ge),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ri,Li,t),t}),getWorldDirection:(Ai=new ze,function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Ge),this.getWorldQuaternion(Ai),t.set(0,0,1).applyQuaternion(Ai)}),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},toJSON:function(i){var t=void 0===i||"string"==typeof i,e={};t&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function r(t,e){return void 0===t[e.uuid]&&(t[e.uuid]=e.toJSON(i)),e.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),void 0!==this.geometry){n.geometry=r(i.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var h=o[s];r(i.shapes,h)}else r(i.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,c=this.material.length;s<c;s++)l.push(r(i.materials,this.material[s]));n.material=l}else n.material=r(i.materials,this.material);if(0<this.children.length){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(i).object)}if(t){var u=m(i.geometries),p=m(i.materials),d=m(i.textures),f=m(i.images);o=m(i.shapes);0<u.length&&(e.geometries=u),0<p.length&&(e.materials=p),0<d.length&&(e.textures=d),0<f.length&&(e.images=f),0<o.length&&(e.shapes=o)}return e.object=n,e;function m(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}}),qi.prototype=Object.assign(Object.create(Xi.prototype),{constructor:qi,isCamera:!0,copy:function(t,e){return Xi.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:(ji=new ze,function(t){return void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Ge),this.getWorldQuaternion(ji),t.set(0,0,-1).applyQuaternion(ji)}),updateMatrixWorld:function(t){Xi.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Yi.prototype=Object.assign(Object.create(qi.prototype),{constructor:Yi,isOrthographicCamera:!0,copy:function(t,e){return qi.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-t,a=i+t,o=n+e,s=n-e;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;a=(r+=l*(this.view.offsetX/c))+l*(this.view.width/c),s=(o-=u*(this.view.offsetY/h))-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(Zi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var Ji,Qi,Ki,$i,tn,en,nn,rn=0;function an(){Object.defineProperty(this,"id",{value:rn+=2}),this.uuid=De.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function on(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function sn(t,e,i){on.call(this,new Int8Array(t),e,i)}function cn(t,e,i){on.call(this,new Uint8Array(t),e,i)}function hn(t,e,i){on.call(this,new Uint8ClampedArray(t),e,i)}function ln(t,e,i){on.call(this,new Int16Array(t),e,i)}function un(t,e,i){on.call(this,new Uint16Array(t),e,i)}function pn(t,e,i){on.call(this,new Int32Array(t),e,i)}function dn(t,e,i){on.call(this,new Uint32Array(t),e,i)}function fn(t,e,i){on.call(this,new Float32Array(t),e,i)}function mn(t,e,i){on.call(this,new Float64Array(t),e,i)}function gn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function vn(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,n=t.length;i<n;++i)t[i]>e&&(e=t[i]);return e}an.prototype=Object.assign(Object.create(e.prototype),{constructor:an,isGeometry:!0,applyMatrix:function(t){for(var e=(new He).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++){this.vertices[i].applyMatrix4(t)}for(i=0,n=this.faces.length;i<n;i++){var r=this.faces[i];r.normal.applyMatrix3(e).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:(nn=new Fe,function(t){return nn.makeRotationX(t),this.applyMatrix(nn),this}),rotateY:(en=new Fe,function(t){return en.makeRotationY(t),this.applyMatrix(en),this}),rotateZ:(tn=new Fe,function(t){return tn.makeRotationZ(t),this.applyMatrix(tn),this}),translate:($i=new Fe,function(t,e,i){return $i.makeTranslation(t,e,i),this.applyMatrix($i),this}),scale:(Ki=new Fe,function(t,e,i){return Ki.makeScale(t,e,i),this.applyMatrix(Ki),this}),lookAt:(Qi=new Xi,function(t){Qi.lookAt(t),Qi.updateMatrix(),this.applyMatrix(Qi.matrix)}),fromBufferGeometry:function(t){var a=this,e=null!==t.index?t.index.array:void 0,i=t.attributes,n=i.position.array,o=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,h=void 0!==i.uv2?i.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var l=[],u=[],p=[],r=0,d=0;r<n.length;r+=3,d+=2)a.vertices.push(new Ge(n[r],n[r+1],n[r+2])),void 0!==o&&l.push(new Ge(o[r],o[r+1],o[r+2])),void 0!==s&&a.colors.push(new xi(s[r],s[r+1],s[r+2])),void 0!==c&&u.push(new Be(c[d],c[d+1])),void 0!==h&&p.push(new Be(h[d],h[d+1]));function f(t,e,i,n){var r=new Zi(t,e,i,void 0!==o?[l[t].clone(),l[e].clone(),l[i].clone()]:[],void 0!==s?[a.colors[t].clone(),a.colors[e].clone(),a.colors[i].clone()]:[],n);a.faces.push(r),void 0!==c&&a.faceVertexUvs[0].push([u[t].clone(),u[e].clone(),u[i].clone()]),void 0!==h&&a.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[i].clone()])}var m=t.groups;if(0<m.length)for(r=0;r<m.length;r++)for(var g=m[r],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==e?f(e[d],e[d+1],e[d+2],g.materialIndex):f(d,d+1,d+2,g.materialIndex);else if(void 0!==e)for(r=0;r<e.length;r+=3)f(e[r],e[r+1],e[r+2]);else for(r=0;r<n.length/3;r+=3)f(r,r+1,r+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(Ji=new Ge,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ji).negate(),this.translate(Ji.x,Ji.y,Ji.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new Fe;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new Ge,e=new Ge,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n,r,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new Ge;if(t){var s,c,h,l=new Ge,u=new Ge;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],c=this.vertices[a.b],h=this.vertices[a.c],l.subVectors(h,c),u.subVectors(s,c),l.cross(u),o[a.a].add(l),o[a.b].add(l),o[a.c].add(l)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)o[(a=this.faces[n]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(n=0,r=this.faces.length;n<r;n++){var p=(a=this.faces[n]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var n=(i=this.faces[t]).vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for((r=this.faces[i]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new an;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)c=new Ge,h={a:new Ge,b:new Ge,c:new Ge},o.push(c),s.push(h)}var c,h,l=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],c=l.faceNormals[i],h=l.vertexNormals[i],c.copy(r.normal),h.a.copy(r.vertexNormals[0]),h.b.copy(r.vertexNormals[1]),h.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)(r=this.faces[i]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ui),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new pi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new He).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,v,y,x=c[d],b=x.vertexNormals,_=x.vertexColors;(g=new Zi(x.a+r,x.b+r,x.c+r)).normal.copy(x.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var w=0,M=b.length;w<M;w++)v=b[w].clone(),void 0!==n&&v.applyMatrix3(n).normalize(),g.vertexNormals.push(v);g.color.copy(x.color);for(w=0,M=_.length;w<M;w++)y=_[w],g.vertexColors.push(y.clone());g.materialIndex=x.materialIndex+i,s.push(g)}for(d=0,f=l.length;d<f;d++){var E=l[d],T=[];if(void 0!==E){for(w=0,M=E.length;w<M;w++)T.push(E[w].clone());h.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,i,n,r,a,o,s,c={},h=[],l=[],u=Math.pow(10,4);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],void 0===c[e=Math.round(t.x*u)+"_"+Math.round(t.y*u)+"_"+Math.round(t.z*u)]?(c[e]=i,h.push(this.vertices[i]),l[i]=h.length-1):l[i]=l[c[e]];var p=[];for(i=0,n=this.faces.length;i<n;i++){(r=this.faces[i]).a=l[r.a],r.b=l[r.b],r.c=l[r.c],a=[r.a,r.b,r.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;0<=i;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-h.length;return this.vertices=h,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];this.vertices.push(new Ge(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var n,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===e&&(n=[]),o&&o.length===e&&(r=[]);for(i=0;i<e;i++){var s=t[i]._id;n&&n.push(a[s]),r&&r.push(o[s])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var n=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];n.push(a.x,a.y,a.z)}var o=[],s=[],c={},h=[],l={},u=[],p={};for(r=0;r<this.faces.length;r++){var d=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],m=0<d.normal.length(),g=0<d.vertexNormals.length,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=0<d.vertexColors.length,x=0;if(x=M(x=M(x=M(x=M(x=M(x=M(x=M(x=M(x,0,0),1,!0),2,!1),3,f),4,m),5,g),6,v),7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][r];o.push(S(b[0]),S(b[1]),S(b[2]))}if(m&&o.push(E(d.normal)),g){var _=d.vertexNormals;o.push(E(_[0]),E(_[1]),E(_[2]))}if(v&&o.push(T(d.color)),y){var w=d.vertexColors;o.push(T(w[0]),T(w[1]),T(w[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function E(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]||(l[e]=h.length,h.push(t.getHex())),l[e]}function S(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=u.length/2,u.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=n,t.data.normals=s,0<h.length&&(t.data.colors=h),0<u.length&&(t.data.uvs=[u]),t.data.faces=o,t},clone:function(){return(new an).copy(this)},copy:function(t){var e,i,n,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,i=c.length;e<i;e++)this.colors.push(c[e].clone());var h=t.faces;for(e=0,i=h.length;e<i;e++)this.faces.push(h[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,r=l.length;n<r;n++){var u=l[n],p=[];for(a=0,o=u.length;a<o;a++){var d=u[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],n=0,r=f[e].vertices.length;n<r;n++)m.vertices.push(f[e].vertices[n].clone());if(void 0!==f[e].normals)for(m.normals=[],n=0,r=f[e].normals.length;n<r;n++)m.normals.push(f[e].normals[n].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,i=g.length;e<i;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],n=0,r=g[e].vertexNormals.length;n<r;n++){var y=g[e].vertexNormals[n],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],n=0,r=g[e].faceNormals.length;n<r;n++)v.faceNormals.push(g[e].faceNormals[n].clone());this.morphNormals.push(v)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var _=t.skinIndices;for(e=0,i=_.length;e<i;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,i=w.length;e<i;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(on.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(on.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new xi),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new Be),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new Ge),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new si),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(sn.prototype=Object.create(on.prototype)).constructor=sn,(cn.prototype=Object.create(on.prototype)).constructor=cn,(hn.prototype=Object.create(on.prototype)).constructor=hn,(ln.prototype=Object.create(on.prototype)).constructor=ln,(un.prototype=Object.create(on.prototype)).constructor=un,(pn.prototype=Object.create(on.prototype)).constructor=pn,(dn.prototype=Object.create(on.prototype)).constructor=dn,(fn.prototype=Object.create(on.prototype)).constructor=fn,(mn.prototype=Object.create(on.prototype)).constructor=mn,Object.assign(gn.prototype,{computeGroups:function(t){for(var e,i=[],n=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==n&&(n=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:n})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,n=t.vertices,r=t.faceVertexUvs,a=r[0]&&0<r[0].length,o=r[1]&&0<r[1].length,s=t.morphTargets,c=s.length;if(0<c){e=[];for(var h=0;h<c;h++)e[h]=[];this.morphTargets.position=e}var l,u=t.morphNormals,p=u.length;if(0<p){l=[];for(h=0;h<p;h++)l[h]=[];this.morphTargets.normal=l}var d=t.skinIndices,f=t.skinWeights,m=d.length===n.length,g=f.length===n.length;for(h=0;h<i.length;h++){var v=i[h];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=v.normal;this.normals.push(x,x,x)}var b,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===a)void 0!==(b=r[0][h])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new Be,new Be,new Be));if(!0===o)void 0!==(b=r[1][h])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new Be,new Be,new Be));for(var M=0;M<c;M++){var E=s[M].vertices;e[M].push(E[v.a],E[v.b],E[v.c])}for(M=0;M<p;M++){var T=u[M].vertexNormals[h];l[M].push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var yn,xn,bn,_n,wn,Mn,En,Tn,Sn,An,Rn=1;function Ln(){Object.defineProperty(this,"id",{value:Rn+=2}),this.uuid=De.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Pn(t,e,i,n,r,a){an.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Cn(t,e,i,n,r,a)),this.mergeVertices()}function Cn(t,e,i,n,r,a){Ln.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var L=this;t=t||1,e=e||1,i=i||1,n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var P=[],C=[],O=[],I=[],N=0,U=0;function o(t,e,i,n,r,a,o,s,c,h,l){var u,p,d=a/c,f=o/h,m=a/2,g=o/2,v=s/2,y=c+1,x=h+1,b=0,_=0,w=new Ge;for(p=0;p<x;p++){var M=p*f-g;for(u=0;u<y;u++){var E=u*d-m;w[t]=E*n,w[e]=M*r,w[i]=v,C.push(w.x,w.y,w.z),w[t]=0,w[e]=0,w[i]=0<s?1:-1,O.push(w.x,w.y,w.z),I.push(u/c),I.push(1-p/h),b+=1}}for(p=0;p<h;p++)for(u=0;u<c;u++){var T=N+u+y*p,S=N+u+y*(p+1),A=N+(u+1)+y*(p+1),R=N+(u+1)+y*p;P.push(T,S,R),P.push(S,A,R),_+=6}L.addGroup(U,_,l),U+=_,N+=b}o("z","y","x",-1,-1,i,e,t,a,r,0),o("z","y","x",1,-1,i,e,-t,a,r,1),o("x","z","y",1,1,t,i,e,n,a,2),o("x","z","y",1,-1,t,i,-e,n,a,3),o("x","y","z",1,-1,t,e,i,n,r,4),o("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(P),this.addAttribute("position",new fn(C,3)),this.addAttribute("normal",new fn(O,3)),this.addAttribute("uv",new fn(I,2))}function On(t,e,i,n){an.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new In(t,e,i,n)),this.mergeVertices()}function In(t,e,i,n){Ln.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};var r,a,o=(t=t||1)/2,s=(e=e||1)/2,c=Math.floor(i)||1,h=Math.floor(n)||1,l=c+1,u=h+1,p=t/c,d=e/h,f=[],m=[],g=[],v=[];for(a=0;a<u;a++){var y=a*d-s;for(r=0;r<l;r++){var x=r*p-o;m.push(x,-y,0),g.push(0,0,1),v.push(r/c),v.push(1-a/h)}}for(a=0;a<h;a++)for(r=0;r<c;r++){var b=r+l*a,_=r+l*(a+1),w=r+1+l*(a+1),M=r+1+l*a;f.push(b,_,M),f.push(_,w,M)}this.setIndex(f),this.addAttribute("position",new fn(m,3)),this.addAttribute("normal",new fn(g,3)),this.addAttribute("uv",new fn(v,2))}Ln.prototype=Object.assign(Object.create(e.prototype),{constructor:Ln,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<vn(t)?dn:un)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new on(e,arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new He).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(An=new Fe,function(t){return An.makeRotationX(t),this.applyMatrix(An),this}),rotateY:(Sn=new Fe,function(t){return Sn.makeRotationY(t),this.applyMatrix(Sn),this}),rotateZ:(Tn=new Fe,function(t){return Tn.makeRotationZ(t),this.applyMatrix(Tn),this}),translate:(En=new Fe,function(t,e,i){return En.makeTranslation(t,e,i),this.applyMatrix(En),this}),scale:(Mn=new Fe,function(t,e,i){return Mn.makeScale(t,e,i),this.applyMatrix(Mn),this}),lookAt:(wn=new Xi,function(t){wn.lookAt(t),wn.updateMatrix(),this.applyMatrix(wn.matrix)}),center:(_n=new Ge,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(_n).negate(),this.translate(_n.x,_n.y,_n.z),this}),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new fn(3*e.vertices.length,3),n=new fn(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new fn(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new fn(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var n=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(n=void 0,i.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new gn).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new on(e,3).copyVector3sArray(t.vertices)),0<t.normals.length){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new on(i,3).copyVector3sArray(t.normals))}if(0<t.colors.length){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new on(n,3).copyColorsArray(t.colors))}if(0<t.uvs.length){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new on(r,2).copyVector2sArray(t.uvs))}if(0<t.uvs2.length){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new on(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[o],h=0,l=c.length;h<l;h++){var u=c[h],p=new fn(3*u.length,3);s.push(p.copyVector3sArray(u))}this.morphAttributes[o]=s}if(0<t.skinIndices.length){var d=new fn(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(0<t.skinWeights.length){var f=new fn(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ui);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(xn=new ui,bn=new Ge,function(){null===this.boundingSphere&&(this.boundingSphere=new pi);var t=this.attributes.position;if(t){var e=this.boundingSphere.center;xn.setFromBufferAttribute(t),xn.getCenter(e);for(var i=0,n=0,r=t.count;n<r;n++)bn.x=t.getX(n),bn.y=t.getY(n),bn.z=t.getZ(n),i=Math.max(i,e.distanceToSquared(bn));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new on(new Float32Array(n.length),3));else for(var r=e.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,c,h,l=e.normal.array,u=new Ge,p=new Ge,d=new Ge,f=new Ge,m=new Ge;if(t){var g=t.array;0===i.length&&this.addGroup(0,g.length);for(var v=0,y=i.length;v<y;++v){var x=i[v],b=x.start;for(a=b,o=b+x.count;a<o;a+=3)s=3*g[a+0],c=3*g[a+1],h=3*g[a+2],u.fromArray(n,s),p.fromArray(n,c),d.fromArray(n,h),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z,l[h]+=f.x,l[h+1]+=f.y,l[h+2]+=f.z}}else for(a=0,o=n.length;a<o;a+=9)u.fromArray(n,a),p.fromArray(n,a+3),d.fromArray(n,a+6),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[a]=f.x,l[a+1]=f.y,l[a+2]=f.z,l[a+3]=f.x,l[a+4]=f.y,l[a+5]=f.z,l[a+6]=f.x,l[a+7]=f.y,l[a+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n].array,a=t.attributes[n],o=a.array,s=0,c=a.itemSize*e;s<o.length;s++,c++)r[c]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:(yn=new Ge,function(){for(var t=this.attributes.normal,e=0,i=t.count;e<i;e++)yn.x=t.getX(e),yn.y=t.getY(e),yn.z=t.getZ(e),yn.normalize(),t.setXYZ(e,yn.x,yn.y,yn.z)}),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ln,e=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],a=r.array,o=r.itemSize,s=new a.constructor(e.length*o),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*o;for(var p=0;p<o;p++)s[h++]=a[c++]}t.addAttribute(n,new on(s,o))}var d=this.groups;for(l=0,u=d.length;l<u;l++){var f=d[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:r}}var a=this.attributes;for(var i in a){var o=a[i];r=Array.prototype.slice.call(o.array);t.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;0<s.length&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Ln).copy(this)},copy:function(t){var e,i,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var c=[],h=s[e];for(i=0,n=h.length;i<n;i++)c.push(h[i].clone());this.morphAttributes[e]=c}var l=t.groups;for(i=0,n=l.length;i<n;i++){var u=l[i];this.addGroup(u.start,u.count,u.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Pn.prototype=Object.create(an.prototype)).constructor=Pn,(Cn.prototype=Object.create(Ln.prototype)).constructor=Cn,(On.prototype=Object.create(an.prototype)).constructor=On,(In.prototype=Object.create(Ln.prototype)).constructor=In;var Nn,Un,Dn,Bn,Fn,zn,Gn,Hn,Vn,kn,jn,Wn,Xn,qn,Yn,Zn,Jn,Qn,Kn,$n,tr,er,ir,nr,rr=0;function ar(){Object.defineProperty(this,"id",{value:rr++}),this.uuid=De.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=q,this.side=U,this.flatShading=!1,this.vertexColors=Tt,this.opacity=1,this.transparent=!1,this.blendSrc=O,this.blendDst=I,this.blendEquation=M,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=nt,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function or(t){ar.call(this),this.type="MeshBasicMaterial",this.color=new xi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function sr(t){ar.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function cr(t,e){this.origin=void 0!==t?t:new Ge,this.direction=void 0!==e?e:new Ge}function hr(t,e){this.start=void 0!==t?t:new Ge,this.end=void 0!==e?e:new Ge}function lr(t,e,i){this.a=void 0!==t?t:new Ge,this.b=void 0!==e?e:new Ge,this.c=void 0!==i?i:new Ge}function ur(t,e){Xi.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ln,this.material=void 0!==e?e:new or({color:16777215*Math.random()}),this.drawMode=Se,this.updateMorphTargets()}function pr(a,i,o,n){var s,c,h,l=new xi(0),u=0;function p(t,e){i.buffers.color.setClear(t.r,t.g,t.b,e,n)}return{getClearColor:function(){return l},setClearColor:function(t,e){l.set(t),p(l,u=void 0!==e?e:1)},getClearAlpha:function(){return u},setClearAlpha:function(t){p(l,u=t)},render:function(t,e,i,n){var r=e.background;null===r?p(l,u):r&&r.isColor&&(p(r,1),n=!0),(a.autoClear||n)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),r&&r.isCubeTexture?(void 0===h&&((h=new ur(new Cn(1,1,1),new sr({uniforms:Mi.cube.uniforms,vertexShader:Mi.cube.vertexShader,fragmentShader:Mi.cube.fragmentShader,side:Z,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),h.geometry.removeAttribute("uv"),h.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},o.update(h.geometry)),h.material.uniforms.tCube.value=r,t.push(h,h.geometry,h.material,0,null)):r&&r.isTexture&&(void 0===s&&(s=new Yi(-1,1,1,-1,0,1),c=new ur(new In(2,2),new or({depthTest:!1,depthWrite:!1,fog:!1})),o.update(c.geometry)),c.material.map=r,a.renderBufferDirect(s,null,c.geometry,c.material,c,null))}}}function dr(i,a,o){var s;this.setMode=function(t){s=t},this.render=function(t,e){i.drawArrays(s,t,e),o.update(e,s)},this.renderInstances=function(t,e,i){var n=a.get("ANGLE_instanced_arrays");if(null!==n){var r=t.attributes.position;r.isInterleavedBufferAttribute?(i=r.data.count,n.drawArraysInstancedANGLE(s,0,i,t.maxInstancedCount)):n.drawArraysInstancedANGLE(s,e,i,t.maxInstancedCount),o.update(i,s,t.maxInstancedCount)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function fr(e,i,t){var n;function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var a=void 0!==t.precision?t.precision:"highp",o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);var s=!0===t.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_TEXTURE_SIZE),u=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),d=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),f=e.getParameter(e.MAX_VARYING_VECTORS),m=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=0<h,v=!!i.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==n)return n;var t=i.get("EXT_texture_filter_anisotropic");return n=null!==t?e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:s,maxTextures:c,maxVertexTextures:h,maxTextureSize:l,maxCubemapSize:u,maxAttributes:p,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}function mr(){var l=this,u=null,p=0,d=!1,f=!1,m=new di,g=new He,v={value:null,needsUpdate:!1};function y(){v.value!==u&&(v.value=u,v.needsUpdate=0<p),l.numPlanes=p,l.numIntersection=0}function x(t,e,i,n){var r=null!==t?t.length:0,a=null;if(0!==r){if(a=v.value,!0!==n||null===a){var o=i+4*r,s=e.matrixWorldInverse;g.getNormalMatrix(s),(null===a||a.length<o)&&(a=new Float32Array(o));for(var c=0,h=i;c!==r;++c,h+=4)m.copy(t[c]).applyMatrix4(s,g),m.normal.toArray(a,h),a[h+3]=m.constant}v.value=a,v.needsUpdate=!0}return l.numPlanes=r,a}this.uniform=v,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,i){var n=0!==t.length||e||0!==p||d;return d=e,u=x(t,i,0),p=t.length,n},this.beginShadows=function(){f=!0,x(null)},this.endShadows=function(){f=!1,y()},this.setState=function(t,e,i,n,r,a){if(!d||null===t||0===t.length||f&&!i)f?x(null):y();else{var o=f?0:p,s=4*o,c=r.clippingState||null;v.value=c,c=x(t,n,s,a);for(var h=0;h!==s;++h)c[h]=u[h];r.clippingState=c,this.numIntersection=e?this.numPlanes:0,this.numPlanes+=o}}}function gr(i){var n={};return{get:function(t){if(void 0!==n[t])return n[t];var e;switch(t){case"WEBGL_depth_texture":e=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=i.getExtension(t)}return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),n[t]=e}}}function vr(u,p,a){var o={},d={};function s(t){var e=t.target,i=o[e.id];for(var n in null!==i.index&&p.remove(i.index),i.attributes)p.remove(i.attributes[n]);e.removeEventListener("dispose",s),delete o[e.id];var r=d[e.id];r&&(p.remove(r),delete d[e.id]),(r=d[i.id])&&(p.remove(r),delete d[i.id]),a.memory.geometries--}return{get:function(t,e){var i=o[e.id];return i||(e.addEventListener("dispose",s),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ln).setFromObject(t)),i=e._bufferGeometry),o[e.id]=i,a.memory.geometries++,i)},update:function(t){var e=t.index,i=t.attributes;for(var n in null!==e&&p.update(e,u.ELEMENT_ARRAY_BUFFER),i)p.update(i[n],u.ARRAY_BUFFER);var r=t.morphAttributes;for(var n in r)for(var a=r[n],o=0,s=a.length;o<s;o++)p.update(a[o],u.ARRAY_BUFFER)},getWireframeAttribute:function(t){var e=d[t.id];if(e)return e;var i,n=[],r=t.index,a=t.attributes;if(null!==r)for(var o=0,s=(i=r.array).length;o<s;o+=3){var c=i[o+0],h=i[o+1],l=i[o+2];n.push(c,h,h,l,l,c)}else for(o=0,s=(i=a.position.array).length/3-1;o<s;o+=3)c=o+0,h=o+1,l=o+2,n.push(c,h,h,l,l,c);return e=new(65535<vn(n)?dn:un)(n,1),p.update(e,u.ELEMENT_ARRAY_BUFFER),d[t.id]=e}}}function yr(i,r,a){var o,s,c;this.setMode=function(t){o=t},this.setIndex=function(t){s=t.type,c=t.bytesPerElement},this.render=function(t,e){i.drawElements(o,e,s,t*c),a.update(e,o)},this.renderInstances=function(t,e,i){var n=r.get("ANGLE_instanced_arrays");null!==n?(n.drawElementsInstancedANGLE(o,i,s,e*c,t.maxInstancedCount),a.update(i,o,t.maxInstancedCount)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function xr(n){var r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:r,programs:null,autoReset:!0,reset:function(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0},update:function(t,e,i){switch(i=i||1,r.calls++,e){case n.TRIANGLES:r.triangles+=i*(t/3);break;case n.TRIANGLE_STRIP:case n.TRIANGLE_FAN:r.triangles+=i*(t-2);break;case n.LINES:r.lines+=i*(t/2);break;case n.LINE_STRIP:r.lines+=i*(t-1);break;case n.LINE_LOOP:r.lines+=i*t;break;case n.POINTS:r.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function br(t,e){return Math.abs(e[1])-Math.abs(t[1])}function _r(d){var f={},m=new Float32Array(8);return{update:function(t,e,i,n){var r=t.morphTargetInfluences,a=r.length,o=f[e.id];if(void 0===o){o=[];for(var s=0;s<a;s++)o[s]=[s,0];f[e.id]=o}var c=i.morphTargets&&e.morphAttributes.position,h=i.morphNormals&&e.morphAttributes.normal;for(s=0;s<a;s++)0!==(l=o[s])[1]&&(c&&e.removeAttribute("morphTarget"+s),h&&e.removeAttribute("morphNormal"+s));for(s=0;s<a;s++)(l=o[s])[0]=s,l[1]=r[s];for(o.sort(br),s=0;s<8;s++){var l;if(l=o[s]){var u=l[0],p=l[1];if(p){c&&e.addAttribute("morphTarget"+s,c[u]),h&&e.addAttribute("morphNormal"+s,h[u]),m[s]=p;continue}}m[s]=0}n.getUniforms().setValue(d,"morphTargetInfluences",m)}}}function wr(r,a){var o={};return{update:function(t){var e=a.render.frame,i=t.geometry,n=r.get(t,i);return o[n.id]!==e&&(i.isGeometry&&n.updateFromObject(t),r.update(n),o[n.id]=e),n},dispose:function(){o={}}}}function Mr(t,e,i,n,r,a,o,s,c,h){oi.call(this,t=void 0!==t?t:[],e=void 0!==e?e:ft,i,n,r,a,o,s,c,h),this.flipY=!1}ar.prototype=Object.assign(Object.create(e.prototype),{constructor:ar,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var n=this[e];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]="overdraw"===e?Number(i):i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==q&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==U&&(i.side=this.side),this.vertexColors!==Tt&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){var r=n(t.textures),a=n(t.images);0<r.length&&(i.textures=r),0<a.length&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var n=e.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((or.prototype=Object.create(ar.prototype)).constructor=or).prototype.isMeshBasicMaterial=!0,or.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},((sr.prototype=Object.create(ar.prototype)).constructor=sr).prototype.isShaderMaterial=!0,sr.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=vi.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},sr.prototype.toJSON=function(t){var e=ar.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(cr.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Ge),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:(jn=new Ge,function(t){return this.origin.copy(this.at(t,jn)),this}),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Ge),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:(kn=new Ge,function(t){var e=kn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(kn.copy(this.direction).multiplyScalar(e).add(this.origin),kn.distanceToSquared(t))}),distanceSqToSegment:(Gn=new Ge,Hn=new Ge,Vn=new Ge,function(t,e,i,n){Gn.copy(t).add(e).multiplyScalar(.5),Hn.copy(e).sub(t).normalize(),Vn.copy(this.origin).sub(Gn);var r,a,o,s,c=.5*t.distanceTo(e),h=-this.direction.dot(Hn),l=Vn.dot(this.direction),u=-Vn.dot(Hn),p=Vn.lengthSq(),d=Math.abs(1-h*h);if(0<d)if(a=h*l-u,s=c*d,0<=(r=h*u-l))if(-s<=a)if(a<=s){var f=1/d;o=(r*=f)*(r+h*(a*=f)+2*l)+a*(h*r+a+2*u)+p}else a=c,o=-(r=Math.max(0,-(h*a+l)))*r+a*(a+2*u)+p;else a=-c,o=-(r=Math.max(0,-(h*a+l)))*r+a*(a+2*u)+p;else a<=-s?o=-(r=Math.max(0,-(-h*c+l)))*r+(a=0<r?-c:Math.min(Math.max(-c,-u),c))*(a+2*u)+p:a<=s?(r=0,o=(a=Math.min(Math.max(-c,-u),c))*(a+2*u)+p):o=-(r=Math.max(0,-(h*c+l)))*r+(a=0<r?c:Math.min(Math.max(-c,-u),c))*(a+2*u)+p;else a=0<h?-c:c,o=-(r=Math.max(0,-(h*a+l)))*r+a*(a+2*u)+p;return i&&i.copy(this.direction).multiplyScalar(r).add(this.origin),n&&n.copy(Hn).multiplyScalar(a).add(Gn),o}),intersectSphere:(zn=new Ge,function(t,e){zn.subVectors(t.center,this.origin);var i=zn.dot(this.direction),n=zn.dot(zn)-i*i,r=t.radius*t.radius;if(r<n)return null;var a=Math.sqrt(r-n),o=i-a,s=i+a;return o<0&&s<0?null:o<0?this.at(s,e):this.at(o,e)}),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return 0<=i?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,n,r,a,o,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return 0<=c?(i=(t.min.x-u.x)*c,n=(t.max.x-u.x)*c):(i=(t.max.x-u.x)*c,n=(t.min.x-u.x)*c),0<=h?(r=(t.min.y-u.y)*h,a=(t.max.y-u.y)*h):(r=(t.max.y-u.y)*h,a=(t.min.y-u.y)*h),a<i||n<r?null:((i<r||i!=i)&&(i=r),(a<n||n!=n)&&(n=a),0<=l?(o=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(o=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),s<i||n<o?null:((i<o||i!=i)&&(i=o),(s<n||n!=n)&&(n=s),n<0?null:this.at(0<=i?i:n,e)))},intersectsBox:(Fn=new Ge,function(t){return null!==this.intersectBox(t,Fn)}),intersectTriangle:(Nn=new Ge,Un=new Ge,Dn=new Ge,Bn=new Ge,function(t,e,i,n,r){Un.subVectors(e,t),Dn.subVectors(i,t),Bn.crossVectors(Un,Dn);var a,o=this.direction.dot(Bn);if(0<o){if(n)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Nn.subVectors(this.origin,t);var s=a*this.direction.dot(Dn.crossVectors(Nn,Dn));if(s<0)return null;var c=a*this.direction.dot(Un.cross(Nn));if(c<0)return null;if(o<s+c)return null;var h=-a*Nn.dot(Bn);return h<0?null:this.at(h/o,r)}),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(hr.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Ge),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Ge),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Ge),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(Wn=new Ge,Xn=new Ge,function(t,e){Wn.subVectors(t,this.start),Xn.subVectors(this.end,this.start);var i=Xn.dot(Xn),n=Xn.dot(Wn)/i;return e&&(n=De.clamp(n,0,1)),n}),closestPointToPoint:function(t,e,i){var n=this.closestPointToPointParameter(t,e);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new Ge),this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(lr,{getNormal:(Qn=new Ge,function(t,e,i,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new Ge),n.subVectors(i,e),Qn.subVectors(t,e),n.cross(Qn);var r=n.lengthSq();return 0<r?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}),getBarycoord:(Yn=new Ge,Zn=new Ge,Jn=new Ge,function(t,e,i,n,r){Yn.subVectors(n,e),Zn.subVectors(i,e),Jn.subVectors(t,e);var a=Yn.dot(Yn),o=Yn.dot(Zn),s=Yn.dot(Jn),c=Zn.dot(Zn),h=Zn.dot(Jn),l=a*c-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Ge),0===l)return r.set(-2,-1,-1);var u=1/l,p=(c*s-o*h)*u,d=(a*h-o*s)*u;return r.set(1-p-d,d,p)}),containsPoint:(qn=new Ge,function(t,e,i,n){return lr.getBarycoord(t,e,i,n,qn),0<=qn.x&&0<=qn.y&&qn.x+qn.y<=1})}),Object.assign(lr.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:(ir=new Ge,nr=new Ge,function(){return ir.subVectors(this.c,this.b),nr.subVectors(this.a,this.b),.5*ir.cross(nr).length()}),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Ge),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return lr.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Ge),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return lr.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return lr.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(Kn=new di,$n=[new hr,new hr,new hr],tr=new Ge,er=new Ge,function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Ge);var i=1/0;if(Kn.setFromCoplanarPoints(this.a,this.b,this.c),Kn.projectPoint(t,tr),!0===this.containsPoint(tr))e.copy(tr);else{$n[0].set(this.a,this.b),$n[1].set(this.b,this.c),$n[2].set(this.c,this.a);for(var n=0;n<$n.length;n++){$n[n].closestPointToPoint(tr,!0,er);var r=tr.distanceToSquared(er);r<i&&(i=r,e.copy(er))}}return e}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),ur.prototype=Object.assign(Object.create(Xi.prototype),{constructor:ur,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Xi.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,a=Object.keys(r);if(0<a.length){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=n.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)i=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}},raycast:function(){var I=new Fe,N=new cr,U=new pi,D=new Ge,B=new Ge,F=new Ge,z=new Ge,G=new Ge,H=new Ge,V=new Be,k=new Be,j=new Be,s=new Ge,W=new Ge,h=new Ge;function X(t,e,i,n,r,a,o){return lr.getBarycoord(t,e,i,n,s),r.multiplyScalar(s.x),a.multiplyScalar(s.y),o.multiplyScalar(s.z),r.add(a).add(o),r.clone()}function q(t,e,i,n,r,a,o,s){if(null===(e.side===Z?n.intersectTriangle(o,a,r,!0,s):n.intersectTriangle(r,a,o,e.side!==J,s)))return null;h.copy(s),h.applyMatrix4(t.matrixWorld);var c=i.ray.origin.distanceTo(h);return c<i.near||c>i.far?null:{distance:c,point:h.clone(),object:t}}function Y(t,e,i,n,r,a,o,s){D.fromBufferAttribute(n,a),B.fromBufferAttribute(n,o),F.fromBufferAttribute(n,s);var c=q(t,t.material,e,i,D,B,F,W);if(c){r&&(V.fromBufferAttribute(r,a),k.fromBufferAttribute(r,o),j.fromBufferAttribute(r,s),c.uv=X(W,D,B,F,V,k,j));var h=new Zi(a,o,s);lr.getNormal(D,B,F,h.normal),c.face=h,c.faceIndex=a}return c}return function(t,e){var i,n=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),U.copy(n.boundingSphere),U.applyMatrix4(a),!1!==t.ray.intersectsSphere(U)&&(I.getInverse(a),N.copy(t.ray).applyMatrix4(I),null===n.boundingBox||!1!==N.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var o,s,c,h,l,u=n.index,p=n.attributes.position,d=n.attributes.uv;if(null!==u)for(h=0,l=u.count;h<l;h+=3)o=u.getX(h),s=u.getX(h+1),c=u.getX(h+2),(i=Y(this,t,N,p,d,o,s,c))&&(i.faceIndex=Math.floor(h/3),e.push(i));else if(void 0!==p)for(h=0,l=p.count;h<l;h+=3)(i=Y(this,t,N,p,d,o=h,s=h+1,c=h+2))&&e.push(i)}else if(n.isGeometry){var f,m,g,v,y=Array.isArray(r),x=n.vertices,b=n.faces,_=n.faceVertexUvs[0];0<_.length&&(v=_);for(var w=0,M=b.length;w<M;w++){var E=b[w],T=y?r[E.materialIndex]:r;if(void 0!==T){if(f=x[E.a],m=x[E.b],g=x[E.c],!0===T.morphTargets){var S=n.morphTargets,A=this.morphTargetInfluences;D.set(0,0,0),B.set(0,0,0),F.set(0,0,0);for(var R=0,L=S.length;R<L;R++){var P=A[R];if(0!==P){var C=S[R].vertices;D.addScaledVector(z.subVectors(C[E.a],f),P),B.addScaledVector(G.subVectors(C[E.b],m),P),F.addScaledVector(H.subVectors(C[E.c],g),P)}}D.add(f),B.add(m),F.add(g),f=D,m=B,g=F}if(i=q(this,T,t,N,f,m,g,W)){if(v&&v[w]){var O=v[w];V.copy(O[0]),k.copy(O[1]),j.copy(O[2]),i.uv=X(W,f,m,g,V,k,j)}i.face=E,i.faceIndex=w,e.push(i)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((Mr.prototype=Object.create(oi.prototype)).constructor=Mr).prototype.isCubeTexture=!0,Object.defineProperty(Mr.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Er=new oi,Tr=new Mr;function Sr(){this.seq=[],this.map={}}var Ar=[],Rr=[],Lr=new Float32Array(16),Pr=new Float32Array(9);function Cr(t,e,i){var n=t[0];if(n<=0||0<n)return t;var r=e*i,a=Ar[r];if(void 0===a&&(a=new Float32Array(r),Ar[r]=a),0!==e){n.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function Or(t,e){var i=Rr[e];void 0===i&&(i=new Int32Array(e),Rr[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocTextureUnit();return i}function Ir(t,e){t.uniform1f(this.addr,e)}function Nr(t,e){t.uniform1i(this.addr,e)}function Ur(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function Dr(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function Br(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function Fr(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function zr(t,e){void 0===e.elements?t.uniformMatrix3fv(this.addr,!1,e):(Pr.set(e.elements),t.uniformMatrix3fv(this.addr,!1,Pr))}function Gr(t,e){void 0===e.elements?t.uniformMatrix4fv(this.addr,!1,e):(Lr.set(e.elements),t.uniformMatrix4fv(this.addr,!1,Lr))}function Hr(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTexture2D(e||Er,n)}function Vr(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTextureCube(e||Tr,n)}function kr(t,e){t.uniform2iv(this.addr,e)}function jr(t,e){t.uniform3iv(this.addr,e)}function Wr(t,e){t.uniform4iv(this.addr,e)}function Xr(t,e){t.uniform1fv(this.addr,e)}function qr(t,e){t.uniform1iv(this.addr,e)}function Yr(t,e){t.uniform2fv(this.addr,Cr(e,this.size,2))}function Zr(t,e){t.uniform3fv(this.addr,Cr(e,this.size,3))}function Jr(t,e){t.uniform4fv(this.addr,Cr(e,this.size,4))}function Qr(t,e){t.uniformMatrix2fv(this.addr,!1,Cr(e,this.size,4))}function Kr(t,e){t.uniformMatrix3fv(this.addr,!1,Cr(e,this.size,9))}function $r(t,e){t.uniformMatrix4fv(this.addr,!1,Cr(e,this.size,16))}function ta(t,e,i){var n=e.length,r=Or(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTexture2D(e[a]||Er,r[a])}function ea(t,e,i){var n=e.length,r=Or(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTextureCube(e[a]||Tr,r[a])}function ia(t,e,i){this.id=t,this.addr=i,this.setValue=function(t){switch(t){case 5126:return Ir;case 35664:return Ur;case 35665:return Dr;case 35666:return Br;case 35674:return Fr;case 35675:return zr;case 35676:return Gr;case 35678:case 36198:return Hr;case 35680:return Vr;case 5124:case 35670:return Nr;case 35667:case 35671:return kr;case 35668:case 35672:return jr;case 35669:case 35673:return Wr}}(e.type)}function na(t,e,i){this.id=t,this.addr=i,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Xr;case 35664:return Yr;case 35665:return Zr;case 35666:return Jr;case 35674:return Qr;case 35675:return Kr;case 35676:return $r;case 35678:return ta;case 35680:return ea;case 5124:case 35670:return qr;case 35667:case 35671:return kr;case 35668:case 35672:return jr;case 35669:case 35673:return Wr}}(e.type)}function ra(t){this.id=t,Sr.call(this)}ra.prototype.setValue=function(t,e){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var a=i[n];a.setValue(t,e[a.id])}};var aa=/([\w\d_]+)(\])?(\[|\.)?/g;function oa(t,e){t.seq.push(e),t.map[e.id]=e}function sa(t,e,i){var n=t.name,r=n.length;for(aa.lastIndex=0;;){var a=aa.exec(n),o=aa.lastIndex,s=a[1],c="]"===a[2],h=a[3];if(c&&(s|=0),void 0===h||"["===h&&o+2===r){oa(i,void 0===h?new ia(s,t,e):new na(s,t,e));break}var l=i.map[s];void 0===l&&oa(i,l=new ra(s)),i=l}}function ca(t,e,i){Sr.call(this),this.renderer=i;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r<n;++r){var a=t.getActiveUniform(e,r);sa(a,t.getUniformLocation(e,a.name),this)}}function ha(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}(i)),n}ca.prototype.setValue=function(t,e,i){var n=this.map[e];void 0!==n&&n.setValue(t,i,this.renderer)},ca.prototype.setOptional=function(t,e,i){var n=e[i];void 0!==n&&this.setValue(t,i,n)},ca.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,n)}},ca.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i};var la=0;function ua(t){switch(t){case Ae:return["Linear","( value )"];case Re:return["sRGB","( value )"];case Pe:return["RGBE","( value )"];case Ce:return["RGBM","( value, 7.0 )"];case Oe:return["RGBM","( value, 16.0 )"];case Ie:return["RGBD","( value, 256.0 )"];case Le:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function pa(t,e){var i=ua(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function da(t){return""!==t}function fa(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ma(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function ga(t){return t.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(t,e){var i=gi[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return ga(i)})}function va(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,i,n){for(var r="",a=parseInt(e);a<parseInt(i);a++)r+=n.replace(/\[ i \]/g,"[ "+a+" ]");return r})}function ya(t,e,i,n,r,a){var o=t.context,s=n.defines,c=r.vertexShader,h=r.fragmentShader,l="SHADOWMAP_TYPE_BASIC";a.shadowMapType===B?l="SHADOWMAP_TYPE_PCF":a.shadowMapType===F&&(l="SHADOWMAP_TYPE_PCF_SOFT");var u="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",d="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(n.envMap.mapping){case ft:case mt:u="ENVMAP_TYPE_CUBE";break;case xt:case bt:u="ENVMAP_TYPE_CUBE_UV";break;case gt:case vt:u="ENVMAP_TYPE_EQUIREC";break;case yt:u="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case mt:case vt:p="ENVMAP_MODE_REFRACTION"}switch(n.combine){case V:d="ENVMAP_BLENDING_MULTIPLY";break;case ct:d="ENVMAP_BLENDING_MIX";break;case ht:d="ENVMAP_BLENDING_ADD"}}var f,m,g,v,y,x,b,_,w=0<t.gammaFactor?t.gammaFactor:1,M=(f=n.extensions,m=a,g=e,[(f=f||{}).derivatives||m.envMapCubeUV||m.bumpMap||m.normalMap||m.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(f.fragDepth||m.logarithmicDepthBuffer)&&g.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",f.drawBuffers&&g.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(f.shaderTextureLOD||m.envMap)&&g.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(da).join("\n")),E=function(t){var e=[];for(var i in t){var n=t[i];!1!==n&&e.push("#define "+i+" "+n)}return e.join("\n")}(s),T=o.createProgram();n.isRawShaderMaterial?(0<(v=[E].filter(da).join("\n")).length&&(v+="\n"),0<(y=[M,E].filter(da).join("\n")).length&&(y+="\n")):(v=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,E,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+w,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+l:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(da).join("\n"),y=[M,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,E,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+w,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+u:"",a.envMap?"#define "+p:"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+l:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&e.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==lt?"#define TONE_MAPPING":"",a.toneMapping!==lt?gi.tonemapping_pars_fragment:"",a.toneMapping!==lt?function(t,e){var i;switch(e){case St:i="Linear";break;case ut:i="Reinhard";break;case pt:i="Uncharted2";break;case dt:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?gi.encodings_pars_fragment:"",a.mapEncoding?pa("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?pa("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?pa("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",b=a.outputEncoding,_=ua(b),"vec4 "+x+"( vec4 value ) { return LinearTo"+_[0]+_[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(da).join("\n")),c=ma(c=fa(c=ga(c),a),a),h=ma(h=fa(h=ga(h),a),a);var S=v+(c=va(c)),A=y+(h=va(h)),R=ha(o,o.VERTEX_SHADER,S),L=ha(o,o.FRAGMENT_SHADER,A);o.attachShader(T,R),o.attachShader(T,L),void 0!==n.index0AttributeName?o.bindAttribLocation(T,0,n.index0AttributeName):!0===a.morphTargets&&o.bindAttribLocation(T,0,"position"),o.linkProgram(T);var P,C,O=o.getProgramInfoLog(T).trim(),I=o.getShaderInfoLog(R).trim(),N=o.getShaderInfoLog(L).trim(),U=!0,D=!0;return!1===o.getProgramParameter(T,o.LINK_STATUS)?(U=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(T,o.VALIDATE_STATUS),"gl.getProgramInfoLog",O,I,N)):""!==O?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",O):""!==I&&""!==N||(D=!1),D&&(this.diagnostics={runnable:U,material:n,programLog:O,vertexShader:{log:I,prefix:v},fragmentShader:{log:N,prefix:y}}),o.deleteShader(R),o.deleteShader(L),this.getUniforms=function(){return void 0===P&&(P=new ca(o,T,t)),P},this.getAttributes=function(){return void 0===C&&(C=function(t,e){for(var i={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;r<n;r++){var a=t.getActiveAttrib(e,r).name;i[a]=t.getAttribLocation(e,a)}return i}(o,T)),C},this.destroy=function(){o.deleteProgram(T),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=r.name,this.id=la++,this.code=i,this.usedTimes=1,this.program=T,this.vertexShader=R,this.fragmentShader=L,this}function xa(u,c,p){var h=[],d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function f(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=t.texture.encoding):i=Ae,i===Ae&&e&&(i=Le),i}this.getParameters=function(t,e,i,n,r,a,o){var s=d[t.type],c=o.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(p.floatVertexTextures)return 1024;var i=p.maxVertexUniforms,n=Math.floor((i-20)/4),r=Math.min(n,e.length);return r<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+r+"."),0):r}(o):0,h=p.precision;null!==t.precision&&(h=p.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",h,"instead.");var l=u.getRenderTarget();return{shaderID:s,precision:h,supportsVertexTextures:p.vertexTextures,outputEncoding:f(l?l.texture:null,u.gammaOutput),map:!!t.map,mapEncoding:f(t.map,u.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:f(t.envMap,u.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===xt||t.envMap.mapping===bt),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:f(t.emissiveMap,u.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!n,useFog:t.fog,fogExp:n&&n.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:p.logarithmicDepthBuffer,skinning:t.skinning&&0<c,maxBones:c,useVertexTexture:p.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:u.maxMorphTargets,maxMorphNormals:u.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:r,numClipIntersection:a,dithering:t.dithering,shadowMapEnabled:u.shadowMap.enabled&&o.receiveShadow&&0<i.length,shadowMapType:u.shadowMap.type,toneMapping:u.toneMapping,physicallyCorrectLights:u.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===J,flipSided:t.side===Z,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(var r=0;r<a.length;r++)i.push(e[a[r]]);return i.push(t.onBeforeCompile.toString()),i.push(u.gammaOutput),i.join()},this.acquireProgram=function(t,e,i,n){for(var r,a=0,o=h.length;a<o;a++){var s=h[a];if(s.code===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new ya(u,c,n,t,e,i),h.push(r)),r},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=h.indexOf(t);h[e]=h[h.length-1],h.pop(),t.destroy()}},this.programs=h}function ba(){var n=new WeakMap;return{get:function(t){var e=n.get(t);return void 0===e&&(e={},n.set(t,e)),e},remove:function(t){n.delete(t)},update:function(t,e,i){n.get(t)[e]=i},dispose:function(){n=new WeakMap}}}function _a(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wa(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Ma(){var o=[],s=0,c=[],h=[];return{opaque:c,transparent:h,init:function(){s=0,c.length=0,h.length=0},push:function(t,e,i,n,r){var a=o[s];void 0===a?(a={id:t.id,object:t,geometry:e,material:i,program:i.program,renderOrder:t.renderOrder,z:n,group:r},o[s]=a):(a.id=t.id,a.object=t,a.geometry=e,a.material=i,a.program=i.program,a.renderOrder=t.renderOrder,a.z=n,a.group=r),(!0===i.transparent?h:c).push(a),s++},sort:function(){1<c.length&&c.sort(_a),1<h.length&&h.sort(wa)}}}function Ea(){var r={};return{get:function(t,e){var i=t.id+","+e.id,n=r[i];return void 0===n&&(n=new Ma,r[i]=n),n},dispose:function(){r={}}}}function Ta(){var i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];var e;switch(t.type){case"DirectionalLight":e={direction:new Ge,color:new xi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"SpotLight":e={position:new Ge,direction:new Ge,color:new xi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"PointLight":e={position:new Ge,color:new xi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Be,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":e={direction:new Ge,skyColor:new xi,groundColor:new xi};break;case"RectAreaLight":e={color:new xi,position:new Ge,halfWidth:new Ge,halfHeight:new Ge}}return i[t.id]=e}}}var Sa,Aa,Ra,La,Pa,Ca,Oa,Ia,Na,Ua,Da,Ba,Fa,za,Ga,Ha,Va,ka,ja=0;function Wa(){var _=new Ta,w={id:ja++,hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},M=new Ge,E=new Fe,T=new Fe;return{setup:function(t,e,i){for(var n=0,r=0,a=0,o=0,s=0,c=0,h=0,l=0,u=i.matrixWorldInverse,p=0,d=t.length;p<d;p++){var f=t[p],m=f.color,g=f.intensity,v=f.distance,y=f.shadow&&f.shadow.map?f.shadow.map.texture:null;if(f.isAmbientLight)n+=m.r*g,r+=m.g*g,a+=m.b*g;else if(f.isDirectionalLight){if((b=_.get(f)).color.copy(f.color).multiplyScalar(f.intensity),b.direction.setFromMatrixPosition(f.matrixWorld),M.setFromMatrixPosition(f.target.matrixWorld),b.direction.sub(M),b.direction.transformDirection(u),b.shadow=f.castShadow,f.castShadow){var x=f.shadow;b.shadowBias=x.bias,b.shadowRadius=x.radius,b.shadowMapSize=x.mapSize}w.directionalShadowMap[o]=y,w.directionalShadowMatrix[o]=f.shadow.matrix,w.directional[o]=b,o++}else if(f.isSpotLight)(b=_.get(f)).position.setFromMatrixPosition(f.matrixWorld),b.position.applyMatrix4(u),b.color.copy(m).multiplyScalar(g),b.distance=v,b.direction.setFromMatrixPosition(f.matrixWorld),M.setFromMatrixPosition(f.target.matrixWorld),b.direction.sub(M),b.direction.transformDirection(u),b.coneCos=Math.cos(f.angle),b.penumbraCos=Math.cos(f.angle*(1-f.penumbra)),b.decay=0===f.distance?0:f.decay,b.shadow=f.castShadow,f.castShadow&&(x=f.shadow,b.shadowBias=x.bias,b.shadowRadius=x.radius,b.shadowMapSize=x.mapSize),w.spotShadowMap[c]=y,w.spotShadowMatrix[c]=f.shadow.matrix,w.spot[c]=b,c++;else if(f.isRectAreaLight)(b=_.get(f)).color.copy(m).multiplyScalar(g),b.position.setFromMatrixPosition(f.matrixWorld),b.position.applyMatrix4(u),T.identity(),E.copy(f.matrixWorld),E.premultiply(u),T.extractRotation(E),b.halfWidth.set(.5*f.width,0,0),b.halfHeight.set(0,.5*f.height,0),b.halfWidth.applyMatrix4(T),b.halfHeight.applyMatrix4(T),w.rectArea[h]=b,h++;else if(f.isPointLight)(b=_.get(f)).position.setFromMatrixPosition(f.matrixWorld),b.position.applyMatrix4(u),b.color.copy(f.color).multiplyScalar(f.intensity),b.distance=f.distance,b.decay=0===f.distance?0:f.decay,b.shadow=f.castShadow,f.castShadow&&(x=f.shadow,b.shadowBias=x.bias,b.shadowRadius=x.radius,b.shadowMapSize=x.mapSize,b.shadowCameraNear=x.camera.near,b.shadowCameraFar=x.camera.far),w.pointShadowMap[s]=y,w.pointShadowMatrix[s]=f.shadow.matrix,w.point[s]=b,s++;else if(f.isHemisphereLight){var b;(b=_.get(f)).direction.setFromMatrixPosition(f.matrixWorld),b.direction.transformDirection(u),b.direction.normalize(),b.skyColor.copy(f.color).multiplyScalar(g),b.groundColor.copy(f.groundColor).multiplyScalar(g),w.hemi[l]=b,l++}}w.ambient[0]=n,w.ambient[1]=r,w.ambient[2]=a,w.directional.length=o,w.spot.length=c,w.rectArea.length=h,w.point.length=s,w.hemi.length=l,w.hash=w.id+","+o+","+s+","+c+","+h+","+l+","+e.length},state:w}}function Xa(){var e=new Wa,i=[],n=[],r=[];return{init:function(){i.length=0,n.length=0,r.length=0},state:{lightsArray:i,shadowsArray:n,spritesArray:r,lights:e},setupLights:function(t){e.setup(i,n,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){n.push(t)},pushSprite:function(t){r.push(t)}}}function qa(){var r={};return{get:function(t,e){var i=t.id+","+e.id,n=r[i];return void 0===n&&(n=new Xa,r[i]=n),n},dispose:function(){r={}}}}function Ya(t){ar.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ne,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Za(t){ar.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ge,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Ja(x,m,t){for(var b=new fi,_=new Fe,w=new Be,M=new Be(t,t),E=new Ge,T=new Ge,v=1,y=2,e=1+(v|y),S=new Array(e),A=new Array(e),R={},L={0:Z,1:U,2:J},P=[new Ge(1,0,0),new Ge(-1,0,0),new Ge(0,0,1),new Ge(0,0,-1),new Ge(0,1,0),new Ge(0,-1,0)],C=[new Ge(0,1,0),new Ge(0,1,0),new Ge(0,1,0),new Ge(0,1,0),new Ge(0,0,1),new Ge(0,0,-1)],O=[new si,new si,new si,new si,new si,new si],i=0;i!==e;++i){var n=0!=(i&v),r=0!=(i&y),a=new Ya({depthPacking:Ue,morphTargets:n,skinning:r});S[i]=a;var o=new Za({morphTargets:n,skinning:r});A[i]=o}var I=this;function g(t,e,i,n,r,a){var o=t.geometry,s=null,c=S,h=t.customDepthMaterial;if(i&&(c=A,h=t.customDistanceMaterial),h)s=h;else{var l=!1;e.morphTargets&&(o&&o.isBufferGeometry?l=o.morphAttributes&&o.morphAttributes.position&&0<o.morphAttributes.position.length:o&&o.isGeometry&&(l=o.morphTargets&&0<o.morphTargets.length)),t.isSkinnedMesh&&!1===e.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var u=t.isSkinnedMesh&&e.skinning,p=0;l&&(p|=v),u&&(p|=y),s=c[p]}if(x.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length){var d=s.uuid,f=e.uuid,m=R[d];void 0===m&&(m={},R[d]=m);var g=m[f];void 0===g&&(g=s.clone(),m[f]=g),s=g}return s.visible=e.visible,s.wireframe=e.wireframe,s.side=null!=e.shadowSide?e.shadowSide:L[e.side],s.clipShadows=e.clipShadows,s.clippingPlanes=e.clippingPlanes,s.clipIntersection=e.clipIntersection,s.wireframeLinewidth=e.wireframeLinewidth,s.linewidth=e.linewidth,i&&s.isMeshDistanceMaterial&&(s.referencePosition.copy(n),s.nearDistance=r,s.farDistance=a),s}function N(t,e,i,n){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!t.frustumCulled||b.intersectsObject(t))){t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld);var r=m.update(t),a=t.material;if(Array.isArray(a))for(var o=r.groups,s=0,c=o.length;s<c;s++){var h=o[s],l=a[h.materialIndex];if(l&&l.visible){var u=g(t,l,n,T,i.near,i.far);x.renderBufferDirect(i,null,r,u,t,h)}}else if(a.visible){u=g(t,a,n,T,i.near,i.far);x.renderBufferDirect(i,null,r,u,t,null)}}for(var p=t.children,d=0,f=p.length;d<f;d++)N(p[d],e,i,n)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=B,this.render=function(t,e,i){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==t.length){var n,r=x.context,a=x.state;a.disable(r.BLEND),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var o=0,s=t.length;o<s;o++){var c=t[o],h=c.shadow,l=c&&c.isPointLight;if(void 0!==h){var u=h.camera;if(w.copy(h.mapSize),w.min(M),l){var p=w.x,d=w.y;O[0].set(2*p,d,p,d),O[1].set(0,d,p,d),O[2].set(3*p,d,p,d),O[3].set(p,d,p,d),O[4].set(3*p,0,p,d),O[5].set(p,0,p,d),w.x*=4,w.y*=2}if(null===h.map){var f={minFilter:Et,magFilter:Et,format:Xt};h.map=new ci(w.x,w.y,f),h.map.texture.name=c.name+".shadowMap",u.updateProjectionMatrix()}h.isSpotLightShadow&&h.update(c);var m=h.map,g=h.matrix;T.setFromMatrixPosition(c.matrixWorld),u.position.copy(T),l?(n=6,g.makeTranslation(-T.x,-T.y,-T.z)):(n=1,E.setFromMatrixPosition(c.target.matrixWorld),u.lookAt(E),u.updateMatrixWorld(),g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(u.projectionMatrix),g.multiply(u.matrixWorldInverse)),x.setRenderTarget(m),x.clear();for(var v=0;v<n;v++){if(l){E.copy(u.position),E.add(P[v]),u.up.copy(C[v]),u.lookAt(E),u.updateMatrixWorld();var y=O[v];a.viewport(y)}_.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),b.setFromMatrix(_),N(e,i,u,l)}}else console.warn("THREE.WebGLShadowMap:",c,"has no shadow.")}I.needsUpdate=!1}}}function Qa(t,e,i,n,r,a,o,s,c){oi.call(this,t,e,i,n,r,a,o,s,c),this.needsUpdate=!0}function Ka(d,f,m,g,s){var v,y,x,b,_,w,M=new Ge,E=new ze,T=new Ge;function S(){var t,e,i,n=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),r=new Uint16Array([0,1,2,0,2,3]);v=f.createBuffer(),y=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,v),f.bufferData(f.ARRAY_BUFFER,n,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,y),f.bufferData(f.ELEMENT_ARRAY_BUFFER,r,f.STATIC_DRAW),t=f.createProgram(),e=f.createShader(f.VERTEX_SHADER),i=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(e,["precision "+s.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 center;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = ( position - center ) * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),f.shaderSource(i,["precision "+s.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),f.compileShader(e),f.compileShader(i),f.attachShader(t,e),f.attachShader(t,i),f.linkProgram(t),x=t,b={position:f.getAttribLocation(x,"position"),uv:f.getAttribLocation(x,"uv")},_={uvOffset:f.getUniformLocation(x,"uvOffset"),uvScale:f.getUniformLocation(x,"uvScale"),rotation:f.getUniformLocation(x,"rotation"),center:f.getUniformLocation(x,"center"),scale:f.getUniformLocation(x,"scale"),color:f.getUniformLocation(x,"color"),map:f.getUniformLocation(x,"map"),opacity:f.getUniformLocation(x,"opacity"),modelViewMatrix:f.getUniformLocation(x,"modelViewMatrix"),projectionMatrix:f.getUniformLocation(x,"projectionMatrix"),fogType:f.getUniformLocation(x,"fogType"),fogDensity:f.getUniformLocation(x,"fogDensity"),fogNear:f.getUniformLocation(x,"fogNear"),fogFar:f.getUniformLocation(x,"fogFar"),fogColor:f.getUniformLocation(x,"fogColor"),fogDepth:f.getUniformLocation(x,"fogDepth"),alphaTest:f.getUniformLocation(x,"alphaTest")};var a=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");a.width=8,a.height=8;var o=a.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),w=new Qa(a)}function A(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(t,e,i){if(0!==t.length){void 0===x&&S(),m.useProgram(x),m.initAttributes(),m.enableAttribute(b.position),m.enableAttribute(b.uv),m.disableUnusedAttributes(),m.disable(f.CULL_FACE),m.enable(f.BLEND),f.bindBuffer(f.ARRAY_BUFFER,v),f.vertexAttribPointer(b.position,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(b.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,y),f.uniformMatrix4fv(_.projectionMatrix,!1,i.projectionMatrix.elements),m.activeTexture(f.TEXTURE0),f.uniform1i(_.map,0);var n=0,r=0,a=e.fog;a?(f.uniform3f(_.fogColor,a.color.r,a.color.g,a.color.b),a.isFog?(f.uniform1f(_.fogNear,a.near),f.uniform1f(_.fogFar,a.far),f.uniform1i(_.fogType,1),r=n=1):a.isFogExp2&&(f.uniform1f(_.fogDensity,a.density),f.uniform1i(_.fogType,2),r=n=2)):(f.uniform1i(_.fogType,0),r=n=0);for(var o=0,s=t.length;o<s;o++){(l=t[o]).modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,l.matrixWorld),l.z=-l.modelViewMatrix.elements[14]}t.sort(A);var c=[],h=[];for(o=0,s=t.length;o<s;o++){var l,u=(l=t[o]).material;if(!1!==u.visible){l.onBeforeRender(d,e,i,void 0,u,void 0),f.uniform1f(_.alphaTest,u.alphaTest),f.uniformMatrix4fv(_.modelViewMatrix,!1,l.modelViewMatrix.elements),l.matrixWorld.decompose(M,E,T),c[0]=T.x,c[1]=T.y,h[0]=l.center.x-.5,h[1]=l.center.y-.5;var p=0;e.fog&&u.fog&&(p=r),n!==p&&(f.uniform1i(_.fogType,p),n=p),null!==u.map?(f.uniform2f(_.uvOffset,u.map.offset.x,u.map.offset.y),f.uniform2f(_.uvScale,u.map.repeat.x,u.map.repeat.y)):(f.uniform2f(_.uvOffset,0,0),f.uniform2f(_.uvScale,1,1)),f.uniform1f(_.opacity,u.opacity),f.uniform3f(_.color,u.color.r,u.color.g,u.color.b),f.uniform1f(_.rotation,u.rotation),f.uniform2fv(_.center,h),f.uniform2fv(_.scale,c),m.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst,u.blendEquationAlpha,u.blendSrcAlpha,u.blendDstAlpha,u.premultipliedAlpha),m.buffers.depth.setTest(u.depthTest),m.buffers.depth.setMask(u.depthWrite),m.buffers.color.setMask(u.colorWrite),g.setTexture2D(u.map||w,0),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),l.onAfterRender(d,e,i,void 0,u,void 0)}}m.enable(f.CULL_FACE),m.reset()}}}function $a(l,i,c){var n=new function(){var e=!1,a=new si,i=null,o=new si(0,0,0,0);return{setMask:function(t){i===t||e||(l.colorMask(t,t,t,t),i=t)},setLocked:function(t){e=t},setClear:function(t,e,i,n,r){!0===r&&(t*=n,e*=n,i*=n),a.set(t,e,i,n),!1===o.equals(a)&&(l.clearColor(t,e,i,n),o.copy(a))},reset:function(){e=!1,i=null,o.set(-1,0,0,0)}}},r=new function(){var e=!1,i=null,n=null,r=null;return{setTest:function(t){t?D(l.DEPTH_TEST):B(l.DEPTH_TEST)},setMask:function(t){i===t||e||(l.depthMask(t),i=t)},setFunc:function(t){if(n!==t){if(t)switch(t){case tt:l.depthFunc(l.NEVER);break;case et:l.depthFunc(l.ALWAYS);break;case it:l.depthFunc(l.LESS);break;case nt:l.depthFunc(l.LEQUAL);break;case rt:l.depthFunc(l.EQUAL);break;case at:l.depthFunc(l.GEQUAL);break;case ot:l.depthFunc(l.GREATER);break;case st:l.depthFunc(l.NOTEQUAL);break;default:l.depthFunc(l.LEQUAL)}else l.depthFunc(l.LEQUAL);n=t}},setLocked:function(t){e=t},setClear:function(t){r!==t&&(l.clearDepth(t),r=t)},reset:function(){e=!1,r=n=i=null}}},e=new function(){var e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,h=null;return{setTest:function(t){t?D(l.STENCIL_TEST):B(l.STENCIL_TEST)},setMask:function(t){i===t||e||(l.stencilMask(t),i=t)},setFunc:function(t,e,i){n===t&&r===e&&a===i||(l.stencilFunc(t,e,i),n=t,r=e,a=i)},setOp:function(t,e,i){o===t&&s===e&&c===i||(l.stencilOp(t,e,i),o=t,s=e,c=i)},setLocked:function(t){e=t},setClear:function(t){h!==t&&(l.clearStencil(t),h=t)},reset:function(){e=!1,h=c=s=o=a=r=n=i=null}}},t=l.getParameter(l.MAX_VERTEX_ATTRIBS),a=new Uint8Array(t),o=new Uint8Array(t),s=new Uint8Array(t),h={},u=null,p=null,d=null,f=null,m=null,g=null,v=null,y=null,x=null,b=!1,_=null,w=null,M=null,E=null,T=null,S=l.getParameter(l.MAX_COMBINED_TEXTURE_IMAGE_UNITS),A=!1,R=0,L=l.getParameter(l.VERSION);-1!==L.indexOf("WebGL")?(R=parseFloat(/^WebGL\ ([0-9])/.exec(L)[1]),A=1<=R):-1!==L.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(L)[1]),A=2<=R);var P=null,C={},O=new si,I=new si;function N(t,e,i){var n=new Uint8Array(4),r=l.createTexture();l.bindTexture(t,r),l.texParameteri(t,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(t,l.TEXTURE_MAG_FILTER,l.NEAREST);for(var a=0;a<i;a++)l.texImage2D(e+a,0,l.RGBA,1,1,0,l.RGBA,l.UNSIGNED_BYTE,n);return r}var U={};function D(t){!0!==h[t]&&(l.enable(t),h[t]=!0)}function B(t){!1!==h[t]&&(l.disable(t),h[t]=!1)}function F(t,e,i,n,r,a,o,s){if(t!==X?D(l.BLEND):B(l.BLEND),t!==$){if(t!==d||s!==b)switch(t){case Y:s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):(l.blendEquation(l.FUNC_ADD),l.blendFunc(l.SRC_ALPHA,l.ONE));break;case Q:s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ZERO,l.ZERO,l.ONE_MINUS_SRC_COLOR,l.ONE_MINUS_SRC_ALPHA)):(l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.ONE_MINUS_SRC_COLOR));break;case K:s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ZERO,l.SRC_COLOR,l.ZERO,l.SRC_ALPHA)):(l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.SRC_COLOR));break;default:s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA)):(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA))}x=y=v=g=m=f=null}else r=r||e,a=a||i,o=o||n,e===f&&r===v||(l.blendEquationSeparate(c.convert(e),c.convert(r)),f=e,v=r),i===m&&n===g&&a===y&&o===x||(l.blendFuncSeparate(c.convert(i),c.convert(n),c.convert(a),c.convert(o)),m=i,g=n,y=a,x=o);d=t,b=s}function z(t){_!==t&&(t?l.frontFace(l.CW):l.frontFace(l.CCW),_=t)}function G(t){t!==k?(D(l.CULL_FACE),t!==w&&(t===j?l.cullFace(l.BACK):t===W?l.cullFace(l.FRONT):l.cullFace(l.FRONT_AND_BACK))):B(l.CULL_FACE),w=t}function H(t,e,i){t?(D(l.POLYGON_OFFSET_FILL),E===e&&T===i||(l.polygonOffset(e,i),E=e,T=i)):B(l.POLYGON_OFFSET_FILL)}function V(t){void 0===t&&(t=l.TEXTURE0+S-1),P!==t&&(l.activeTexture(t),P=t)}return U[l.TEXTURE_2D]=N(l.TEXTURE_2D,l.TEXTURE_2D,1),U[l.TEXTURE_CUBE_MAP]=N(l.TEXTURE_CUBE_MAP,l.TEXTURE_CUBE_MAP_POSITIVE_X,6),n.setClear(0,0,0,1),r.setClear(1),e.setClear(0),D(l.DEPTH_TEST),r.setFunc(nt),z(!1),G(j),D(l.CULL_FACE),D(l.BLEND),F(q),{buffers:{color:n,depth:r,stencil:e},initAttributes:function(){for(var t=0,e=a.length;t<e;t++)a[t]=0},enableAttribute:function(t){a[t]=1,0===o[t]&&(l.enableVertexAttribArray(t),o[t]=1),0!==s[t]&&(i.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(t,0),s[t]=0)},enableAttributeAndDivisor:function(t,e){a[t]=1,0===o[t]&&(l.enableVertexAttribArray(t),o[t]=1),s[t]!==e&&(i.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(t,e),s[t]=e)},disableUnusedAttributes:function(){for(var t=0,e=o.length;t!==e;++t)o[t]!==a[t]&&(l.disableVertexAttribArray(t),o[t]=0)},enable:D,disable:B,getCompressedTextureFormats:function(){if(null===u&&(u=[],i.get("WEBGL_compressed_texture_pvrtc")||i.get("WEBGL_compressed_texture_s3tc")||i.get("WEBGL_compressed_texture_etc1")||i.get("WEBGL_compressed_texture_astc")))for(var t=l.getParameter(l.COMPRESSED_TEXTURE_FORMATS),e=0;e<t.length;e++)u.push(t[e]);return u},useProgram:function(t){return p!==t&&(l.useProgram(t),p=t,!0)},setBlending:F,setMaterial:function(t,e){t.side===J?B(l.CULL_FACE):D(l.CULL_FACE);var i=t.side===Z;e&&(i=!i),z(i),!0===t.transparent?F(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):F(X),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite),H(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:z,setCullFace:G,setLineWidth:function(t){t!==M&&(A&&l.lineWidth(t),M=t)},setPolygonOffset:H,setScissorTest:function(t){t?D(l.SCISSOR_TEST):B(l.SCISSOR_TEST)},activeTexture:V,bindTexture:function(t,e){null===P&&V();var i=C[P];void 0===i&&(i={type:void 0,texture:void 0},C[P]=i),i.type===t&&i.texture===e||(l.bindTexture(t,e||U[t]),i.type=t,i.texture=e)},compressedTexImage2D:function(){try{l.compressedTexImage2D.apply(l,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{l.texImage2D.apply(l,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===O.equals(t)&&(l.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===I.equals(t)&&(l.viewport(t.x,t.y,t.z,t.w),I.copy(t))},reset:function(){for(var t=0;t<o.length;t++)1===o[t]&&(l.disableVertexAttribArray(t),o[t]=0);h={},C={},w=_=d=p=P=u=null,n.reset(),r.reset(),e.reset()}}}function to(m,r,g,v,y,x,b){var f,_="undefined"!=typeof WebGL2RenderingContext&&m instanceof WebGL2RenderingContext,s={};function w(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var i=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(t.width*i),n.height=Math.floor(t.height*i),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function M(t){return De.isPowerOfTwo(t.width)&&De.isPowerOfTwo(t.height)}function E(t,e){return t.generateMipmaps&&e&&t.minFilter!==Et&&t.minFilter!==Lt}function T(t,e,i,n){m.generateMipmap(t),v.get(e).__maxMipLevel=Math.log(Math.max(i,n))*Math.LOG2E}function a(t){return t===Et||t===At||t===Rt?m.NEAREST:m.LINEAR}function S(t){var e=t.target;e.removeEventListener("dispose",S),function(t){var e=v.get(t);if(t.image&&e.__image__webglTextureCube)m.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;m.deleteTexture(e.__webglTexture)}v.remove(t)}(e),e.isVideoTexture&&delete s[e.id],b.memory.textures--}function o(t){var e=t.target;e.removeEventListener("dispose",o),function(t){var e=v.get(t),i=v.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&m.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var n=0;n<6;n++)m.deleteFramebuffer(e.__webglFramebuffer[n]),e.__webglDepthbuffer&&m.deleteRenderbuffer(e.__webglDepthbuffer[n]);else m.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&m.deleteRenderbuffer(e.__webglDepthbuffer);v.remove(t.texture),v.remove(t)}(e),b.memory.textures--}function c(t,e){var i,n,r,a=v.get(t);if(t.isVideoTexture&&(n=(i=t).id,r=b.render.frame,s[n]!==r&&(s[n]=r,i.update())),0<t.version&&a.__version!==t.version){var o=t.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==o.complete)return void function(t,e,i){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",S),t.__webglTexture=m.createTexture(),b.memory.textures++);g.activeTexture(m.TEXTURE0+i),g.bindTexture(m.TEXTURE_2D,t.__webglTexture),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,e.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,e.unpackAlignment);var n=w(e.image,y.maxTextureSize);a=e,(a.wrapS!==wt||a.wrapT!==wt||a.minFilter!==Et&&a.minFilter!==Lt)&&!1===M(n)&&(n=(r=n)instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof ImageBitmap?(void 0===f&&(f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),f.width=De.floorPowerOfTwo(r.width),f.height=De.floorPowerOfTwo(r.height),f.getContext("2d").drawImage(r,0,0,f.width,f.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+r.width+"x"+r.height+"). Resized to "+f.width+"x"+f.height,r),f):r);var r;var a;var o=M(n),s=x.convert(e.format),c=x.convert(e.type);A(m.TEXTURE_2D,e,o);var h,l=e.mipmaps;if(e.isDepthTexture){var u=m.DEPTH_COMPONENT;if(e.type===Ft){if(!_)throw new Error("Float Depth Texture only supported in WebGL2.0");u=m.DEPTH_COMPONENT32F}else _&&(u=m.DEPTH_COMPONENT16);e.format===Jt&&u===m.DEPTH_COMPONENT&&e.type!==Ut&&e.type!==Bt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),e.type=Ut,c=x.convert(e.type)),e.format===Qt&&(u=m.DEPTH_STENCIL,e.type!==kt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),e.type=kt,c=x.convert(e.type))),g.texImage2D(m.TEXTURE_2D,0,u,n.width,n.height,0,s,c,null)}else if(e.isDataTexture)if(0<l.length&&o){for(var p=0,d=l.length;p<d;p++)h=l[p],g.texImage2D(m.TEXTURE_2D,p,s,h.width,h.height,0,s,c,h.data);e.generateMipmaps=!1,t.__maxMipLevel=l.length-1}else g.texImage2D(m.TEXTURE_2D,0,s,n.width,n.height,0,s,c,n.data),t.__maxMipLevel=0;else if(e.isCompressedTexture){for(var p=0,d=l.length;p<d;p++)h=l[p],e.format!==Xt&&e.format!==Wt?-1<g.getCompressedTextureFormats().indexOf(s)?g.compressedTexImage2D(m.TEXTURE_2D,p,s,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):g.texImage2D(m.TEXTURE_2D,p,s,h.width,h.height,0,s,c,h.data);t.__maxMipLevel=l.length-1}else if(0<l.length&&o){for(var p=0,d=l.length;p<d;p++)h=l[p],g.texImage2D(m.TEXTURE_2D,p,s,s,c,h);e.generateMipmaps=!1,t.__maxMipLevel=l.length-1}else g.texImage2D(m.TEXTURE_2D,0,s,s,c,n),t.__maxMipLevel=0;E(e,o)&&T(m.TEXTURE_2D,e,n.width,n.height);t.__version=e.version,e.onUpdate&&e.onUpdate(e)}(a,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}g.activeTexture(m.TEXTURE0+e),g.bindTexture(m.TEXTURE_2D,a.__webglTexture)}function A(t,e,i){var n;if(i?(m.texParameteri(t,m.TEXTURE_WRAP_S,x.convert(e.wrapS)),m.texParameteri(t,m.TEXTURE_WRAP_T,x.convert(e.wrapT)),m.texParameteri(t,m.TEXTURE_MAG_FILTER,x.convert(e.magFilter)),m.texParameteri(t,m.TEXTURE_MIN_FILTER,x.convert(e.minFilter))):(m.texParameteri(t,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(t,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),e.wrapS===wt&&e.wrapT===wt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),m.texParameteri(t,m.TEXTURE_MAG_FILTER,a(e.magFilter)),m.texParameteri(t,m.TEXTURE_MIN_FILTER,a(e.minFilter)),e.minFilter!==Et&&e.minFilter!==Lt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e)),n=r.get("EXT_texture_filter_anisotropic")){if(e.type===Ft&&null===r.get("OES_texture_float_linear"))return;if(e.type===zt&&null===r.get("OES_texture_half_float_linear"))return;(1<e.anisotropy||v.get(e).__currentAnisotropy)&&(m.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,y.getMaxAnisotropy())),v.get(e).__currentAnisotropy=e.anisotropy)}}function h(t,e,i,n){var r=x.convert(e.texture.format),a=x.convert(e.texture.type);g.texImage2D(n,0,r,e.width,e.height,0,r,a,null),m.bindFramebuffer(m.FRAMEBUFFER,t),m.framebufferTexture2D(m.FRAMEBUFFER,i,n,v.get(e.texture).__webglTexture,0),m.bindFramebuffer(m.FRAMEBUFFER,null)}function l(t,e){m.bindRenderbuffer(m.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,e.width,e.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,e.width,e.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,t)):m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,e.width,e.height),m.bindRenderbuffer(m.RENDERBUFFER,null)}function u(t){var e=v.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,e){if(e&&e.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(m.bindFramebuffer(m.FRAMEBUFFER,t),!e.depthTexture||!e.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");v.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),c(e.depthTexture,0);var i=v.get(e.depthTexture).__webglTexture;if(e.depthTexture.format===Jt)m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,i,0);else{if(e.depthTexture.format!==Qt)throw new Error("Unknown depthTexture format");m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,i,0)}}(e.__webglFramebuffer,t)}else if(i){e.__webglDepthbuffer=[];for(var n=0;n<6;n++)m.bindFramebuffer(m.FRAMEBUFFER,e.__webglFramebuffer[n]),e.__webglDepthbuffer[n]=m.createRenderbuffer(),l(e.__webglDepthbuffer[n],t)}else m.bindFramebuffer(m.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=m.createRenderbuffer(),l(e.__webglDepthbuffer,t);m.bindFramebuffer(m.FRAMEBUFFER,null)}this.setTexture2D=c,this.setTextureCube=function(t,e){var i=v.get(t);if(6===t.image.length)if(0<t.version&&i.__version!==t.version){i.__image__webglTextureCube||(t.addEventListener("dispose",S),i.__image__webglTextureCube=m.createTexture(),b.memory.textures++),g.activeTexture(m.TEXTURE0+e),g.bindTexture(m.TEXTURE_CUBE_MAP,i.__image__webglTextureCube),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var n=t&&t.isCompressedTexture,r=t.image[0]&&t.image[0].isDataTexture,a=[],o=0;o<6;o++)a[o]=n||r?r?t.image[o].image:t.image[o]:w(t.image[o],y.maxCubemapSize);var s=a[0],c=M(s),h=x.convert(t.format),l=x.convert(t.type);for(A(m.TEXTURE_CUBE_MAP,t,c),o=0;o<6;o++)if(n)for(var u,p=a[o].mipmaps,d=0,f=p.length;d<f;d++)u=p[d],t.format!==Xt&&t.format!==Wt?-1<g.getCompressedTextureFormats().indexOf(h)?g.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,h,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,h,u.width,u.height,0,h,l,u.data);else r?g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,h,a[o].width,a[o].height,0,h,l,a[o].data):g.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,h,h,l,a[o]);i.__maxMipLevel=n?p.length-1:0,E(t,c)&&T(m.TEXTURE_CUBE_MAP,t,s.width,s.height),i.__version=t.version,t.onUpdate&&t.onUpdate(t)}else g.activeTexture(m.TEXTURE0+e),g.bindTexture(m.TEXTURE_CUBE_MAP,i.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,e){g.activeTexture(m.TEXTURE0+e),g.bindTexture(m.TEXTURE_CUBE_MAP,v.get(t).__webglTexture)},this.setupRenderTarget=function(t){var e=v.get(t),i=v.get(t.texture);t.addEventListener("dispose",o),i.__webglTexture=m.createTexture(),b.memory.textures++;var n=!0===t.isWebGLRenderTargetCube,r=M(t);if(n){e.__webglFramebuffer=[];for(var a=0;a<6;a++)e.__webglFramebuffer[a]=m.createFramebuffer()}else e.__webglFramebuffer=m.createFramebuffer();if(n){for(g.bindTexture(m.TEXTURE_CUBE_MAP,i.__webglTexture),A(m.TEXTURE_CUBE_MAP,t.texture,r),a=0;a<6;a++)h(e.__webglFramebuffer[a],t,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+a);E(t.texture,r)&&T(m.TEXTURE_CUBE_MAP,t.texture,t.width,t.height),g.bindTexture(m.TEXTURE_CUBE_MAP,null)}else g.bindTexture(m.TEXTURE_2D,i.__webglTexture),A(m.TEXTURE_2D,t.texture,r),h(e.__webglFramebuffer,t,m.COLOR_ATTACHMENT0,m.TEXTURE_2D),E(t.texture,r)&&T(m.TEXTURE_2D,t.texture,t.width,t.height),g.bindTexture(m.TEXTURE_2D,null);t.depthBuffer&&u(t)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(E(e,M(t))){var i=t.isWebGLRenderTargetCube?m.TEXTURE_CUBE_MAP:m.TEXTURE_2D,n=v.get(e).__webglTexture;g.bindTexture(i,n),T(i,e,t.width,t.height),g.bindTexture(i,null)}}}function eo(i,n){return{convert:function(t){var e;if(t===_t)return i.REPEAT;if(t===wt)return i.CLAMP_TO_EDGE;if(t===Mt)return i.MIRRORED_REPEAT;if(t===Et)return i.NEAREST;if(t===At)return i.NEAREST_MIPMAP_NEAREST;if(t===Rt)return i.NEAREST_MIPMAP_LINEAR;if(t===Lt)return i.LINEAR;if(t===Pt)return i.LINEAR_MIPMAP_NEAREST;if(t===Ct)return i.LINEAR_MIPMAP_LINEAR;if(t===Ot)return i.UNSIGNED_BYTE;if(t===Gt)return i.UNSIGNED_SHORT_4_4_4_4;if(t===Ht)return i.UNSIGNED_SHORT_5_5_5_1;if(t===Vt)return i.UNSIGNED_SHORT_5_6_5;if(t===It)return i.BYTE;if(t===Nt)return i.SHORT;if(t===Ut)return i.UNSIGNED_SHORT;if(t===Dt)return i.INT;if(t===Bt)return i.UNSIGNED_INT;if(t===Ft)return i.FLOAT;if(t===zt&&null!==(e=n.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===jt)return i.ALPHA;if(t===Wt)return i.RGB;if(t===Xt)return i.RGBA;if(t===qt)return i.LUMINANCE;if(t===Yt)return i.LUMINANCE_ALPHA;if(t===Jt)return i.DEPTH_COMPONENT;if(t===Qt)return i.DEPTH_STENCIL;if(t===M)return i.FUNC_ADD;if(t===E)return i.FUNC_SUBTRACT;if(t===T)return i.FUNC_REVERSE_SUBTRACT;if(t===R)return i.ZERO;if(t===L)return i.ONE;if(t===P)return i.SRC_COLOR;if(t===C)return i.ONE_MINUS_SRC_COLOR;if(t===O)return i.SRC_ALPHA;if(t===I)return i.ONE_MINUS_SRC_ALPHA;if(t===N)return i.DST_ALPHA;if(t===D)return i.ONE_MINUS_DST_ALPHA;if(t===z)return i.DST_COLOR;if(t===G)return i.ONE_MINUS_DST_COLOR;if(t===H)return i.SRC_ALPHA_SATURATE;if((t===Kt||t===$t||t===te||t===ee)&&null!==(e=n.get("WEBGL_compressed_texture_s3tc"))){if(t===Kt)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===$t)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===te)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===ee)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ie||t===ne||t===re||t===ae)&&null!==(e=n.get("WEBGL_compressed_texture_pvrtc"))){if(t===ie)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ne)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===re)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===ae)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===oe&&null!==(e=n.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===se||t===ce||t===he||t===le||t===ue||t===pe||t===de||t===fe||t===me||t===ge||t===ve||t===ye||t===xe||t===be)&&null!==(e=n.get("WEBGL_compressed_texture_astc")))return t;if((t===S||t===A)&&null!==(e=n.get("EXT_blend_minmax"))){if(t===S)return e.MIN_EXT;if(t===A)return e.MAX_EXT}return t===kt&&null!==(e=n.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}}}function io(t,e,i,n){qi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function no(t){io.call(this),this.cameras=t||[]}function ro(n){var s=this,c=null,h=null,l=null,u=new Fe,p=new Fe;"undefined"!=typeof window&&"VRFrameData"in window&&(h=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",t,!1));var d=new Fe,f=new ze,m=new Ge,g=new io;g.bounds=new si(0,0,.5,1),g.layers.enable(1);var v=new io;v.bounds=new si(.5,0,.5,1),v.layers.enable(2);var r,a,y=new no([g,v]);function o(){return null!==c&&!0===c.isPresenting}function t(){if(o()){var t=c.getEyeParameters("left"),e=t.renderWidth,i=t.renderHeight;a=n.getPixelRatio(),r=n.getSize(),n.setDrawingBufferSize(2*e,i,1)}else s.enabled&&n.setDrawingBufferSize(r.width,r.height,a)}y.layers.enable(1),y.layers.enable(2),this.enabled=!1,this.userHeight=1.6,this.getDevice=function(){return c},this.setDevice=function(t){void 0!==t&&(c=t)},this.setPoseTarget=function(t){void 0!==t&&(l=t)},this.getCamera=function(t){if(null===c)return t;c.depthNear=t.near,c.depthFar=t.far,c.getFrameData(h);var e=c.stageParameters;e?u.fromArray(e.sittingToStandingTransform):u.makeTranslation(0,s.userHeight,0);var i=h.pose,n=null!==l?l:t;if(n.matrix.copy(u),n.matrix.decompose(n.position,n.quaternion,n.scale),null!==i.orientation&&(f.fromArray(i.orientation),n.quaternion.multiply(f)),null!==i.position&&(f.setFromRotationMatrix(u),m.fromArray(i.position),m.applyQuaternion(f),n.position.add(m)),n.updateMatrixWorld(),!1===c.isPresenting)return t;g.near=t.near,v.near=t.near,g.far=t.far,v.far=t.far,y.matrixWorld.copy(t.matrixWorld),y.matrixWorldInverse.copy(t.matrixWorldInverse),g.matrixWorldInverse.fromArray(h.leftViewMatrix),v.matrixWorldInverse.fromArray(h.rightViewMatrix),p.getInverse(u),g.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p);var r=n.parent;null!==r&&(d.getInverse(r.matrixWorld),g.matrixWorldInverse.multiply(d),v.matrixWorldInverse.multiply(d)),g.matrixWorld.getInverse(g.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),g.projectionMatrix.fromArray(h.leftProjectionMatrix),v.projectionMatrix.fromArray(h.rightProjectionMatrix),y.projectionMatrix.copy(g.projectionMatrix);var a=c.getLayers();if(a.length){var o=a[0];null!==o.leftBounds&&4===o.leftBounds.length&&g.bounds.fromArray(o.leftBounds),null!==o.rightBounds&&4===o.rightBounds.length&&v.bounds.fromArray(o.rightBounds)}return y},this.getStandingMatrix=function(){return u},this.submitFrame=function(){o()&&c.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",t)}}function ao(t){console.log("THREE.WebGLRenderer","92");var r=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,h=void 0!==t.powerPreference?t.powerPreference:"default",d=null,B=null;this.domElement=r,this.context=null,this.devicePixelRatio=void 0!==t.devicePixelRatio?t.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=St,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var F,E,z,G,l,H,u,T,S,f,g,p,m,v,A,R,L,y,x,V=this,b=!1,_=null,w=null,k=-1,P="",j=null,W=null,M=new si,C=new si,O=null,X=0,I=r.width,q=r.height,Y=1,N=new si(0,0,I,q),U=new si(0,0,I,q),D=!1,Z=new fi,J=new mr,Q=!1,K=!1,$=new Fe,tt=new Ge;function et(){return null===_?Y:1}try{var it={alpha:i,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:h};if(r.addEventListener("webglcontextlost",ot,!1),r.addEventListener("webglcontextrestored",st,!1),null===(F=e||r.getContext("webgl",it)||r.getContext("experimental-webgl",it)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===F.getShaderPrecisionFormat&&(F.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}function nt(){(E=new gr(F)).get("WEBGL_depth_texture"),E.get("OES_texture_float"),E.get("OES_texture_float_linear"),E.get("OES_texture_half_float"),E.get("OES_texture_half_float_linear"),E.get("OES_standard_derivatives"),E.get("OES_element_index_uint"),E.get("ANGLE_instanced_arrays"),x=new eo(F,E),z=new fr(F,E,t),(G=new $a(F,E,x)).scissor(C.copy(U).multiplyScalar(Y)),G.viewport(M.copy(N).multiplyScalar(Y)),l=new xr(F),H=new ba,u=new to(F,E,G,H,z,x,l),T=new Ei(F),S=new vr(F,T,l),f=new wr(S,l),A=new _r(F),g=new xa(V,E,z),p=new Ea,m=new qa,v=new pr(V,G,S,s),R=new dr(F,E,l),L=new yr(F,E,l),y=new Ka(V,F,G,u,z),l.programs=g.programs,V.context=F,V.capabilities=z,V.extensions=E,V.properties=H,V.renderLists=p,V.state=G,V.info=l}nt();var rt=new ro(V);this.vr=rt;var at=new Ja(V,f,z.maxTextureSize);function ot(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function st(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1,nt()}function ct(t){var e,i=t.target;i.removeEventListener("dispose",ct),ht(e=i),H.remove(e)}function ht(t){var e=H.get(t).program;(t.program=void 0)!==e&&g.releaseProgram(e)}this.shadowMap=at,this.getContext=function(){return F},this.getContextAttributes=function(){return F.getContextAttributes()},this.forceContextLoss=function(){var t=E.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=E.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(I,q,!1))},this.getSize=function(){return{width:I,height:q}},this.setSize=function(t,e,i){var n=rt.getDevice();n&&n.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(I=t,q=e,r.width=t*Y,r.height=e*Y,!1!==i&&(r.style.width=t+"px",r.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(){return{width:I*Y,height:q*Y}},this.setDrawingBufferSize=function(t,e,i){I=t,q=e,Y=i,r.width=t*i,r.height=e*i,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return M},this.setViewport=function(t,e,i,n){N.set(t,q-e-n,i,n),G.viewport(M.copy(N).multiplyScalar(Y))},this.setScissor=function(t,e,i,n){U.set(t,q-e-n,i,n),G.scissor(C.copy(U).multiplyScalar(Y))},this.setScissorTest=function(t){G.setScissorTest(D=t)},this.getClearColor=function(){return v.getClearColor()},this.setClearColor=function(){v.setClearColor.apply(v,arguments)},this.getClearAlpha=function(){return v.getClearAlpha()},this.setClearAlpha=function(){v.setClearAlpha.apply(v,arguments)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=F.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=F.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=F.STENCIL_BUFFER_BIT),F.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,n){this.setRenderTarget(t),this.clear(e,i,n)},this.dispose=function(){r.removeEventListener("webglcontextlost",ot,!1),r.removeEventListener("webglcontextrestored",st,!1),p.dispose(),m.dispose(),H.dispose(),f.dispose(),rt.dispose(),mt()},this.renderBufferImmediate=function(t,e,i){G.initAttributes();var n=H.get(t);t.hasPositions&&!n.position&&(n.position=F.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=F.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=F.createBuffer()),t.hasColors&&!n.color&&(n.color=F.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(F.bindBuffer(F.ARRAY_BUFFER,n.position),F.bufferData(F.ARRAY_BUFFER,t.positionArray,F.DYNAMIC_DRAW),G.enableAttribute(r.position),F.vertexAttribPointer(r.position,3,F.FLOAT,!1,0,0)),t.hasNormals){if(F.bindBuffer(F.ARRAY_BUFFER,n.normal),!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&!i.isMeshNormalMaterial&&!0===i.flatShading)for(var a=0,o=3*t.count;a<o;a+=9){var s=t.normalArray,c=(s[a+0]+s[a+3]+s[a+6])/3,h=(s[a+1]+s[a+4]+s[a+7])/3,l=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=c,s[a+1]=h,s[a+2]=l,s[a+3]=c,s[a+4]=h,s[a+5]=l,s[a+6]=c,s[a+7]=h,s[a+8]=l}F.bufferData(F.ARRAY_BUFFER,t.normalArray,F.DYNAMIC_DRAW),G.enableAttribute(r.normal),F.vertexAttribPointer(r.normal,3,F.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(F.bindBuffer(F.ARRAY_BUFFER,n.uv),F.bufferData(F.ARRAY_BUFFER,t.uvArray,F.DYNAMIC_DRAW),G.enableAttribute(r.uv),F.vertexAttribPointer(r.uv,2,F.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==Tt&&(F.bindBuffer(F.ARRAY_BUFFER,n.color),F.bufferData(F.ARRAY_BUFFER,t.colorArray,F.DYNAMIC_DRAW),G.enableAttribute(r.color),F.vertexAttribPointer(r.color,3,F.FLOAT,!1,0,0)),G.disableUnusedAttributes(),F.drawArrays(F.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,n,r,a){var o=r.isMesh&&r.matrixWorld.determinant()<0;G.setMaterial(n,o);var s=_t(t,e,n,r),c=i.id+"_"+s.id+"_"+(!0===n.wireframe),h=!1;c!==P&&(P=c,h=!0),r.morphTargetInfluences&&(A.update(r,i,n,s),h=!0);var l,u=i.index,p=i.attributes.position,d=1;!0===n.wireframe&&(u=S.getWireframeAttribute(i),d=2);var f=R;null!==u&&(l=T.get(u),(f=L).setIndex(l)),h&&(!function(t,e,i){if(i&&i.isInstancedBufferGeometry&&null===E.get("ANGLE_instanced_arrays"))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");G.initAttributes();var n=i.attributes,r=e.getAttributes(),a=t.defaultAttributeValues;for(var o in r){var s=r[o];if(0<=s){var c=n[o];if(void 0!==c){var h=c.normalized,l=c.itemSize,u=T.get(c);if(void 0===u)continue;var p=u.buffer,d=u.type,f=u.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,v=c.offset;m&&m.isInstancedInterleavedBuffer?(G.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=m.meshPerAttribute*m.count)):G.enableAttribute(s),F.bindBuffer(F.ARRAY_BUFFER,p),F.vertexAttribPointer(s,l,d,h,g*f,v*f)}else c.isInstancedBufferAttribute?(G.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=c.meshPerAttribute*c.count)):G.enableAttribute(s),F.bindBuffer(F.ARRAY_BUFFER,p),F.vertexAttribPointer(s,l,d,h,0,0)}else if(void 0!==a){var y=a[o];if(void 0!==y)switch(y.length){case 2:F.vertexAttrib2fv(s,y);break;case 3:F.vertexAttrib3fv(s,y);break;case 4:F.vertexAttrib4fv(s,y);break;default:F.vertexAttrib1fv(s,y)}}}}G.disableUnusedAttributes()}(n,s,i),null!==u&&F.bindBuffer(F.ELEMENT_ARRAY_BUFFER,l.buffer));var m=1/0;null!==u?m=u.count:void 0!==p&&(m=p.count);var g=i.drawRange.start*d,v=i.drawRange.count*d,y=null!==a?a.start*d:0,x=null!==a?a.count*d:1/0,b=Math.max(g,y),_=Math.min(m,g+v,y+x)-1,w=Math.max(0,_-b+1);if(0!==w){if(r.isMesh)if(!0===n.wireframe)G.setLineWidth(n.wireframeLinewidth*et()),f.setMode(F.LINES);else switch(r.drawMode){case Se:f.setMode(F.TRIANGLES);break;case 1:f.setMode(F.TRIANGLE_STRIP);break;case 2:f.setMode(F.TRIANGLE_FAN)}else if(r.isLine){var M=n.linewidth;void 0===M&&(M=1),G.setLineWidth(M*et()),r.isLineSegments?f.setMode(F.LINES):r.isLineLoop?f.setMode(F.LINE_LOOP):f.setMode(F.LINE_STRIP)}else r.isPoints&&f.setMode(F.POINTS);i&&i.isInstancedBufferGeometry?0<i.maxInstancedCount&&f.renderInstances(i,b,w):f.render(b,w)}};var lt,ut,pt,dt=!(this.compile=function(i,t){(B=m.get(i,t)).init(),i.traverse(function(t){t.isLight&&(B.pushLight(t),t.castShadow&&B.pushShadow(t))}),B.setupLights(t),i.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var e=0;e<t.material.length;e++)bt(t.material[e],i.fog,t);else bt(t.material,i.fog,t)})}),ft=null;function mt(){dt=!1}function gt(){var t=rt.getDevice();t&&t.isPresenting?t.requestAnimationFrame(vt):window.requestAnimationFrame(vt)}function vt(t){!1!==dt&&(ft(t),gt())}function yt(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,c=o.geometry,h=void 0===n?o.material:n,l=o.group;if(i.isArrayCamera)for(var u=(W=i).cameras,p=0,d=u.length;p<d;p++){var f=u[p];if(s.layers.test(f.layers)){var m=f.bounds,g=m.x*I,v=m.y*q,y=m.z*I,x=m.w*q;G.viewport(M.set(g,v,y,x).multiplyScalar(Y)),xt(s,e,f,c,h,l)}}else W=null,xt(s,e,i,c,h,l)}}function xt(t,e,i,n,r,a){if(t.onBeforeRender(V,e,i,n,r,a),B=m.get(e,W||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=t.isMesh&&t.matrixWorld.determinant()<0;G.setMaterial(r,o);var s=_t(i,e.fog,r,t);P="",c=s,h=r,t.render(function(t){V.renderBufferImmediate(t,c,h)})}else V.renderBufferDirect(i,e.fog,n,r,t,a);var c,h;t.onAfterRender(V,e,i,n,r,a),B=m.get(e,W||i)}function bt(t,e,i){var n=H.get(t),r=B.state.lights,a=B.state.shadowsArray,o=g.getParameters(t,r.state,a,e,J.numPlanes,J.numIntersection,i),s=g.getProgramCode(t,o),c=n.program,h=!0;if(void 0===c)t.addEventListener("dispose",ct);else if(c.code!==s)ht(t);else if(n.lightsHash!==r.state.hash)H.update(t,"lightsHash",r.state.hash),h=!1;else{if(void 0!==o.shaderID)return;h=!1}if(h){if(o.shaderID){var l=Mi[o.shaderID];n.shader={name:t.type,uniforms:vi.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(n.shader,V),c=g.acquireProgram(t,n.shader,o,s),n.program=c,t.program=c}var u=c.getAttributes();if(t.morphTargets)for(var p=t.numSupportedMorphTargets=0;p<V.maxMorphTargets;p++)0<=u["morphTarget"+p]&&t.numSupportedMorphTargets++;if(t.morphNormals)for(p=t.numSupportedMorphNormals=0;p<V.maxMorphNormals;p++)0<=u["morphNormal"+p]&&t.numSupportedMorphNormals++;var d=n.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=J.numPlanes,n.numIntersection=J.numIntersection,d.clippingPlanes=J.uniform),n.fog=e,n.lightsHash=r.state.hash,t.lights&&(d.ambientLightColor.value=r.state.ambient,d.directionalLights.value=r.state.directional,d.spotLights.value=r.state.spot,d.rectAreaLights.value=r.state.rectArea,d.pointLights.value=r.state.point,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotShadowMatrix.value=r.state.spotShadowMatrix,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix);var f=n.program.getUniforms(),m=ca.seqWithValue(f.seq,d);n.uniformsList=m}function _t(t,e,i,n){X=0;var r=H.get(i),a=B.state.lights;if(Q&&(K||t!==j)){var o=t===j&&i.id===k;J.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,r,o)}!1===i.needsUpdate&&(void 0===r.program?i.needsUpdate=!0:i.fog&&r.fog!==e?i.needsUpdate=!0:i.lights&&r.lightsHash!==a.state.hash?i.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===J.numPlanes&&r.numIntersection===J.numIntersection||(i.needsUpdate=!0)),i.needsUpdate&&(bt(i,e,n),i.needsUpdate=!1);var s,c,h,l,u,p,d,f,m,g,v,y,x,b,_,w,M,E,T=!1,S=!1,A=!1,R=r.program,L=R.getUniforms(),P=r.shader.uniforms;if(G.useProgram(R.program)&&(A=S=T=!0),i.id!==k&&(k=i.id,S=!0),T||t!==j){if(L.setValue(F,"projectionMatrix",t.projectionMatrix),z.logarithmicDepthBuffer&&L.setValue(F,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),j!==(W||t)&&(j=W||t,A=S=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var C=L.map.cameraPosition;void 0!==C&&C.setValue(F,tt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&L.setValue(F,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){L.setOptional(F,n,"bindMatrix"),L.setOptional(F,n,"bindMatrixInverse");var O=n.skeleton;if(O){var I=O.bones;if(z.floatVertexTextures){if(void 0===O.boneTexture){var N=Math.sqrt(4*I.length);N=De.ceilPowerOfTwo(N),N=Math.max(N,4);var U=new Float32Array(N*N*4);U.set(O.boneMatrices);var D=new li(U,N,N,Xt,Ft);D.needsUpdate=!0,O.boneMatrices=U,O.boneTexture=D,O.boneTextureSize=N}L.setValue(F,"boneTexture",O.boneTexture),L.setValue(F,"boneTextureSize",O.boneTextureSize)}else L.setOptional(F,O,"boneMatrices")}}return S&&(L.setValue(F,"toneMappingExposure",V.toneMappingExposure),L.setValue(F,"toneMappingWhitePoint",V.toneMappingWhitePoint),i.lights&&(E=A,(M=P).ambientLightColor.needsUpdate=E,M.directionalLights.needsUpdate=E,M.pointLights.needsUpdate=E,M.spotLights.needsUpdate=E,M.rectAreaLights.needsUpdate=E,M.hemisphereLights.needsUpdate=E),e&&i.fog&&(w=e,(_=P).fogColor.value=w.color,w.isFog?(_.fogNear.value=w.near,_.fogFar.value=w.far):w.isFogExp2&&(_.fogDensity.value=w.density)),i.isMeshBasicMaterial?wt(P,i):i.isMeshLambertMaterial?(wt(P,i),x=P,(b=i).emissiveMap&&(x.emissiveMap.value=b.emissiveMap)):i.isMeshPhongMaterial?(wt(P,i),i.isMeshToonMaterial?(Mt(v=P,y=i),y.gradientMap&&(v.gradientMap.value=y.gradientMap)):Mt(P,i)):i.isMeshStandardMaterial?(wt(P,i),i.isMeshPhysicalMaterial?(g=i,(m=P).clearCoat.value=g.clearCoat,m.clearCoatRoughness.value=g.clearCoatRoughness,Et(m,g)):Et(P,i)):i.isMeshDepthMaterial?(wt(P,i),d=P,(f=i).displacementMap&&(d.displacementMap.value=f.displacementMap,d.displacementScale.value=f.displacementScale,d.displacementBias.value=f.displacementBias)):i.isMeshDistanceMaterial?(wt(P,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(P,i)):i.isMeshNormalMaterial?(wt(P,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(P,i)):i.isLineBasicMaterial?(p=i,(u=P).diffuse.value=p.color,u.opacity.value=p.opacity,i.isLineDashedMaterial&&(l=i,(h=P).dashSize.value=l.dashSize,h.totalSize.value=l.dashSize+l.gapSize,h.scale.value=l.scale)):i.isPointsMaterial?(c=i,(s=P).diffuse.value=c.color,s.opacity.value=c.opacity,s.size.value=c.size*Y,s.scale.value=.5*q,s.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),s.uvTransform.value.copy(c.map.matrix))):i.isShadowMaterial&&(P.color.value=i.color,P.opacity.value=i.opacity),void 0!==P.ltc_1&&(P.ltc_1.value=wi.LTC_1),void 0!==P.ltc_2&&(P.ltc_2.value=wi.LTC_2),ca.upload(F,r.uniformsList,P,V)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(ca.upload(F,r.uniformsList,P,V),i.uniformsNeedUpdate=!1),L.setValue(F,"modelViewMatrix",n.modelViewMatrix),L.setValue(F,"normalMatrix",n.normalMatrix),L.setValue(F,"modelMatrix",n.matrixWorld),R}function wt(t,e){var i;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=H.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function Mt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Et(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}this.animate=function(t){null!==(ft=t)?dt||(gt(),dt=!0):mt()},this.render=function(t,e,i,n){if(e&&e.isCamera){if(!b){P="",k=-1,!(j=null)===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),rt.enabled&&(e=rt.getCamera(e)),(B=m.get(t,e)).init(),t.onBeforeRender(V,t,e,i),$.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Z.setFromMatrix($),K=this.localClippingEnabled,Q=J.init(this.clippingPlanes,K,e),(d=p.get(t,e)).init(),function t(e,i,n){if(!1===e.visible)return;var r=e.layers.test(i.layers);if(r)if(e.isLight)B.pushLight(e),e.castShadow&&B.pushShadow(e);else if(e.isSprite)e.frustumCulled&&!Z.intersectsSprite(e)||B.pushSprite(e);else if(e.isImmediateRenderObject)n&&tt.setFromMatrixPosition(e.matrixWorld).applyMatrix4($),d.push(e,null,e.material,tt.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||Z.intersectsObject(e))){n&&tt.setFromMatrixPosition(e.matrixWorld).applyMatrix4($);var a=f.update(e),o=e.material;if(Array.isArray(o))for(var s=a.groups,c=0,h=s.length;c<h;c++){var l=s[c],u=o[l.materialIndex];u&&u.visible&&d.push(e,a,u,tt.z,l)}else o.visible&&d.push(e,a,o,tt.z,null)}var p=e.children;for(var c=0,h=p.length;c<h;c++)t(p[c],i,n)}(t,e,V.sortObjects),!0===V.sortObjects&&d.sort(),Q&&J.beginShadows();var r=B.state.shadowsArray;at.render(r,t,e),B.setupLights(e),Q&&J.endShadows(),this.info.autoReset&&this.info.reset(),void 0===i&&(i=null),this.setRenderTarget(i),v.render(d,t,e,n);var a=d.opaque,o=d.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&yt(a,t,e,s),o.length&&yt(o,t,e,s)}else a.length&&yt(a,t,e),o.length&&yt(o,t,e);var c=B.state.spritesArray;y.render(c,t,e),i&&u.updateRenderTargetMipmap(i),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),t.onAfterRender(V,t,e),rt.enabled&&rt.submitFrame(),B=d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=X;return t>=z.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+z.maxTextures),X+=1,t},this.setTexture2D=(lt=!1,function(t,e){t&&t.isWebGLRenderTarget&&(lt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),lt=!0),t=t.texture),u.setTexture2D(t,e)}),this.setTexture=(ut=!1,function(t,e){ut||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),ut=!0),u.setTexture2D(t,e)}),this.setTextureCube=(pt=!1,function(t,e){t&&t.isWebGLRenderTargetCube&&(pt||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),pt=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?u.setTextureCube(t,e):u.setTextureCubeDynamic(t,e)}),this.getRenderTarget=function(){return _},this.setRenderTarget=function(t){(_=t)&&void 0===H.get(t).__webglFramebuffer&&u.setupRenderTarget(t);var e=null,i=!1;if(t){var n=H.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=n[t.activeCubeFace],i=!0):e=n,M.copy(t.viewport),C.copy(t.scissor),O=t.scissorTest}else M.copy(N).multiplyScalar(Y),C.copy(U).multiplyScalar(Y),O=D;if(w!==e&&(F.bindFramebuffer(F.FRAMEBUFFER,e),w=e),G.viewport(M),G.scissor(C),G.setScissorTest(O),i){var r=H.get(t.texture);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,i,n,r,a){if(t&&t.isWebGLRenderTarget){var o=H.get(t).__webglFramebuffer;if(o){var s=!1;o!==w&&(F.bindFramebuffer(F.FRAMEBUFFER,o),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==Xt&&x.convert(h)!==F.getParameter(F.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===Ot||x.convert(l)===F.getParameter(F.IMPLEMENTATION_COLOR_READ_TYPE)||l===Ft&&(E.get("OES_texture_float")||E.get("WEBGL_color_buffer_float"))||l===zt&&E.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");F.checkFramebufferStatus(F.FRAMEBUFFER)===F.FRAMEBUFFER_COMPLETE?0<=e&&e<=t.width-n&&0<=i&&i<=t.height-r&&F.readPixels(e,i,n,r,x.convert(h),x.convert(l),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&F.bindFramebuffer(F.FRAMEBUFFER,w)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,i){var n=e.image.width,r=e.image.height,a=x.convert(e.format);this.setTexture2D(e,0),F.copyTexImage2D(F.TEXTURE_2D,i||0,a,t.x,t.y,n,r,0)},this.copyTextureToTexture=function(t,e,i,n){var r=e.image.width,a=e.image.height,o=x.convert(i.format),s=x.convert(i.type),c=e.isDataTexture?e.image.data:e.image;this.setTexture2D(i,0),F.texSubImage2D(F.TEXTURE_2D,n||0,t.x,t.y,r,a,o,s,c)}}function oo(t,e){this.name="",this.color=new xi(t),this.density=void 0!==e?e:25e-5}function so(t,e,i){this.name="",this.color=new xi(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function co(){Xi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function ho(t){ar.call(this),this.type="SpriteMaterial",this.color=new xi(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function lo(t){Xi.call(this),this.type="Sprite",this.material=void 0!==t?t:new ho,this.center=new Be(.5,.5)}function uo(){Xi.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function po(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Fe)}}function fo(){Xi.call(this),this.type="Bone"}function mo(t,e){ur.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Fe,this.bindMatrixInverse=new Fe;var i=new po(this.initBones());this.bind(i,this.matrixWorld),this.normalizeSkinWeights()}function go(t){ar.call(this),this.type="LineBasicMaterial",this.color=new xi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function vo(t,e,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new yo(t,e);Xi.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ln,this.material=void 0!==e?e:new go({color:16777215*Math.random()})}function yo(t,e){vo.call(this,t,e),this.type="LineSegments"}function xo(t,e){vo.call(this,t,e),this.type="LineLoop"}function bo(t){ar.call(this),this.type="PointsMaterial",this.color=new xi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function _o(t,e){Xi.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ln,this.material=void 0!==e?e:new bo({color:16777215*Math.random()})}function wo(){Xi.call(this),this.type="Group"}function Mo(t,e,i,n,r,a,o,s,c){oi.call(this,t,e,i,n,r,a,o,s,c),this.generateMipmaps=!1}function Eo(t,e,i,n,r,a,o,s,c,h,l,u){oi.call(this,null,a,o,s,c,h,n,r,l,u),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function To(t,e,i,n,r,a,o,s,c,h){if((h=void 0!==h?h:Jt)!==Jt&&h!==Qt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&h===Jt&&(i=Ut),void 0===i&&h===Qt&&(i=kt),oi.call(this,null,n,r,a,o,s,h,i,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:Et,this.minFilter=void 0!==s?s:Et,this.flipY=!1,this.generateMipmaps=!1}function So(t){Ln.call(this),this.type="WireframeGeometry";var e,i,n,r,a,o,s,c,h,l,u=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,n=m.length;e<n;e++){var g=m[e];for(i=0;i<3;i++)s=g[f[i]],c=g[f[(i+1)%3]],p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]})}for(h in d)o=d[h],l=t.vertices[o.index1],u.push(l.x,l.y,l.z),l=t.vertices[o.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,y,x,b,_,w;if(l=new Ge,null!==t.index){for(v=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),r=0,a=x.length;r<a;++r)for(n=(e=(b=x[r]).start)+b.count;e<n;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),c=y.getX(e+(i+1)%3),p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]});for(h in d)o=d[h],l.fromBufferAttribute(v,o.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(v,o.index2),u.push(l.x,l.y,l.z)}else for(e=0,n=(v=t.attributes.position).count/3;e<n;e++)for(i=0;i<3;i++)_=3*e+i,l.fromBufferAttribute(v,_),u.push(l.x,l.y,l.z),w=3*e+(i+1)%3,l.fromBufferAttribute(v,w),u.push(l.x,l.y,l.z)}this.addAttribute("position",new fn(u,3))}function Ao(t,e,i){an.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Ro(t,e,i)),this.mergeVertices()}function Ro(t,e,i){Ln.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var n,r,a=[],o=[],s=[],c=[],h=new Ge,l=new Ge,u=new Ge,p=new Ge,d=new Ge,f=e+1;for(n=0;n<=i;n++){var m=n/i;for(r=0;r<=e;r++){var g=r/e;t(g,m,l),o.push(l.x,l.y,l.z),0<=g-1e-5?(t(g-1e-5,m,u),p.subVectors(l,u)):(t(g+1e-5,m,u),p.subVectors(u,l)),0<=m-1e-5?(t(g,m-1e-5,u),d.subVectors(l,u)):(t(g,m+1e-5,u),d.subVectors(u,l)),h.crossVectors(p,d).normalize(),s.push(h.x,h.y,h.z),c.push(g,m)}}for(n=0;n<i;n++)for(r=0;r<e;r++){var v=n*f+r,y=n*f+r+1,x=(n+1)*f+r+1,b=(n+1)*f+r;a.push(v,y,b),a.push(y,x,b)}this.setIndex(a),this.addAttribute("position",new fn(o,3)),this.addAttribute("normal",new fn(s,3)),this.addAttribute("uv",new fn(c,2))}function Lo(t,e,i,n){an.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n},this.fromBufferGeometry(new Po(t,e,i,n)),this.mergeVertices()}function Po(n,a,t,e){Ln.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:a,radius:t,detail:e},t=t||1;var l=[],u=[];function o(t,e,i,n){var r,a,o=Math.pow(2,n),s=[];for(r=0;r<=o;r++){s[r]=[];var c=t.clone().lerp(i,r/o),h=e.clone().lerp(i,r/o),l=o-r;for(a=0;a<=l;a++)s[r][a]=0===a&&r===o?c:c.clone().lerp(h,a/l)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var u=Math.floor(a/2);a%2==0?(p(s[r][u+1]),p(s[r+1][u]),p(s[r][u])):(p(s[r][u+1]),p(s[r+1][u+1]),p(s[r+1][u]))}}function p(t){l.push(t.x,t.y,t.z)}function s(t,e){var i=3*t;e.x=n[i+0],e.y=n[i+1],e.z=n[i+2]}function d(t,e,i,n){n<0&&1===t.x&&(u[e]=t.x-1),0===i.x&&0===i.z&&(u[e]=n/2/Math.PI+.5)}function f(t){return Math.atan2(t.z,-t.x)}!function(t){for(var e=new Ge,i=new Ge,n=new Ge,r=0;r<a.length;r+=3)s(a[r+0],e),s(a[r+1],i),s(a[r+2],n),o(e,i,n,t)}(e=e||0),function(t){for(var e=new Ge,i=0;i<l.length;i+=3)e.x=l[i+0],e.y=l[i+1],e.z=l[i+2],e.normalize().multiplyScalar(t),l[i+0]=e.x,l[i+1]=e.y,l[i+2]=e.z}(t),function(){for(var t=new Ge,e=0;e<l.length;e+=3){t.x=l[e+0],t.y=l[e+1],t.z=l[e+2];var i=f(t)/2/Math.PI+.5,n=(r=t,Math.atan2(-r.y,Math.sqrt(r.x*r.x+r.z*r.z))/Math.PI+.5);u.push(i,1-n)}var r;(function(){for(var t=new Ge,e=new Ge,i=new Ge,n=new Ge,r=new Be,a=new Be,o=new Be,s=0,c=0;s<l.length;s+=9,c+=6){t.set(l[s+0],l[s+1],l[s+2]),e.set(l[s+3],l[s+4],l[s+5]),i.set(l[s+6],l[s+7],l[s+8]),r.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),n.copy(t).add(e).add(i).divideScalar(3);var h=f(n);d(r,c+0,t,h),d(a,c+2,e,h),d(o,c+4,i,h)}})(),function(){for(var t=0;t<u.length;t+=6){var e=u[t+0],i=u[t+2],n=u[t+4],r=Math.max(e,i,n),a=Math.min(e,i,n);.9<r&&a<.1&&(e<.2&&(u[t+0]+=1),i<.2&&(u[t+2]+=1),n<.2&&(u[t+4]+=1))}}()}(),this.addAttribute("position",new fn(l,3)),this.addAttribute("normal",new fn(l.slice(),3)),this.addAttribute("uv",new fn(u,2)),0===e?this.computeVertexNormals():this.normalizeNormals()}function Co(t,e){an.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Oo(t,e)),this.mergeVertices()}function Oo(t,e){Po.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Io(t,e){an.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new No(t,e)),this.mergeVertices()}function No(t,e){Po.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Uo(t,e){an.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Do(t,e)),this.mergeVertices()}function Do(t,e){var i=(1+Math.sqrt(5))/2;Po.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Bo(t,e){an.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fo(t,e)),this.mergeVertices()}function Fo(t,e){var i=(1+Math.sqrt(5))/2,n=1/i;Po.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function zo(t,e,i,n,r,a){an.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new Go(t,e,i,n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function Go(o,s,c,h,t){Ln.call(this),this.type="TubeBufferGeometry",this.parameters={path:o,tubularSegments:s,radius:c,radialSegments:h,closed:t},s=s||64,c=c||1,h=h||8,t=t||!1;var l=o.computeFrenetFrames(s,t);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var r,u,p=new Ge,d=new Ge,e=new Be,f=new Ge,m=[],g=[],i=[],a=[];function n(t){f=o.getPointAt(t/s,f);var e=l.normals[t],i=l.binormals[t];for(u=0;u<=h;u++){var n=u/h*Math.PI*2,r=Math.sin(n),a=-Math.cos(n);d.x=a*e.x+r*i.x,d.y=a*e.y+r*i.y,d.z=a*e.z+r*i.z,d.normalize(),g.push(d.x,d.y,d.z),p.x=f.x+c*d.x,p.y=f.y+c*d.y,p.z=f.z+c*d.z,m.push(p.x,p.y,p.z)}}!function(){for(r=0;r<s;r++)n(r);n(!1===t?s:0),function(){for(r=0;r<=s;r++)for(u=0;u<=h;u++)e.x=r/s,e.y=u/h,i.push(e.x,e.y)}(),function(){for(u=1;u<=s;u++)for(r=1;r<=h;r++){var t=(h+1)*(u-1)+(r-1),e=(h+1)*u+(r-1),i=(h+1)*u+r,n=(h+1)*(u-1)+r;a.push(t,e,n),a.push(e,i,n)}}()}(),this.setIndex(a),this.addAttribute("position",new fn(m,3)),this.addAttribute("normal",new fn(g,3)),this.addAttribute("uv",new fn(i,2))}function Ho(t,e,i,n,r,a,o){an.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Vo(t,e,i,n,r,a)),this.mergeVertices()}function Vo(t,e,i,n,r,a){Ln.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,n=Math.floor(n)||8,r=r||2,a=a||3;var o,s,c=[],h=[],l=[],u=[],p=new Ge,d=new Ge,f=new Ge,m=new Ge,g=new Ge,v=new Ge,y=new Ge;for(o=0;o<=i;++o){var x=o/i*r*Math.PI*2;for(A(x,r,a,t,f),A(x+.01,r,a,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=n;++s){var b=s/n*Math.PI*2,_=-e*Math.cos(b),w=e*Math.sin(b);p.x=f.x+(_*y.x+w*g.x),p.y=f.y+(_*y.y+w*g.y),p.z=f.z+(_*y.z+w*g.z),h.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),l.push(d.x,d.y,d.z),u.push(o/i),u.push(s/n)}}for(s=1;s<=i;s++)for(o=1;o<=n;o++){var M=(n+1)*(s-1)+(o-1),E=(n+1)*s+(o-1),T=(n+1)*s+o,S=(n+1)*(s-1)+o;c.push(M,E,S),c.push(E,T,S)}function A(t,e,i,n,r){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,c=Math.cos(s);r.x=n*(2+c)*.5*a,r.y=n*(2+c)*o*.5,r.z=n*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new fn(h,3)),this.addAttribute("normal",new fn(l,3)),this.addAttribute("uv",new fn(u,2))}function ko(t,e,i,n,r){an.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new jo(t,e,i,n,r)),this.mergeVertices()}function jo(t,e,i,n,r){Ln.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||1,e=e||.4,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=[],c=[],h=[],l=[],u=new Ge,p=new Ge,d=new Ge;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var f=o/n*r,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),d.subVectors(p,u).normalize(),h.push(d.x,d.y,d.z),l.push(o/n),l.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var g=(n+1)*a+o-1,v=(n+1)*(a-1)+o-1,y=(n+1)*(a-1)+o,x=(n+1)*a+o;s.push(g,v,x),s.push(v,y,x)}this.setIndex(s),this.addAttribute("position",new fn(c,3)),this.addAttribute("normal",new fn(h,3)),this.addAttribute("uv",new fn(l,2))}((Ya.prototype=Object.create(ar.prototype)).constructor=Ya).prototype.isMeshDepthMaterial=!0,Ya.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},((Za.prototype=Object.create(ar.prototype)).constructor=Za).prototype.isMeshDistanceMaterial=!0,Za.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},(Qa.prototype=Object.create(oi.prototype)).constructor=Qa,io.prototype=Object.assign(Object.create(qi.prototype),{constructor:io,isPerspectiveCamera:!0,copy:function(t,e){return qi.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*De.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*De.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*De.RAD2DEG*Math.atan(Math.tan(.5*De.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*De.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,e-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-i,t,this.far)},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),no.prototype=Object.assign(Object.create(io.prototype),{constructor:no,isArrayCamera:!0}),oo.prototype.isFogExp2=!0,oo.prototype.clone=function(){return new oo(this.color.getHex(),this.density)},oo.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},so.prototype.isFog=!0,so.prototype.clone=function(){return new so(this.color.getHex(),this.near,this.far)},so.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},co.prototype=Object.assign(Object.create(Xi.prototype),{constructor:co,copy:function(t,e){return Xi.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),((ho.prototype=Object.create(ar.prototype)).constructor=ho).prototype.isSpriteMaterial=!0,ho.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},lo.prototype=Object.assign(Object.create(Xi.prototype),{constructor:lo,isSprite:!0,raycast:(Sa=new Ge,Aa=new Ge,Ra=new Ge,function(t,e){Aa.setFromMatrixPosition(this.matrixWorld),t.ray.closestPointToPoint(Aa,Sa),Ra.setFromMatrixScale(this.matrixWorld);var i=Ra.x*Ra.y/4;if(!(Aa.distanceToSquared(Sa)>i)){var n=t.ray.origin.distanceTo(Sa);n<t.near||n>t.far||e.push({distance:n,point:Sa.clone(),face:null,object:this})}}),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Xi.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),uo.prototype=Object.assign(Object.create(Xi.prototype),{constructor:uo,copy:function(t){Xi.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,n=e.length;i<n;i++){var r=e[i];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length&&!(e<i[n].distance);n++);i.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(Ca=new Ge,function(t,e){Ca.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(Ca);this.getObjectForDistance(i).raycast(t,e)}),update:(La=new Ge,Pa=new Ge,function(t){var e=this.levels;if(1<e.length){La.setFromMatrixPosition(t.matrixWorld),Pa.setFromMatrixPosition(this.matrixWorld);var i=La.distanceTo(Pa);e[0].object.visible=!0;for(var n=1,r=e.length;n<r&&i>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(;n<r;n++)e[n].object.visible=!1}}),toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Object.assign(po.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Fe;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(Oa=new Fe,Ia=new Fe,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,n=this.boneTexture,r=0,a=t.length;r<a;r++){var o=t[r]?t[r].matrixWorld:Ia;Oa.multiplyMatrices(o,e[r]),Oa.toArray(i,16*r)}void 0!==n&&(n.needsUpdate=!0)}),clone:function(){return new po(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var n=this.bones[e];if(n.name===t)return n}}}),fo.prototype=Object.assign(Object.create(Xi.prototype),{constructor:fo,isBone:!0}),mo.prototype=Object.assign(Object.create(ur.prototype),{constructor:mo,isSkinnedMesh:!0,initBones:function(){var t,e,i,n,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(i=0,n=this.geometry.bones.length;i<n;i++)e=this.geometry.bones[i],t=new fo,r.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(i=0,n=this.geometry.bones.length;i<n;i++)-1!==(e=this.geometry.bones[i]).parent&&null!==e.parent&&void 0!==r[e.parent]?r[e.parent].add(r[i]):this.add(r[i])}return this.updateMatrixWorld(!0),r},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var i=this.geometry.skinWeights[e];(t=1/i.manhattanLength())!==1/0?i.multiplyScalar(t):i.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new si,r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++)n.x=r.getX(e),n.y=r.getY(e),n.z=r.getZ(e),n.w=r.getW(e),(t=1/n.manhattanLength())!==1/0?n.multiplyScalar(t):n.set(1,0,0,0),r.setXYZW(e,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){ur.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((go.prototype=Object.create(ar.prototype)).constructor=go).prototype.isLineBasicMaterial=!0,go.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},vo.prototype=Object.assign(Object.create(Xi.prototype),{constructor:vo,isLine:!0,computeLineDistances:(Ba=new Ge,Fa=new Ge,function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[0],n=1,r=e.count;n<r;n++)Ba.fromBufferAttribute(e,n-1),Fa.fromBufferAttribute(e,n),i[n]=i[n-1],i[n]+=Ba.distanceTo(Fa);t.addAttribute("lineDistance",new fn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,n=1,r=a.length;n<r;n++)i[n]=i[n-1],i[n]+=a[n-1].distanceTo(a[n])}return this}),raycast:(Na=new Fe,Ua=new cr,Da=new pi,function(t,e){var i=t.linePrecision,n=i*i,r=this.geometry,a=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Da.copy(r.boundingSphere),Da.applyMatrix4(a),!1!==t.ray.intersectsSphere(Da)){Na.getInverse(a),Ua.copy(t.ray).applyMatrix4(Na);var o=new Ge,s=new Ge,c=new Ge,h=new Ge,l=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var u=r.index,p=r.attributes.position.array;if(null!==u)for(var d=u.array,f=0,m=d.length-1;f<m;f+=l){var g=d[f],v=d[f+1];o.fromArray(p,3*g),s.fromArray(p,3*v),n<Ua.distanceSqToSegment(o,s,h,c)||(h.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(h))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}else for(f=0,m=p.length/3-1;f<m;f+=l)o.fromArray(p,3*f),s.fromArray(p,3*f+3),n<Ua.distanceSqToSegment(o,s,h,c)||(h.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(h))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}else if(r.isGeometry){var y=r.vertices,x=y.length;for(f=0;f<x-1;f+=l){var b;n<Ua.distanceSqToSegment(y[f],y[f+1],h,c)||(h.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(h))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yo.prototype=Object.assign(Object.create(vo.prototype),{constructor:yo,isLineSegments:!0,computeLineDistances:(za=new Ge,Ga=new Ge,function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[],n=0,r=e.count;n<r;n+=2)za.fromBufferAttribute(e,n),Ga.fromBufferAttribute(e,n+1),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+za.distanceTo(Ga);t.addAttribute("lineDistance",new fn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;for(i=t.lineDistances,n=0,r=a.length;n<r;n+=2)za.copy(a[n]),Ga.copy(a[n+1]),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+za.distanceTo(Ga)}return this})}),xo.prototype=Object.assign(Object.create(vo.prototype),{constructor:xo,isLineLoop:!0}),((bo.prototype=Object.create(ar.prototype)).constructor=bo).prototype.isPointsMaterial=!0,bo.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},_o.prototype=Object.assign(Object.create(Xi.prototype),{constructor:_o,isPoints:!0,raycast:(Ha=new Fe,Va=new cr,ka=new pi,function(r,a){var o=this,t=this.geometry,s=this.matrixWorld,e=r.params.Points.threshold;if(null===t.boundingSphere&&t.computeBoundingSphere(),ka.copy(t.boundingSphere),ka.applyMatrix4(s),ka.radius+=e,!1!==r.ray.intersectsSphere(ka)){Ha.getInverse(s),Va.copy(r.ray).applyMatrix4(Ha);var i=e/((this.scale.x+this.scale.y+this.scale.z)/3),c=i*i,n=new Ge,h=new Ge;if(t.isBufferGeometry){var l=t.index,u=t.attributes.position.array;if(null!==l)for(var p=l.array,d=0,f=p.length;d<f;d++){var m=p[d];n.fromArray(u,3*m),y(n,m)}else{d=0;for(var g=u.length/3;d<g;d++)n.fromArray(u,3*d),y(n,d)}}else{var v=t.vertices;for(d=0,g=v.length;d<g;d++)y(v[d],d)}}function y(t,e){var i=Va.distanceSqToPoint(t);if(i<c){Va.closestPointToPoint(t,h),h.applyMatrix4(s);var n=r.ray.origin.distanceTo(h);if(n<r.near||n>r.far)return;a.push({distance:n,distanceToRay:Math.sqrt(i),point:h.clone(),index:e,face:null,object:o})}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),wo.prototype=Object.assign(Object.create(Xi.prototype),{constructor:wo,isGroup:!0}),Mo.prototype=Object.assign(Object.create(oi.prototype),{constructor:Mo,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((Eo.prototype=Object.create(oi.prototype)).constructor=Eo).prototype.isCompressedTexture=!0,((To.prototype=Object.create(oi.prototype)).constructor=To).prototype.isDepthTexture=!0,(So.prototype=Object.create(Ln.prototype)).constructor=So,(Ao.prototype=Object.create(an.prototype)).constructor=Ao,(Ro.prototype=Object.create(Ln.prototype)).constructor=Ro,(Lo.prototype=Object.create(an.prototype)).constructor=Lo,(Po.prototype=Object.create(Ln.prototype)).constructor=Po,(Co.prototype=Object.create(an.prototype)).constructor=Co,(Oo.prototype=Object.create(Po.prototype)).constructor=Oo,(Io.prototype=Object.create(an.prototype)).constructor=Io,(No.prototype=Object.create(Po.prototype)).constructor=No,(Uo.prototype=Object.create(an.prototype)).constructor=Uo,(Do.prototype=Object.create(Po.prototype)).constructor=Do,(Bo.prototype=Object.create(an.prototype)).constructor=Bo,(Fo.prototype=Object.create(Po.prototype)).constructor=Fo,(zo.prototype=Object.create(an.prototype)).constructor=zo,(Go.prototype=Object.create(Ln.prototype)).constructor=Go,(Ho.prototype=Object.create(an.prototype)).constructor=Ho,(Vo.prototype=Object.create(Ln.prototype)).constructor=Vo,(ko.prototype=Object.create(an.prototype)).constructor=ko,(jo.prototype=Object.create(Ln.prototype)).constructor=jo;var Wo=function(t,e,i){i=i||2;var n,r,a,o,s,c,h,l=e&&e.length,u=l?e[0]*i:t.length,p=Xo(t,0,u,i,!0),d=[];if(!p)return d;if(l&&(p=function(t,e,i,n){var r,a,o,s,c,h=[];for(r=0,a=e.length;r<a;r++)o=e[r]*n,s=r<a-1?e[r+1]*n:t.length,(c=Xo(t,o,s,n,!1))===c.next&&(c.steiner=!0),h.push(is(c));for(h.sort($o),r=0;r<h.length;r++)ts(h[r],i),i=qo(i,i.next);return i}(t,e,p,i)),t.length>80*i){n=a=t[0],r=o=t[1];for(var f=i;f<u;f+=i)(s=t[f])<n&&(n=s),(c=t[f+1])<r&&(r=c),a<s&&(a=s),o<c&&(o=c);h=0!==(h=Math.max(a-n,o-r))?1/h:0}return Yo(p,d,i,n,r,h),d};function Xo(t,e,i,n,r){var a,o;if(r===0<function(t,e,i,n){for(var r=0,a=e,o=i-n;a<i;a+=n)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(t,e,i,n))for(a=e;a<i;a+=n)o=hs(a,t[a],t[a+1],o);else for(a=i-n;e<=a;a-=n)o=hs(a,t[a],t[a+1],o);return o&&as(o,o.next)&&(ls(o),o=o.next),o}function qo(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!as(n,n.next)&&0!==rs(n.prev,n,n.next))n=n.next;else{if(ls(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function Yo(t,e,i,n,r,a,o){if(t){!o&&a&&function(t,e,i,n){var r=t;for(;null===r.z&&(r.z=es(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next,r!==t;);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,a,o,s,c,h=1;do{for(i=t,a=t=null,o=0;i;){for(o++,n=i,e=s=0;e<h&&(s++,n=n.nextZ);e++);for(c=h;0<s||0<c&&n;)0!==s&&(0===c||!n||i.z<=n.z)?(i=(r=i).nextZ,s--):(n=(r=n).nextZ,c--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=n}a.nextZ=null,h*=2}while(1<o)}(r)}(t,n,r,a);for(var s,c,h=t;t.prev!==t.next;)if(s=t.prev,c=t.next,a?Jo(t,n,r,a):Zo(t))e.push(s.i/i),e.push(t.i/i),e.push(c.i/i),ls(t),t=c.next,h=c.next;else if((t=c)===h){o?1===o?Yo(t=Qo(t,e,i),e,i,n,r,a,2):2===o&&Ko(t,e,i,n,r,a):Yo(qo(t),e,i,n,r,a,1);break}}}function Zo(t){var e=t.prev,i=t,n=t.next;if(0<=rs(e,i,n))return!1;for(var r=t.next.next;r!==t.prev;){if(ns(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&0<=rs(r.prev,r,r.next))return!1;r=r.next}return!0}function Jo(t,e,i,n){var r=t.prev,a=t,o=t.next;if(0<=rs(r,a,o))return!1;for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,c=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,h=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,u=es(s,c,e,i,n),p=es(h,l,e,i,n),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&ns(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&0<=rs(d.prev,d,d.next))return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=u;){if(d!==t.prev&&d!==t.next&&ns(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&0<=rs(d.prev,d,d.next))return!1;d=d.prevZ}return!0}function Qo(t,e,i){var n=t;do{var r=n.prev,a=n.next.next;!as(r,a)&&os(r,n,n.next,a)&&ss(r,a)&&ss(a,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(a.i/i),ls(n),ls(n.next),n=t=a),n=n.next}while(n!==t);return n}function Ko(t,e,i,n,r,a){var o,s,c=t;do{for(var h=c.next.next;h!==c.prev;){if(c.i!==h.i&&(s=h,(o=c).next.i!==s.i&&o.prev.i!==s.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&os(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(o,s)&&ss(o,s)&&ss(s,o)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;for(;i.y>a!=i.next.y>a&&i.next.y!==i.y&&r<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next,i!==t;);return n}(o,s))){var l=cs(c,h);return c=qo(c,c.next),l=qo(l,l.next),Yo(c,e,i,n,r,a),void Yo(l,e,i,n,r,a)}h=h.next}c=c.next}while(c!==t)}function $o(t,e){return t.x-e.x}function ts(t,e){if(e=function(t,e){var i,n=e,r=t.x,a=t.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&o<s){if((o=s)===r){if(a===n.y)return n;if(a===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i.prev;var c,h=i,l=i.x,u=i.y,p=1/0;n=i.next;for(;n!==h;)r>=n.x&&n.x>=l&&r!==n.x&&ns(a<u?r:o,a,l,u,a<u?o:r,a,n.x,n.y)&&((c=Math.abs(a-n.y)/(r-n.x))<p||c===p&&n.x>i.x)&&ss(n,t)&&(i=n,p=c),n=n.next;return i}(t,e)){var i=cs(e,t);qo(i,i.next)}}function es(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function is(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i}function ns(t,e,i,n,r,a,o,s){return 0<=(r-o)*(e-s)-(t-o)*(a-s)&&0<=(t-o)*(n-s)-(i-o)*(e-s)&&0<=(i-o)*(a-s)-(r-o)*(n-s)}function rs(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function as(t,e){return t.x===e.x&&t.y===e.y}function os(t,e,i,n){return!!(as(t,e)&&as(i,n)||as(t,n)&&as(i,e))||0<rs(t,e,i)!=0<rs(t,e,n)&&0<rs(i,n,t)!=0<rs(i,n,e)}function ss(t,e){return rs(t.prev,t,t.next)<0?0<=rs(t,e,t.next)&&0<=rs(t,t.prev,e):rs(t,e,t.prev)<0||rs(t,t.next,e)<0}function cs(t,e){var i=new us(t.i,t.x,t.y),n=new us(e.i,e.x,e.y),r=t.next,a=e.prev;return(t.next=e).prev=t,(i.next=r).prev=i,(n.next=i).prev=n,(a.next=n).prev=a,n}function hs(t,e,i,n){var r=new us(t,e,i);return n?(r.next=n.next,(r.prev=n).next.prev=r,n.next=r):(r.prev=r).next=r,r}function ls(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function us(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ps={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},isClockWise:function(t){return ps.area(t)<0},triangulateShape:function(t,e){var i=[],n=[],r=[];ds(t),fs(i,t);var a=t.length;e.forEach(ds);for(var o=0;o<e.length;o++)n.push(a),a+=e[o].length,fs(i,e[o]);var s=Wo(i,n);for(o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function ds(t){var e=t.length;2<e&&t[e-1].equals(t[0])&&t.pop()}function fs(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function ms(t,e){an.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new gs(t,e)),this.mergeVertices()}function gs(t,J){Ln.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:J},t=Array.isArray(t)?t:[t];for(var Q=this,K=[],$=[],e=0,i=t.length;e<i;e++){n(t[e])}function n(t){var e,i,n,r,a,o,s,c,h=[],l=void 0!==J.curveSegments?J.curveSegments:12,u=void 0!==J.steps?J.steps:1,p=void 0!==J.amount?J.amount:100,d=void 0===J.bevelEnabled||J.bevelEnabled,f=void 0!==J.bevelThickness?J.bevelThickness:6,m=void 0!==J.bevelSize?J.bevelSize:f-2,g=void 0!==J.bevelSegments?J.bevelSegments:3,v=J.extrudePath,y=void 0!==J.UVGenerator?J.UVGenerator:vs,x=!1;v&&(e=v.getSpacedPoints(u),d=!(x=!0),i=v.computeFrenetFrames(u,!1),n=new Ge,r=new Ge,a=new Ge),d||(m=f=g=0);var b=t.extractPoints(l),_=b.shape,w=b.holes;if(!ps.isClockWise(_))for(_=_.reverse(),s=0,c=w.length;s<c;s++)o=w[s],ps.isClockWise(o)&&(w[s]=o.reverse());var M=ps.triangulateShape(_,w),E=_;for(s=0,c=w.length;s<c;s++)o=w[s],_=_.concat(o);function T(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}var S,A,R,L,P,C,O=_.length,I=M.length;function N(t,e,i){var n,r,a,o=t.x-e.x,s=t.y-e.y,c=i.x-t.x,h=i.y-t.y,l=o*o+s*s,u=o*h-s*c;if(Math.abs(u)>Number.EPSILON){var p=Math.sqrt(l),d=Math.sqrt(c*c+h*h),f=e.x-s/p,m=e.y+o/p,g=((i.x-h/d-f)*h-(i.y+c/d-m)*c)/(o*h-s*c),v=(n=f+o*g-t.x)*n+(r=m+s*g-t.y)*r;if(v<=2)return new Be(n,r);a=Math.sqrt(v/2)}else{var y=!1;o>Number.EPSILON?c>Number.EPSILON&&(y=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(h)&&(y=!0),y?(n=-s,r=o,a=Math.sqrt(l)):(n=o,r=s,a=Math.sqrt(l/2))}return new Be(n/a,r/a)}for(var U=[],D=0,B=E.length,F=B-1,z=D+1;D<B;D++,F++,z++)F===B&&(F=0),z===B&&(z=0),U[D]=N(E[D],E[F],E[z]);var G,H,V=[],k=U.concat();for(s=0,c=w.length;s<c;s++){for(o=w[s],G=[],D=0,F=(B=o.length)-1,z=D+1;D<B;D++,F++,z++)F===B&&(F=0),z===B&&(z=0),G[D]=N(o[D],o[F],o[z]);V.push(G),k=k.concat(G)}for(S=0;S<g;S++){for(R=S/g,L=f*Math.cos(R*Math.PI/2),A=m*Math.sin(R*Math.PI/2),D=0,B=E.length;D<B;D++)W((P=T(E[D],U[D],A)).x,P.y,-L);for(s=0,c=w.length;s<c;s++)for(o=w[s],G=V[s],D=0,B=o.length;D<B;D++)W((P=T(o[D],G[D],A)).x,P.y,-L)}for(A=m,D=0;D<O;D++)P=d?T(_[D],k[D],A):_[D],x?(r.copy(i.normals[0]).multiplyScalar(P.x),n.copy(i.binormals[0]).multiplyScalar(P.y),a.copy(e[0]).add(r).add(n),W(a.x,a.y,a.z)):W(P.x,P.y,0);for(H=1;H<=u;H++)for(D=0;D<O;D++)P=d?T(_[D],k[D],A):_[D],x?(r.copy(i.normals[H]).multiplyScalar(P.x),n.copy(i.binormals[H]).multiplyScalar(P.y),a.copy(e[H]).add(r).add(n),W(a.x,a.y,a.z)):W(P.x,P.y,p/u*H);for(S=g-1;0<=S;S--){for(R=S/g,L=f*Math.cos(R*Math.PI/2),A=m*Math.sin(R*Math.PI/2),D=0,B=E.length;D<B;D++)W((P=T(E[D],U[D],A)).x,P.y,p+L);for(s=0,c=w.length;s<c;s++)for(o=w[s],G=V[s],D=0,B=o.length;D<B;D++)P=T(o[D],G[D],A),x?W(P.x,P.y+e[u-1].y,e[u-1].x+L):W(P.x,P.y,p+L)}function j(t,e){var i,n;for(D=t.length;0<=--D;){(n=(i=D)-1)<0&&(n=t.length-1);var r=0,a=u+2*g;for(r=0;r<a;r++){var o=O*r,s=O*(r+1);q(e+i+o,e+n+o,e+n+s,e+i+s)}}}function W(t,e,i){h.push(t),h.push(e),h.push(i)}function X(t,e,i){Y(t),Y(e),Y(i);var n=K.length/3,r=y.generateTopUV(Q,K,n-3,n-2,n-1);Z(r[0]),Z(r[1]),Z(r[2])}function q(t,e,i,n){Y(t),Y(e),Y(n),Y(e),Y(i),Y(n);var r=K.length/3,a=y.generateSideWallUV(Q,K,r-6,r-3,r-2,r-1);Z(a[0]),Z(a[1]),Z(a[3]),Z(a[1]),Z(a[2]),Z(a[3])}function Y(t){K.push(h[3*t+0]),K.push(h[3*t+1]),K.push(h[3*t+2])}function Z(t){$.push(t.x),$.push(t.y)}!function(){var t=K.length/3;if(d){var e=0,i=O*e;for(D=0;D<I;D++)X((C=M[D])[2]+i,C[1]+i,C[0]+i);for(i=O*(e=u+2*g),D=0;D<I;D++)X((C=M[D])[0]+i,C[1]+i,C[2]+i)}else{for(D=0;D<I;D++)X((C=M[D])[2],C[1],C[0]);for(D=0;D<I;D++)X((C=M[D])[0]+O*u,C[1]+O*u,C[2]+O*u)}Q.addGroup(t,K.length/3-t,0)}(),function(){var t=K.length/3,e=0;for(j(E,e),e+=E.length,s=0,c=w.length;s<c;s++)j(o=w[s],e),e+=o.length;Q.addGroup(t,K.length/3-t,1)}()}this.addAttribute("position",new fn(K,3)),this.addAttribute("uv",new fn($,2)),this.computeVertexNormals()}(ms.prototype=Object.create(an.prototype)).constructor=ms,(gs.prototype=Object.create(Ln.prototype)).constructor=gs;var vs={generateTopUV:function(t,e,i,n,r){var a=e[3*i],o=e[3*i+1],s=e[3*n],c=e[3*n+1],h=e[3*r],l=e[3*r+1];return[new Be(a,o),new Be(s,c),new Be(h,l)]},generateSideWallUV:function(t,e,i,n,r,a){var o=e[3*i],s=e[3*i+1],c=e[3*i+2],h=e[3*n],l=e[3*n+1],u=e[3*n+2],p=e[3*r],d=e[3*r+1],f=e[3*r+2],m=e[3*a],g=e[3*a+1],v=e[3*a+2];return Math.abs(s-l)<.01?[new Be(o,1-c),new Be(h,1-u),new Be(p,1-f),new Be(m,1-v)]:[new Be(s,1-c),new Be(l,1-u),new Be(d,1-f),new Be(g,1-v)]}};function ys(t,e){an.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new xs(t,e)),this.mergeVertices()}function xs(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new an;var n=i.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),gs.call(this,n,e),this.type="TextBufferGeometry"}function bs(t,e,i,n,r,a,o){an.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new _s(t,e,i,n,r,a,o)),this.mergeVertices()}function _s(t,e,i,n,r,a,o){Ln.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var s,c,h=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),l=0,u=[],p=new Ge,d=new Ge,f=[],m=[],g=[],v=[];for(c=0;c<=i;c++){var y=[],x=c/i;for(s=0;s<=e;s++){var b=s/e;p.x=-t*Math.cos(n+b*r)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(n+b*r)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),v.push(b,1-x),y.push(l++)}u.push(y)}for(c=0;c<i;c++)for(s=0;s<e;s++){var _=u[c][s+1],w=u[c][s],M=u[c+1][s],E=u[c+1][s+1];(0!==c||0<a)&&f.push(_,w,E),(c!==i-1||h<Math.PI)&&f.push(w,M,E)}this.setIndex(f),this.addAttribute("position",new fn(m,3)),this.addAttribute("normal",new fn(g,3)),this.addAttribute("uv",new fn(v,2))}function ws(t,e,i,n,r,a){an.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Ms(t,e,i,n,r,a)),this.mergeVertices()}function Ms(t,e,i,n,r,a){Ln.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},t=t||.5,e=e||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,c,h=[],l=[],u=[],p=[],d=t,f=(e-t)/(n=void 0!==n?Math.max(1,n):1),m=new Ge,g=new Be;for(s=0;s<=n;s++){for(c=0;c<=i;c++)o=r+c/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<n;s++){var v=s*(i+1);for(c=0;c<i;c++){var y=o=c+v,x=o+i+1,b=o+i+2,_=o+1;h.push(y,x,_),h.push(x,b,_)}}this.setIndex(h),this.addAttribute("position",new fn(l,3)),this.addAttribute("normal",new fn(u,3)),this.addAttribute("uv",new fn(p,2))}function Es(t,e,i,n){an.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},this.fromBufferGeometry(new Ts(t,e,i,n)),this.mergeVertices()}function Ts(t,e,i,n){Ln.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},e=Math.floor(e)||12,i=i||0,n=n||2*Math.PI,n=De.clamp(n,0,2*Math.PI);var r,a,o,s=[],c=[],h=[],l=1/e,u=new Ge,p=new Be;for(a=0;a<=e;a++){var d=i+a*l*n,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)u.x=t[o].x*f,u.y=t[o].y,u.z=t[o].x*m,c.push(u.x,u.y,u.z),p.x=a/e,p.y=o/(t.length-1),h.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var g=r=o+a*t.length,v=r+t.length,y=r+t.length+1,x=r+1;s.push(g,v,x),s.push(v,y,x)}if(this.setIndex(s),this.addAttribute("position",new fn(c,3)),this.addAttribute("uv",new fn(h,2)),this.computeVertexNormals(),n===2*Math.PI){var b=this.attributes.normal.array,_=new Ge,w=new Ge,M=new Ge;for(r=e*t.length*3,o=a=0;a<t.length;a++,o+=3)_.x=b[o+0],_.y=b[o+1],_.z=b[o+2],w.x=b[r+o+0],w.y=b[r+o+1],w.z=b[r+o+2],M.addVectors(_,w).normalize(),b[o+0]=b[r+o+0]=M.x,b[o+1]=b[r+o+1]=M.y,b[o+2]=b[r+o+2]=M.z}}function Ss(t,e){an.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new As(t,e)),this.mergeVertices()}function As(t,f){Ln.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:f},f=f||12;var m=[],g=[],v=[],y=[],e=0,x=0;if(!1===Array.isArray(t))n(t);else for(var i=0;i<t.length;i++)n(t[i]),this.addGroup(e,x,i),e+=x,x=0;function n(t){var e,i,n,r=g.length/3,a=t.extractPoints(f),o=a.shape,s=a.holes;if(!1===ps.isClockWise(o))for(o=o.reverse(),e=0,i=s.length;e<i;e++)n=s[e],!0===ps.isClockWise(n)&&(s[e]=n.reverse());var c=ps.triangulateShape(o,s);for(e=0,i=s.length;e<i;e++)n=s[e],o=o.concat(n);for(e=0,i=o.length;e<i;e++){var h=o[e];g.push(h.x,h.y,0),v.push(0,0,1),y.push(h.x,h.y)}for(e=0,i=c.length;e<i;e++){var l=c[e],u=l[0]+r,p=l[1]+r,d=l[2]+r;m.push(u,p,d),x+=3}}this.setIndex(m),this.addAttribute("position",new fn(g,3)),this.addAttribute("normal",new fn(v,3)),this.addAttribute("uv",new fn(y,2))}function Rs(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,n=t.length;i<n;i++){var r=t[i];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function Ls(t,e){Ln.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,n,r,a,o=[],s=Math.cos(De.DEG2RAD*e),c=[0,0],h={},l=["a","b","c"];t.isBufferGeometry?(a=new an).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var u=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)i=m[l[g]],n=m[l[(g+1)%3]],c[0]=Math.min(i,n),c[1]=Math.max(i,n),void 0===h[r=c[0]+","+c[1]]?h[r]={index1:c[0],index2:c[1],face1:d,face2:void 0}:h[r].face2=d;for(r in h){var v=h[r];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=u[v.index1];o.push(y.x,y.y,y.z),y=u[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new fn(o,3))}function Ps(t,e,i,n,r,a,o,s){an.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Cs(t,e,i,n,r,a,o,s)),this.mergeVertices()}function Cs(v,y,x,b,_,t,w,M){Ln.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:v,radiusBottom:y,height:x,radialSegments:b,heightSegments:_,openEnded:t,thetaStart:w,thetaLength:M};var E=this;v=void 0!==v?v:1,y=void 0!==y?y:1,x=x||1,b=Math.floor(b)||8,_=Math.floor(_)||1,t=void 0!==t&&t,w=void 0!==w?w:0,M=void 0!==M?M:2*Math.PI;var T=[],S=[],A=[],R=[],L=0,P=[],C=x/2,O=0;function e(t){var e,i,n,r=new Be,a=new Ge,o=0,s=!0===t?v:y,c=!0===t?1:-1;for(i=L,e=1;e<=b;e++)S.push(0,C*c,0),A.push(0,c,0),R.push(.5,.5),L++;for(n=L,e=0;e<=b;e++){var h=e/b*M+w,l=Math.cos(h),u=Math.sin(h);a.x=s*u,a.y=C*c,a.z=s*l,S.push(a.x,a.y,a.z),A.push(0,c,0),r.x=.5*l+.5,r.y=.5*u*c+.5,R.push(r.x,r.y),L++}for(e=0;e<b;e++){var p=i+e,d=n+e;!0===t?T.push(d,d+1,p):T.push(d+1,d,p),o+=3}E.addGroup(O,o,!0===t?1:2),O+=o}!function(){var t,e,i=new Ge,n=new Ge,r=0,a=(y-v)/x;for(e=0;e<=_;e++){var o=[],s=e/_,c=s*(y-v)+v;for(t=0;t<=b;t++){var h=t/b,l=h*M+w,u=Math.sin(l),p=Math.cos(l);n.x=c*u,n.y=-s*x+C,n.z=c*p,S.push(n.x,n.y,n.z),i.set(u,a,p).normalize(),A.push(i.x,i.y,i.z),R.push(h,1-s),o.push(L++)}P.push(o)}for(t=0;t<b;t++)for(e=0;e<_;e++){var d=P[e][t],f=P[e+1][t],m=P[e+1][t+1],g=P[e][t+1];T.push(d,f,g),T.push(f,m,g),r+=6}E.addGroup(O,r,0),O+=r}(),!1===t&&(0<v&&e(!0),0<y&&e(!1)),this.setIndex(T),this.addAttribute("position",new fn(S,3)),this.addAttribute("normal",new fn(A,3)),this.addAttribute("uv",new fn(R,2))}function Os(t,e,i,n,r,a,o){Ps.call(this,0,t,e,i,n,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Is(t,e,i,n,r,a,o){Cs.call(this,0,t,e,i,n,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Ns(t,e,i,n){an.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new Us(t,e,i,n)),this.mergeVertices()}function Us(t,e,i,n){Ln.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r,a,o=[],s=[],c=[],h=[],l=new Ge,u=new Be;for(s.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,r=3;a<=e;a++,r+=3){var p=i+a/e*n;l.x=t*Math.cos(p),l.y=t*Math.sin(p),s.push(l.x,l.y,l.z),c.push(0,0,1),u.x=(s[r]/t+1)/2,u.y=(s[r+1]/t+1)/2,h.push(u.x,u.y)}for(r=1;r<=e;r++)o.push(r,r+1,0);this.setIndex(o),this.addAttribute("position",new fn(s,3)),this.addAttribute("normal",new fn(c,3)),this.addAttribute("uv",new fn(h,2))}(ys.prototype=Object.create(an.prototype)).constructor=ys,(xs.prototype=Object.create(gs.prototype)).constructor=xs,(bs.prototype=Object.create(an.prototype)).constructor=bs,(_s.prototype=Object.create(Ln.prototype)).constructor=_s,(ws.prototype=Object.create(an.prototype)).constructor=ws,(Ms.prototype=Object.create(Ln.prototype)).constructor=Ms,(Es.prototype=Object.create(an.prototype)).constructor=Es,(Ts.prototype=Object.create(Ln.prototype)).constructor=Ts,((Ss.prototype=Object.create(an.prototype)).constructor=Ss).prototype.toJSON=function(){var t=an.prototype.toJSON.call(this);return Rs(this.parameters.shapes,t)},((As.prototype=Object.create(Ln.prototype)).constructor=As).prototype.toJSON=function(){var t=Ln.prototype.toJSON.call(this);return Rs(this.parameters.shapes,t)},(Ls.prototype=Object.create(Ln.prototype)).constructor=Ls,(Ps.prototype=Object.create(an.prototype)).constructor=Ps,(Cs.prototype=Object.create(Ln.prototype)).constructor=Cs,(Os.prototype=Object.create(Ps.prototype)).constructor=Os,(Is.prototype=Object.create(Cs.prototype)).constructor=Is,(Ns.prototype=Object.create(an.prototype)).constructor=Ns,(Us.prototype=Object.create(Ln.prototype)).constructor=Us;var Ds=Object.freeze({WireframeGeometry:So,ParametricGeometry:Ao,ParametricBufferGeometry:Ro,TetrahedronGeometry:Co,TetrahedronBufferGeometry:Oo,OctahedronGeometry:Io,OctahedronBufferGeometry:No,IcosahedronGeometry:Uo,IcosahedronBufferGeometry:Do,DodecahedronGeometry:Bo,DodecahedronBufferGeometry:Fo,PolyhedronGeometry:Lo,PolyhedronBufferGeometry:Po,TubeGeometry:zo,TubeBufferGeometry:Go,TorusKnotGeometry:Ho,TorusKnotBufferGeometry:Vo,TorusGeometry:ko,TorusBufferGeometry:jo,TextGeometry:ys,TextBufferGeometry:xs,SphereGeometry:bs,SphereBufferGeometry:_s,RingGeometry:ws,RingBufferGeometry:Ms,PlaneGeometry:On,PlaneBufferGeometry:In,LatheGeometry:Es,LatheBufferGeometry:Ts,ShapeGeometry:Ss,ShapeBufferGeometry:As,ExtrudeGeometry:ms,ExtrudeBufferGeometry:gs,EdgesGeometry:Ls,ConeGeometry:Os,ConeBufferGeometry:Is,CylinderGeometry:Ps,CylinderBufferGeometry:Cs,CircleGeometry:Ns,CircleBufferGeometry:Us,BoxGeometry:Pn,BoxBufferGeometry:Cn});function Bs(t){ar.call(this),this.type="ShadowMaterial",this.color=new xi(0),this.transparent=!0,this.setValues(t)}function Fs(t){sr.call(this,t),this.type="RawShaderMaterial"}function zs(t){ar.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Gs(t){zs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Hs(t){ar.call(this),this.type="MeshPhongMaterial",this.color=new xi(16777215),this.specular=new xi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Vs(t){Hs.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function ks(t){ar.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function js(t){ar.call(this),this.type="MeshLambertMaterial",this.color=new xi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=V,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ws(t){go.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}((Bs.prototype=Object.create(ar.prototype)).constructor=Bs).prototype.isShadowMaterial=!0,Bs.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this},((Fs.prototype=Object.create(sr.prototype)).constructor=Fs).prototype.isRawShaderMaterial=!0,((zs.prototype=Object.create(ar.prototype)).constructor=zs).prototype.isMeshStandardMaterial=!0,zs.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((Gs.prototype=Object.create(zs.prototype)).constructor=Gs).prototype.isMeshPhysicalMaterial=!0,Gs.prototype.copy=function(t){return zs.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},((Hs.prototype=Object.create(ar.prototype)).constructor=Hs).prototype.isMeshPhongMaterial=!0,Hs.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((Vs.prototype=Object.create(Hs.prototype)).constructor=Vs).prototype.isMeshToonMaterial=!0,Vs.prototype.copy=function(t){return Hs.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},((ks.prototype=Object.create(ar.prototype)).constructor=ks).prototype.isMeshNormalMaterial=!0,ks.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((js.prototype=Object.create(ar.prototype)).constructor=js).prototype.isMeshLambertMaterial=!0,js.prototype.copy=function(t){return ar.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((Ws.prototype=Object.create(go.prototype)).constructor=Ws).prototype.isLineDashedMaterial=!0,Ws.prototype.copy=function(t){return go.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Xs=Object.freeze({ShadowMaterial:Bs,SpriteMaterial:ho,RawShaderMaterial:Fs,ShaderMaterial:sr,PointsMaterial:bo,MeshPhysicalMaterial:Gs,MeshStandardMaterial:zs,MeshPhongMaterial:Hs,MeshToonMaterial:Vs,MeshNormalMaterial:ks,MeshLambertMaterial:js,MeshDepthMaterial:Ya,MeshDistanceMaterial:Za,MeshBasicMaterial:or,LineDashedMaterial:Ws,LineBasicMaterial:go,Material:ar}),qs={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Ys(t,e,i){var n=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===r&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Zs=new Ys,Js={};function Qs(t){this.manager=void 0!==t?t:Zs}function Ks(t){this.manager=void 0!==t?t:Zs,this._parser=null}function $s(t){this.manager=void 0!==t?t:Zs,this._parser=null}function tc(t){this.manager=void 0!==t?t:Zs}function ec(t){this.manager=void 0!==t?t:Zs}function ic(t){this.manager=void 0!==t?t:Zs}function nc(){this.type="Curve",this.arcLengthDivisions=200}function rc(t,e,i,n,r,a,o,s){nc.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=n||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function ac(t,e,i,n,r,a){rc.call(this,t,e,i,i,n,r,a),this.type="ArcCurve"}function oc(){var r=0,a=0,o=0,s=0;function h(t,e,i,n){o=-3*(r=t)+3*e-2*(a=i)-n,s=2*t-2*e+i+n}return{initCatmullRom:function(t,e,i,n,r){h(e,i,r*(i-t),r*(n-e))},initNonuniformCatmullRom:function(t,e,i,n,r,a,o){var s=(e-t)/r-(i-t)/(r+a)+(i-e)/a,c=(i-e)/a-(n-e)/(a+o)+(n-i)/o;h(e,i,s*=a,c*=a)},calc:function(t){var e=t*t;return r+a*t+o*e+s*(e*t)}}}Object.assign(Qs.prototype,{load:function(o,t,e,i){void 0===o&&(o=""),void 0!==this.path&&(o=this.path+o),o=this.manager.resolveURL(o);var s=this,n=qs.get(o);if(void 0!==n)return s.manager.itemStart(o),setTimeout(function(){t&&t(n),s.manager.itemEnd(o)},0),n;if(void 0===Js[o]){var r=o.match(/^data:(.*?)(;base64)?,(.*)$/);if(r){var a=r[1],c=!!r[2],h=r[3];h=window.decodeURIComponent(h),c&&(h=window.atob(h));try{var l,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var p=new Uint8Array(h.length),d=0;d<h.length;d++)p[d]=h.charCodeAt(d);l="blob"===u?new Blob([p.buffer],{type:a}):p.buffer;break;case"document":var f=new DOMParser;l=f.parseFromString(h,a);break;case"json":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){t&&t(l),s.manager.itemEnd(o)},0)}catch(t){window.setTimeout(function(){i&&i(t),s.manager.itemEnd(o),s.manager.itemError(o)},0)}}else{Js[o]=[],Js[o].push({onLoad:t,onProgress:e,onError:i});var m=new XMLHttpRequest;for(var g in m.open("GET",o,!0),m.addEventListener("load",function(t){var e=this.response;qs.add(o,e);var i=Js[o];if(delete Js[o],200===this.status){for(var n=0,r=i.length;n<r;n++){(a=i[n]).onLoad&&a.onLoad(e)}s.manager.itemEnd(o)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(n=0,r=i.length;n<r;n++){(a=i[n]).onLoad&&a.onLoad(e)}s.manager.itemEnd(o)}else{for(n=0,r=i.length;n<r;n++){var a;(a=i[n]).onError&&a.onError(t)}s.manager.itemEnd(o),s.manager.itemError(o)}},!1),m.addEventListener("progress",function(t){for(var e=Js[o],i=0,n=e.length;i<n;i++){var r=e[i];r.onProgress&&r.onProgress(t)}},!1),m.addEventListener("error",function(t){var e=Js[o];delete Js[o];for(var i=0,n=e.length;i<n;i++){var r=e[i];r.onError&&r.onError(t)}s.manager.itemEnd(o),s.manager.itemError(o)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return s.manager.itemStart(o),m}Js[o].push({onLoad:t,onProgress:e,onError:i})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Ks.prototype,{load:function(t,a,e,n){var o=this,s=[],c=new Eo;c.image=s;var r=new Qs(this.manager);function i(i){r.load(t[i],function(t){var e=o._parser(t,!0);s[i]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(h+=1)&&(1===e.mipmapCount&&(c.minFilter=Lt),c.format=e.format,c.needsUpdate=!0,a&&a(c))},e,n)}if(r.setPath(this.path),r.setResponseType("arraybuffer"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)i(l);else r.load(t,function(t){var e=o._parser(t,!0);if(e.isCubemap)for(var i=e.mipmaps.length/e.mipmapCount,n=0;n<i;n++){s[n]={mipmaps:[]};for(var r=0;r<e.mipmapCount;r++)s[n].mipmaps.push(e.mipmaps[n*e.mipmapCount+r]),s[n].format=e.format,s[n].width=e.width,s[n].height=e.height}else c.image.width=e.width,c.image.height=e.height,c.mipmaps=e.mipmaps;1===e.mipmapCount&&(c.minFilter=Lt),c.format=e.format,c.needsUpdate=!0,a&&a(c)},e,n);return c},setPath:function(t){return this.path=t,this}}),Object.assign($s.prototype,{load:function(t,i,e,n){var r=this,a=new li,o=new Qs(this.manager);return o.setResponseType("arraybuffer"),o.load(t,function(t){var e=r._parser(t);e&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:wt,a.wrapT=void 0!==e.wrapT?e.wrapT:wt,a.magFilter=void 0!==e.magFilter?e.magFilter:Lt,a.minFilter=void 0!==e.minFilter?e.minFilter:Ct,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps),1===e.mipmapCount&&(a.minFilter=Lt),a.needsUpdate=!0,i&&i(a,e))},e,n),a}}),Object.assign(tc.prototype,{crossOrigin:"Anonymous",load:function(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=qs.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){qs.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),o.addEventListener("error",function(t){n&&n(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(ec.prototype,{crossOrigin:"Anonymous",load:function(t,i,e,n){var r=new Mr,a=new tc(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(e){a.load(t[e],function(t){r.images[e]=t,6===++o&&(r.needsUpdate=!0,i&&i(r))},void 0,n)}for(var c=0;c<t.length;++c)s(c);return r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(ic.prototype,{crossOrigin:"Anonymous",load:function(i,n,t,e){var r=new oi,a=new tc(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(i,function(t){r.image=t;var e=0<i.search(/\.(jpg|jpeg)$/)||0===i.search(/^data\:image\/jpeg/);r.format=e?Wt:Xt,r.needsUpdate=!0,void 0!==n&&n(r)},t,e),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(nc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(r),n.push(a),r=e;return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n=this.getLengths(),r=0,a=n.length;i=e||t*n[a-1];for(var o,s=0,c=a-1;s<=c;)if((o=n[r=Math.floor(s+(c-s)/2)]-i)<0)s=r+1;else{if(!(0<o)){c=r;break}c=r-1}if(n[r=c]===i)return r/(a-1);var h=n[r];return(r+(i-h)/(n[r+1]-h))/(a-1)},getTangent:function(t){var e=t-1e-4,i=t+1e-4;e<0&&(e=0),1<i&&(i=1);var n=this.getPoint(e);return this.getPoint(i).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,n,r,a=new Ge,o=[],s=[],c=[],h=new Ge,l=new Fe;for(i=0;i<=t;i++)n=i/t,o[i]=this.getTangentAt(n),o[i].normalize();s[0]=new Ge,c[0]=new Ge;var u=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=u&&(u=p,a.set(1,0,0)),d<=u&&(u=d,a.set(0,1,0)),f<=u&&a.set(0,0,1),h.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],h),c[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),h.crossVectors(o[i-1],o[i]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(De.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(l.makeRotationAxis(h,r))),c[i].crossVectors(o[i],s[i]);if(!0===e)for(r=Math.acos(De.clamp(s[0].dot(s[t]),-1,1)),r/=t,0<o[0].dot(h.crossVectors(s[0],s[t]))&&(r=-r),i=1;i<=t;i++)s[i].applyMatrix4(l.makeRotationAxis(o[i],r*i)),c[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),((rc.prototype=Object.create(nc.prototype)).constructor=rc).prototype.isEllipseCurve=!0,rc.prototype.getPoint=function(t,e){for(var i=e||new Be,n=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=n;for(;n<r;)r-=n;r<Number.EPSILON&&(r=a?0:n),!0!==this.aClockwise||a||(r===n?r=-n:r-=n);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var h=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=s-this.aX,p=c-this.aY;s=u*h-p*l+this.aX,c=u*l+p*h+this.aY}return i.set(s,c)},rc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},rc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},rc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},((ac.prototype=Object.create(rc.prototype)).constructor=ac).prototype.isArcCurve=!0;var sc=new Ge,cc=new oc,hc=new oc,lc=new oc;function uc(t,e,i,n){nc.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=n||.5}function pc(t,e,i,n,r){var a=.5*(n-e),o=.5*(r-i),s=t*t;return(2*i-2*n+a+o)*(t*s)+(-3*i+3*n-2*a-o)*s+a*t+i}function dc(t,e,i,n){return(o=1-t)*o*e+2*(1-(a=t))*a*i+(r=t)*r*n;var r,a,o}function fc(t,e,i,n,r){return(h=1-t)*h*h*e+3*(c=1-(s=t))*c*s*i+3*(1-(o=t))*o*o*n+(a=t)*a*a*r;var a,o,s,c,h}function mc(t,e,i,n){nc.call(this),this.type="CubicBezierCurve",this.v0=t||new Be,this.v1=e||new Be,this.v2=i||new Be,this.v3=n||new Be}function gc(t,e,i,n){nc.call(this),this.type="CubicBezierCurve3",this.v0=t||new Ge,this.v1=e||new Ge,this.v2=i||new Ge,this.v3=n||new Ge}function vc(t,e){nc.call(this),this.type="LineCurve",this.v1=t||new Be,this.v2=e||new Be}function yc(t,e){nc.call(this),this.type="LineCurve3",this.v1=t||new Ge,this.v2=e||new Ge}function xc(t,e,i){nc.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Be,this.v1=e||new Be,this.v2=i||new Be}function bc(t,e,i){nc.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Ge,this.v1=e||new Ge,this.v2=i||new Ge}function _c(t){nc.call(this),this.type="SplineCurve",this.points=t||[]}((uc.prototype=Object.create(nc.prototype)).constructor=uc).prototype.isCatmullRomCurve3=!0,uc.prototype.getPoint=function(t,e){var i,n,r,a,o=e||new Ge,s=this.points,c=s.length,h=(c-(this.closed?0:1))*t,l=Math.floor(h),u=h-l;if(this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/c)+1)*c:0===u&&l===c-1&&(l=c-2,u=1),this.closed||0<l?i=s[(l-1)%c]:(sc.subVectors(s[0],s[1]).add(s[0]),i=sc),n=s[l%c],r=s[(l+1)%c],this.closed||l+2<c?a=s[(l+2)%c]:(sc.subVectors(s[c-1],s[c-2]).add(s[c-1]),a=sc),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(n),p),f=Math.pow(n.distanceToSquared(r),p),m=Math.pow(r.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),cc.initNonuniformCatmullRom(i.x,n.x,r.x,a.x,d,f,m),hc.initNonuniformCatmullRom(i.y,n.y,r.y,a.y,d,f,m),lc.initNonuniformCatmullRom(i.z,n.z,r.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(cc.initCatmullRom(i.x,n.x,r.x,a.x,this.tension),hc.initCatmullRom(i.y,n.y,r.y,a.y,this.tension),lc.initCatmullRom(i.z,n.z,r.z,a.z,this.tension));return o.set(cc.calc(u),hc.calc(u),lc.calc(u)),o},uc.prototype.copy=function(t){nc.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},uc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},uc.prototype.fromJSON=function(t){nc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push((new Ge).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},((mc.prototype=Object.create(nc.prototype)).constructor=mc).prototype.isCubicBezierCurve=!0,mc.prototype.getPoint=function(t,e){var i=e||new Be,n=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(fc(t,n.x,r.x,a.x,o.x),fc(t,n.y,r.y,a.y,o.y)),i},mc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},mc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},mc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},((gc.prototype=Object.create(nc.prototype)).constructor=gc).prototype.isCubicBezierCurve3=!0,gc.prototype.getPoint=function(t,e){var i=e||new Ge,n=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(fc(t,n.x,r.x,a.x,o.x),fc(t,n.y,r.y,a.y,o.y),fc(t,n.z,r.z,a.z,o.z)),i},gc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},gc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},gc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},((vc.prototype=Object.create(nc.prototype)).constructor=vc).prototype.isLineCurve=!0,vc.prototype.getPoint=function(t,e){var i=e||new Be;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},vc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},vc.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},vc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},vc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},vc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((yc.prototype=Object.create(nc.prototype)).constructor=yc).prototype.isLineCurve3=!0,yc.prototype.getPoint=function(t,e){var i=e||new Ge;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},yc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},yc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},yc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},yc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((xc.prototype=Object.create(nc.prototype)).constructor=xc).prototype.isQuadraticBezierCurve=!0,xc.prototype.getPoint=function(t,e){var i=e||new Be,n=this.v0,r=this.v1,a=this.v2;return i.set(dc(t,n.x,r.x,a.x),dc(t,n.y,r.y,a.y)),i},xc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},xc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},xc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((bc.prototype=Object.create(nc.prototype)).constructor=bc).prototype.isQuadraticBezierCurve3=!0,bc.prototype.getPoint=function(t,e){var i=e||new Ge,n=this.v0,r=this.v1,a=this.v2;return i.set(dc(t,n.x,r.x,a.x),dc(t,n.y,r.y,a.y),dc(t,n.z,r.z,a.z)),i},bc.prototype.copy=function(t){return nc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},bc.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},bc.prototype.fromJSON=function(t){return nc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((_c.prototype=Object.create(nc.prototype)).constructor=_c).prototype.isSplineCurve=!0,_c.prototype.getPoint=function(t,e){var i=e||new Be,n=this.points,r=(n.length-1)*t,a=Math.floor(r),o=r-a,s=n[0===a?a:a-1],c=n[a],h=n[a>n.length-2?n.length-1:a+1],l=n[a>n.length-3?n.length-1:a+2];return i.set(pc(o,s.x,c.x,h.x,l.x),pc(o,s.y,c.y,h.y,l.y)),i},_c.prototype.copy=function(t){nc.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push(n.clone())}return this},_c.prototype.toJSON=function(){var t=nc.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var n=this.points[e];t.points.push(n.toArray())}return t},_c.prototype.fromJSON=function(t){nc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push((new Be).fromArray(n))}return this};var wc=Object.freeze({ArcCurve:ac,CatmullRomCurve3:uc,CubicBezierCurve:mc,CubicBezierCurve3:gc,EllipseCurve:rc,LineCurve:vc,LineCurve3:yc,QuadraticBezierCurve:xc,QuadraticBezierCurve3:bc,SplineCurve:_c});function Mc(){nc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ec(t){Mc.call(this),this.type="Path",this.currentPoint=new Be,t&&this.setFromPoints(t)}function Tc(t){Ec.call(this,t),this.uuid=De.generateUUID(),this.type="Shape",this.holes=[]}function Sc(t,e){Xi.call(this),this.type="Light",this.color=new xi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ac(t,e,i){Sc.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Xi.DefaultUp),this.updateMatrix(),this.groundColor=new xi(e)}function Rc(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Be(512,512),this.map=null,this.matrix=new Fe}function Lc(){Rc.call(this,new io(50,1,.5,500))}function Pc(t,e,i,n,r,a){Sc.call(this,t,e),this.type="SpotLight",this.position.copy(Xi.DefaultUp),this.updateMatrix(),this.target=new Xi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Lc}function Cc(t,e,i,n){Sc.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Rc(new io(90,1,.5,500))}function Oc(){Rc.call(this,new Yi(-5,5,5,-5,.5,500))}function Ic(t,e){Sc.call(this,t,e),this.type="DirectionalLight",this.position.copy(Xi.DefaultUp),this.updateMatrix(),this.target=new Xi,this.shadow=new Oc}function Nc(t,e){Sc.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Uc(t,e,i,n){Sc.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==n?n:10}function Dc(t,e,i,n){qc.call(this,t,e,i,n)}function Bc(t,e,i){qc.call(this,t,e,i)}function Fc(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function zc(t,e,i,n){Fc.call(this,t,e,i,n)}function Gc(t,e,i,n){qc.call(this,t,e,i,n)}function Hc(t,e,i,n){qc.call(this,t,e,i,n)}function Vc(t,e,i,n){qc.call(this,t,e,i,n)}function kc(t,e,i,n){Fc.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function jc(t,e,i,n){Fc.call(this,t,e,i,n)}function Wc(t,e,i,n){Fc.call(this,t,e,i,n)}Mc.prototype=Object.assign(Object.create(nc.prototype),{constructor:Mc,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new vc(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=e){var r=i[n]-e,a=this.curves[n],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=r[n],o=a&&a.isEllipseCurve?2*t:a&&a.isLineCurve?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(i.push(h),e=h)}return this.autoClose&&1<i.length&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){nc.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=nc.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){nc.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var n=t.curves[e];this.curves.push((new wc[n.type]).fromJSON(n))}return this}}),Ec.prototype=Object.assign(Object.create(Mc.prototype),{constructor:Ec,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new vc(this.currentPoint.clone(),new Be(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,n){var r=new xc(this.currentPoint.clone(),new Be(t,e),new Be(i,n));this.curves.push(r),this.currentPoint.set(i,n)},bezierCurveTo:function(t,e,i,n,r,a){var o=new mc(this.currentPoint.clone(),new Be(t,e),new Be(i,n),new Be(r,a));this.curves.push(o),this.currentPoint.set(r,a)},splineThru:function(t){var e=new _c([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,n,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,n,r,a)},absarc:function(t,e,i,n,r,a){this.absellipse(t,e,i,i,n,r,a)},ellipse:function(t,e,i,n,r,a,o,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,i,n,r,a,o,s)},absellipse:function(t,e,i,n,r,a,o,s){var c=new rc(t,e,i,n,r,a,o,s);if(0<this.curves.length){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)},copy:function(t){return Mc.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Mc.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Mc.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Tc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Tc,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Ec.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){var t=Ec.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){Ec.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var n=t.holes[e];this.holes.push((new Ec).fromJSON(n))}return this}}),Sc.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Sc,isLight:!0,copy:function(t){return Xi.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ac.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Ac,isHemisphereLight:!0,copy:function(t){return Sc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Rc.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Lc.prototype=Object.assign(Object.create(Rc.prototype),{constructor:Lc,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*De.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;i===e.fov&&n===e.aspect&&r===e.far||(e.fov=i,e.aspect=n,e.far=r,e.updateProjectionMatrix())}}),Pc.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Pc,isSpotLight:!0,copy:function(t){return Sc.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Cc.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Cc,isPointLight:!0,copy:function(t){return Sc.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Oc.prototype=Object.assign(Object.create(Rc.prototype),{constructor:Oc}),Ic.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Ic,isDirectionalLight:!0,copy:function(t){return Sc.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Nc.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Nc,isAmbientLight:!0}),Uc.prototype=Object.assign(Object.create(Sc.prototype),{constructor:Uc,isRectAreaLight:!0,copy:function(t){return Sc.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Sc.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Dc.prototype=Object.assign(Object.create(qc.prototype),{constructor:Dc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:_e,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Bc.prototype=Object.assign(Object.create(qc.prototype),{constructor:Bc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:_e,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(Fc.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var a;i:{n:if(!(t<n)){for(var o=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===o)break;if(r=n,t<(n=e[++i]))break e}a=e.length;break i}if(r<=t)break t;var s=e[1];t<s&&(i=2,r=s);for(o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===o)break;if(n=r,(r=e[--i-1])<=t)break e}a=i,i=0}for(;i<a;){var c=i+a>>>1;t<e[c]?a=c:i=c+1}if(n=e[i],void 0===(r=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,a=0;a!==n;++a)e[a]=i[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Fc.prototype,{beforeStart_:Fc.prototype.copySampleValue_,afterEnd_:Fc.prototype.copySampleValue_}),zc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:zc,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=(i-e)/(n-e),h=s+o;s!==h;s+=4)ze.slerpFlat(r,0,a,s-o,a,s,c);return r}}),Gc.prototype=Object.assign(Object.create(qc.prototype),{constructor:Gc,ValueTypeName:"quaternion",DefaultInterpolation:we,InterpolantFactoryMethodLinear:function(t){return new zc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Hc.prototype=Object.assign(Object.create(qc.prototype),{constructor:Hc,ValueTypeName:"color"}),Vc.prototype=Object.assign(Object.create(qc.prototype),{constructor:Vc,ValueTypeName:"number"}),kc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:kc,DefaultSettings_:{endingStart:Me,endingEnd:Me},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ee:r=t,o=2*e-i;break;case Te:o=e+n[r=n.length-2]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Ee:a=t,s=2*i-e;break;case Te:s=i+n[a=1]-n[0];break;default:a=t-1,s=e}var c=.5*(i-e),h=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-i),this._offsetPrev=r*h,this._offsetNext=a*h},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(i-e)/(n-e),f=d*d,m=f*d,g=-u*m+2*u*f-u*d,v=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)r[b]=g*a[h+b]+v*a[c+b]+y*a[s+b]+x*a[l+b];return r}}),jc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:jc,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=(i-e)/(n-e),l=1-h,u=0;u!==o;++u)r[u]=a[c+u]*l+a[s+u]*h;return r}}),Wc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Wc,interpolate_:function(t){return this.copySampleValue_(t-1)}});var Xc={arraySlice:function(t,e,i){return Xc.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(i){for(var t=i.length,e=new Array(t),n=0;n!==t;++n)e[n]=n;return e.sort(function(t,e){return i[t]-i[e]}),e},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,c=0;c!==e;++c)r[o++]=t[s+c];return r},flattenJSON:function(t,e,i,n){for(var r=1,a=t[0];void 0!==a&&void 0===a[n];)a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[n])&&(e.push(a.time),i.push.apply(i,o)),void 0!==(a=t[r++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[n])&&(e.push(a.time),o.toArray(i,i.length)),void 0!==(a=t[r++]););else for(;void 0!==(o=a[n])&&(e.push(a.time),i.push(o)),void 0!==(a=t[r++]););}}};function qc(t,e,i,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Xc.convertArray(e,this.TimeBufferType),this.values=Xc.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function Yc(t,e,i,n){qc.call(this,t,e,i,n)}function Zc(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=De.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Jc(t){this.manager=void 0!==t?t:Zs,this.textures={}}function Qc(t){this.manager=void 0!==t?t:Zs}Object.assign(qc,{parse:function(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=qc._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var i=[],n=[];Xc.flattenJSON(t.keys,i,n,"value"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:Xc.convertArray(t.times,Array),values:Xc.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vc;case"vector":case"vector2":case"vector3":case"vector4":return Yc;case"color":return Hc;case"quaternion":return Gc;case"bool":case"boolean":return Bc;case"string":return Dc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}}),Object.assign(qc.prototype,{constructor:qc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:we,InterpolantFactoryMethodDiscrete:function(t){return new Wc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new jc(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new kc(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case _e:e=this.InterpolantFactoryMethodDiscrete;break;case we:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",i)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _e;case this.InterpolantFactoryMethodLinear:return we;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,n=i.length,r=0,a=n-1;r!==n&&i[r]<t;)++r;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==r||a!==n){a<=r&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Xc.arraySlice(i,r,a),this.values=Xc.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&s<a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==n&&Xc.isTypedArray(n)){o=0;for(var c=n.length;o!==c;++o){var h=n[o];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,h),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),n=2302===this.getInterpolation(),r=1,a=t.length-1,o=1;o<a;++o){var s=!1,c=t[o];if(c!==t[o+1]&&(1!==o||c!==c[0]))if(n)s=!0;else for(var h=o*i,l=h-i,u=h+i,p=0;p!==i;++p){var d=e[h+p];if(d!==e[l+p]||d!==e[u+p]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];var f=o*i,m=r*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++r}}if(0<a){t[r]=t[a];for(f=a*i,m=r*i,p=0;p!==i;++p)e[m+p]=e[f+p];++r}return r!==t.length&&(this.times=Xc.arraySlice(t,0,r),this.values=Xc.arraySlice(e,0,r*i)),this}}),Yc.prototype=Object.assign(Object.create(qc.prototype),{constructor:Yc,ValueTypeName:"vector"}),Object.assign(Zc,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(qc.parse(i[r]).scale(n));return new Zc(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e},r=0,a=i.length;r!==a;++r)e.push(qc.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],c=[];s.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);var h=Xc.getKeyframeOrder(s);s=Xc.sortedArray(s,1,h),c=Xc.sortedArray(c,1,h),n||0!==s[0]||(s.push(r),c.push(c[0])),a.push(new Vc(".morphTargetInfluences["+e[o].name+"]",s,c).scale(1/i))}return new Zc(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var n=t;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(r);if(c&&1<c.length){var h=n[u=c[1]];h||(n[u]=h=[]),h.push(s)}}var l=[];for(var u in n)l.push(Zc.CreateFromMorphTargetSequence(u,n[u],e,i));return l},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(t,e,i,n,r){if(0!==i.length){var a=[],o=[];Xc.flattenJSON(i,a,o,n),0!==a.length&&r.push(new t(e,a,o))}},n=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){var f=[],m=[];for(p=0;p!==h[u].morphTargets.length;++p){var g=h[u];f.push(g.time),m.push(g.morphTarget===d?1:0)}n.push(new Vc(".morphTargetInfluence["+d+"]",f,m))}a=l.length*(o||1)}else{var v=".bones["+e[c].name+"]";i(Yc,v+".position",h,"pos",n),i(Gc,v+".quaternion",h,"rot",n),i(Yc,v+".scale",h,"scl",n)}}return 0===n.length?null:new Zc(r,a,n)}}),Object.assign(Zc.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(Jc.prototype,{load:function(t,e,i,n){var r=this;new Qs(r.manager).load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var n=new Xs[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearCoat&&(n.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(n.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(n.uniforms=t.uniforms),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(n.vertexColors=t.vertexColors),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=i(t.map)),void 0!==t.alphaMap&&(n.alphaMap=i(t.alphaMap),n.transparent=!0),void 0!==t.bumpMap&&(n.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=i(t.normalMap)),void 0!==t.normalScale){var r=t.normalScale;!1===Array.isArray(r)&&(r=[r,r]),n.normalScale=(new Be).fromArray(r)}return void 0!==t.displacementMap&&(n.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=i(t.specularMap)),void 0!==t.envMap&&(n.envMap=i(t.envMap)),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.lightMap&&(n.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=i(t.gradientMap)),n}}),Object.assign(Qc.prototype,{load:function(t,e,i,n){var r=this;new Qs(r.manager).load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},parse:function(t){var e=new Ln,i=t.data.index;if(void 0!==i){var n=new ih[i.type](i.array);e.setIndex(new on(n,1))}var r=t.data.attributes;for(var a in r){var o=r[a];n=new ih[o.type](o.array);e.addAttribute(a,new on(n,o.itemSize,o.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,h=s.length;c!==h;++c){var l=s[c];e.addGroup(l.start,l.count,l.materialIndex)}var u=t.data.boundingSphere;if(void 0!==u){var p=new Ge;void 0!==u.center&&p.fromArray(u.center),e.boundingSphere=new pi(p,u.radius)}return e}});var Kc,$c,th,eh,ih={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function nh(){}nh.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i],a=e[i+1];if(r.test(t))return a}return null}},Object.assign(nh.prototype,{crossOrigin:void 0,onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:(Kc={NoBlending:X,NormalBlending:q,AdditiveBlending:Y,SubtractiveBlending:Q,MultiplyBlending:K,CustomBlending:$},$c=new xi,th=new ic,eh=new Jc,function(t,h,l){var u={};function e(t,e,i,n,r){var a,o=h+t,s=nh.Handlers.get(o);null!==s?a=s.load(o):(th.setCrossOrigin(l),a=th.load(o)),void 0!==e&&(a.repeat.fromArray(e),1!==e[0]&&(a.wrapS=_t),1!==e[1]&&(a.wrapT=_t)),void 0!==i&&a.offset.fromArray(i),void 0!==n&&("repeat"===n[0]&&(a.wrapS=_t),"mirror"===n[0]&&(a.wrapS=Mt),"repeat"===n[1]&&(a.wrapT=_t),"mirror"===n[1]&&(a.wrapT=Mt)),void 0!==r&&(a.anisotropy=r);var c=De.generateUUID();return u[c]=a,c}var i={uuid:De.generateUUID(),type:"MeshLambertMaterial"};for(var n in t){var r=t[n];switch(n){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":i.name=r;break;case"blending":i.blending=Kc[r];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",n,"is no longer supported.");break;case"colorDiffuse":i.color=$c.fromArray(r).getHex();break;case"colorSpecular":i.specular=$c.fromArray(r).getHex();break;case"colorEmissive":i.emissive=$c.fromArray(r).getHex();break;case"specularCoef":i.shininess=r;break;case"shading":"basic"===r.toLowerCase()&&(i.type="MeshBasicMaterial"),"phong"===r.toLowerCase()&&(i.type="MeshPhongMaterial"),"standard"===r.toLowerCase()&&(i.type="MeshStandardMaterial");break;case"mapDiffuse":i.map=e(r,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":i.emissiveMap=e(r,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":i.lightMap=e(r,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":i.aoMap=e(r,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":i.bumpMap=e(r,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":i.bumpScale=r;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":i.normalMap=e(r,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":i.normalScale=r;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":i.specularMap=e(r,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":i.metalnessMap=e(r,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":i.roughnessMap=e(r,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":i.alphaMap=e(r,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":i.side=Z;break;case"doubleSided":i.side=J;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),i.opacity=r;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":i[n]=r;break;case"vertexColors":!0===r&&(i.vertexColors=w),"face"===r&&(i.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",n,r)}}return"MeshBasicMaterial"===i.type&&delete i.emissive,"MeshPhongMaterial"!==i.type&&delete i.specular,i.opacity<1&&(i.transparent=!0),eh.setTextures(u),eh.parse(i)})});var rh={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,n=t.length;i<n;i++)e+=String.fromCharCode(t[i]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function ah(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Zs,this.withCredentials=!1}function oh(t){this.manager=void 0!==t?t:Zs,this.texturePath=""}Object.assign(ah.prototype,{load:function(a,o,t,e){var s=this,c=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:rh.extractUrlBase(a),i=new Qs(this.manager);i.setWithCredentials(this.withCredentials),i.load(a,function(t){var e=JSON.parse(t),i=e.metadata;if(void 0!==i){var n=i.type;if(void 0!==n&&"object"===n.toLowerCase())return void console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.")}var r=s.parse(e,c);o(r.geometry,r.materials)},t,e)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){void 0!==t.data&&(t=t.data),void 0!==t.scale?t.scale=1/t.scale:t.scale=1;var i=new an;return function(t,e){function i(t,e){return t&1<<e}var n,r,a,o,s,c,h,l,u,p,d,f,m,g,v,y,x,b,_,w,M,E,T,S,A,R=t.faces,L=t.vertices,P=t.normals,C=t.colors,O=t.scale,I=0;if(void 0!==t.uvs){for(n=0;n<t.uvs.length;n++)t.uvs[n].length&&I++;for(n=0;n<I;n++)e.faceVertexUvs[n]=[]}for(o=0,s=L.length;o<s;)(b=new Ge).x=L[o++]*O,b.y=L[o++]*O,b.z=L[o++]*O,e.vertices.push(b);for(o=0,s=R.length;o<s;)if(d=i(p=R[o++],0),f=i(p,1),m=i(p,3),g=i(p,4),v=i(p,5),y=i(p,6),x=i(p,7),d){if((w=new Zi).a=R[o],w.b=R[o+1],w.c=R[o+3],(M=new Zi).a=R[o+1],M.b=R[o+2],M.c=R[o+3],o+=4,f&&(u=R[o++],w.materialIndex=u,M.materialIndex=u),a=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][a]=[],e.faceVertexUvs[n][a+1]=[],r=0;r<4;r++)A=new Be(S[2*(l=R[o++])],S[2*l+1]),2!==r&&e.faceVertexUvs[n][a].push(A),0!==r&&e.faceVertexUvs[n][a+1].push(A);if(g&&(h=3*R[o++],w.normal.set(P[h++],P[h++],P[h]),M.normal.copy(w.normal)),v)for(n=0;n<4;n++)h=3*R[o++],T=new Ge(P[h++],P[h++],P[h]),2!==n&&w.vertexNormals.push(T),0!==n&&M.vertexNormals.push(T);if(y&&(E=C[c=R[o++]],w.color.setHex(E),M.color.setHex(E)),x)for(n=0;n<4;n++)E=C[c=R[o++]],2!==n&&w.vertexColors.push(new xi(E)),0!==n&&M.vertexColors.push(new xi(E));e.faces.push(w),e.faces.push(M)}else{if((_=new Zi).a=R[o++],_.b=R[o++],_.c=R[o++],f&&(u=R[o++],_.materialIndex=u),a=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][a]=[],r=0;r<3;r++)A=new Be(S[2*(l=R[o++])],S[2*l+1]),e.faceVertexUvs[n][a].push(A);if(g&&(h=3*R[o++],_.normal.set(P[h++],P[h++],P[h])),v)for(n=0;n<3;n++)h=3*R[o++],T=new Ge(P[h++],P[h++],P[h]),_.vertexNormals.push(T);if(y&&(c=R[o++],_.color.setHex(C[c])),x)for(n=0;n<3;n++)c=R[o++],_.vertexColors.push(new xi(C[c]));e.faces.push(_)}}(t,i),function(t,e){var i=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,r=t.skinWeights.length;n<r;n+=i){var a=t.skinWeights[n],o=1<i?t.skinWeights[n+1]:0,s=2<i?t.skinWeights[n+2]:0,c=3<i?t.skinWeights[n+3]:0;e.skinWeights.push(new si(a,o,s,c))}if(t.skinIndices)for(n=0,r=t.skinIndices.length;n<r;n+=i){var h=t.skinIndices[n],l=1<i?t.skinIndices[n+1]:0,u=2<i?t.skinIndices[n+2]:0,p=3<i?t.skinIndices[n+3]:0;e.skinIndices.push(new si(h,l,u,p))}e.bones=t.bones,e.bones&&0<e.bones.length&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}(t,i),function(t,e){var i=t.scale;if(void 0!==t.morphTargets)for(var n=0,r=t.morphTargets.length;n<r;n++){e.morphTargets[n]={},e.morphTargets[n].name=t.morphTargets[n].name,e.morphTargets[n].vertices=[];for(var a=e.morphTargets[n].vertices,o=t.morphTargets[n].vertices,s=0,c=o.length;s<c;s+=3){var h=new Ge;h.x=o[s]*i,h.y=o[s+1]*i,h.z=o[s+2]*i,a.push(h)}}if(void 0!==t.morphColors&&0<t.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var l=e.faces,u=t.morphColors[0].colors;for(n=0,r=l.length;n<r;n++)l[n].color.fromArray(u,3*n)}}(t,i),function(t,e){var i=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var r=0;r<n.length;r++){var a=Zc.parseAnimation(n[r],e.bones);a&&i.push(a)}if(e.morphTargets){var o=Zc.CreateClipsFromMorphTargetSequences(e.morphTargets,10);i=i.concat(o)}0<i.length&&(e.animations=i)}(t,i),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:i}:{geometry:i,materials:nh.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}),Object.assign(oh.prototype,{load:function(n,r,t,a){""===this.texturePath&&(this.texturePath=n.substring(0,n.lastIndexOf("/")+1));var o=this;new Qs(o.manager).load(n,function(t){var e=null;try{e=JSON.parse(t)}catch(t){return void 0!==a&&a(t),void console.error("THREE:ObjectLoader: Can't parse "+n+".",t.message)}var i=e.metadata;void 0!==i&&void 0!==i.type&&"geometry"!==i.type.toLowerCase()?o.parse(e,r):console.error("THREE.ObjectLoader: Can't load "+n+". Use THREE.JSONLoader instead.")},t,a)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var i=this.parseShape(t.shapes),n=this.parseGeometries(t.geometries,i),r=this.parseImages(t.images,function(){void 0!==e&&e(s)}),a=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,n,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,n=t.length;i<n;i++){var r=(new Tc).fromJSON(t[i]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var n=new ah,r=new Qc,a=0,o=t.length;a<o;a++){var s,c=t[a];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Ds[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Ds[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Ds[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Ds[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Ds[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Ds[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Ds[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Ds[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Ds[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Ds[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Ds[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Ds[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var h=[],l=0,u=c.shapes.length;l<u;l++){var p=e[c.shapes[l]];h.push(p)}s=new Ds[c.type](h,c.curveSegments);break;case"BufferGeometry":s=r.parse(c);break;case"Geometry":s=n.parse(c,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),i[c.uuid]=s}return i},parseMaterials:function(t,e){var i={};if(void 0!==t){var n=new Jc;n.setTextures(e);for(var r=0,a=t.length;r<a;r++){var o=t[r];if("MultiMaterial"===o.type){for(var s=[],c=0;c<o.materials.length;c++)s.push(n.parse(o.materials[c]));i[o.uuid]=s}else i[o.uuid]=n.parse(o)}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=Zc.parse(t[i]);e.push(n)}return e},parseImages:function(t,e){var i=this,n={};function r(t){return i.manager.itemStart(t),a.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemEnd(t),i.manager.itemError(t)})}if(void 0!==t&&0<t.length){var a=new tc(new Ys(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var c=t[o],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.texturePath+c.url;n[c.uuid]=r(h)}}return n},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var n={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=t[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=new oi(e[o.image]);s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=i(o.mapping,ch)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=i(o.wrap[0],hh),s.wrapT=i(o.wrap[1],hh)),void 0!==o.format&&(s.format=o.format),void 0!==o.minFilter&&(s.minFilter=i(o.minFilter,lh)),void 0!==o.magFilter&&(s.magFilter=i(o.magFilter,lh)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),n[o.uuid]=s}return n},parseObject:function(t,e,a){var i;function n(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function r(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];void 0===a[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),e.push(a[r])}return e}return void 0===a[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),a[t]}}switch(t.type){case"Scene":i=new co,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new xi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new so(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new oo(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new io(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new Yi(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new Nc(t.color,t.intensity);break;case"DirectionalLight":i=new Ic(t.color,t.intensity);break;case"PointLight":i=new Cc(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new Uc(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new Pc(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new Ac(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=n(t.geometry),s=r(t.material);i=o.bones&&0<o.bones.length?new mo(o,s):new ur(o,s);break;case"LOD":i=new uo;break;case"Line":i=new vo(n(t.geometry),r(t.material),t.mode);break;case"LineLoop":i=new xo(n(t.geometry),r(t.material));break;case"LineSegments":i=new yo(n(t.geometry),r(t.material));break;case"PointCloud":case"Points":i=new _o(n(t.geometry),r(t.material));break;case"Sprite":i=new lo(r(t.material));break;case"Group":i=new wo;break;default:i=new Xi}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.children)for(var c=t.children,h=0;h<c.length;h++)i.add(this.parseObject(c[h],e,a));if("LOD"===t.type)for(var l=t.levels,u=0;u<l.length;u++){var p=l[u],d=i.getObjectByProperty("uuid",p.object);void 0!==d&&i.addLevel(d,p.distance)}return i}});var sh,ch={UVMapping:300,CubeReflectionMapping:ft,CubeRefractionMapping:mt,EquirectangularReflectionMapping:gt,EquirectangularRefractionMapping:vt,SphericalReflectionMapping:yt,CubeUVReflectionMapping:xt,CubeUVRefractionMapping:bt},hh={RepeatWrapping:_t,ClampToEdgeWrapping:wt,MirroredRepeatWrapping:Mt},lh={NearestFilter:Et,NearestMipMapNearestFilter:At,NearestMipMapLinearFilter:Rt,LinearFilter:Lt,LinearMipMapNearestFilter:Pt,LinearMipMapLinearFilter:Ct};function uh(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:Zs,this.options=void 0}function ph(){this.type="ShapePath",this.color=new xi,this.subPaths=[],this.currentPath=null}function dh(t){this.type="Font",this.data=t}function fh(t,e,i,n,r,a){var o=a.glyphs[t]||a.glyphs["?"];if(o){var s,c,h,l,u,p,d,f,m=new ph;if(o.o)for(var g=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,y=g.length;v<y;){switch(g[v++]){case"m":s=g[v++]*i+n,c=g[v++]*i+r,m.moveTo(s,c);break;case"l":s=g[v++]*i+n,c=g[v++]*i+r,m.lineTo(s,c);break;case"q":h=g[v++]*i+n,l=g[v++]*i+r,u=g[v++]*i+n,p=g[v++]*i+r,m.quadraticCurveTo(u,p,h,l);break;case"b":h=g[v++]*i+n,l=g[v++]*i+r,u=g[v++]*i+n,p=g[v++]*i+r,d=g[v++]*i+n,f=g[v++]*i+r,m.bezierCurveTo(u,p,d,f,h,l)}}return{offsetX:o.ha*i,path:m}}}function mh(t){this.manager=void 0!==t?t:Zs}uh.prototype={constructor:uh,setOptions:function(t){return this.options=t,this},load:function(e,i,t,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var r=this,a=qs.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){i&&i(a),r.manager.itemEnd(e)},0),a;fetch(e).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,r.options)}).then(function(t){qs.add(e,t),i&&i(t),r.manager.itemEnd(e)}).catch(function(t){n&&n(t),r.manager.itemEnd(e),r.manager.itemError(e)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(ph.prototype,{moveTo:function(t,e){this.currentPath=new Ec,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,n){this.currentPath.quadraticCurveTo(t,e,i,n)},bezierCurveTo:function(t,e,i,n,r,a){this.currentPath.bezierCurveTo(t,e,i,n,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a=new Tc;a.curves=r.curves,e.push(a)}return e}function n(t,e){for(var i=e.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=e[r],s=e[a],c=s.x-o.x,h=s.y-o.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(o=e[a],c=-c,s=e[r],h=-h),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var l=h*(t.x-o.x)-c*(t.y-o.y);if(0===l)return!0;if(l<0)continue;n=!n}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return n}var r=ps.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,c,h=[];if(1===a.length)return s=a[0],(c=new Tc).curves=s.curves,h.push(c),h;var l=!r(a[0].getPoints());l=t?!l:l;var u,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=a.length;v<y;v++)o=r(u=(s=a[v]).getPoints()),(o=t?!o:o)?(!l&&f[g]&&g++,f[g]={s:new Tc,p:u},f[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:u[0]});if(!f[0])return i(a);if(1<f.length){for(var x=!1,b=[],_=0,w=f.length;_<w;_++)d[_]=[];for(_=0,w=f.length;_<w;_++)for(var M=m[_],E=0;E<M.length;E++){for(var T=M[E],S=!0,A=0;A<f.length;A++)n(T.p,f[A].p)&&(_!==A&&b.push({froms:_,tos:A,hole:E}),S?(S=!1,d[A].push(T)):x=!0);S&&d[_].push(T)}0<b.length&&(x||(m=d))}v=0;for(var R=f.length;v<R;v++){c=f[v].s,h.push(c);for(var L=0,P=(p=m[v]).length;L<P;L++)c.holes.push(p[L].h)}return h}}),Object.assign(dh.prototype,{isFont:!0,generateShapes:function(t,e,i){void 0===e&&(e=100),void 0===i&&(i=4);for(var n=[],r=function(t,e,i,n){for(var r=String(t).split(""),a=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,s=[],c=0,h=0,l=0;l<r.length;l++){var u=r[l];if("\n"===u)c=0,h-=o;else{var p=fh(u,i,a,c,h,n);c+=p.offsetX,s.push(p.path)}}return s}(t,e,i,this.data),a=0,o=r.length;a<o;a++)Array.prototype.push.apply(n,r[a].toShapes());return n}}),Object.assign(mh.prototype,{load:function(t,n,e,i){var r=this,a=new Qs(this.manager);a.setPath(this.path),a.load(t,function(e){var i;try{i=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(e.substring(65,e.length-2))}var t=r.parse(i);n&&n(t)},e,i)},parse:function(t){return new dh(t)},setPath:function(t){return this.path=t,this}});var gh,vh,yh,xh,bh,_h,wh,Mh,Eh,Th,Sh,Ah,Rh,Lh,Ph,Ch={getContext:function(){return void 0===sh&&(sh=new(window.AudioContext||window.webkitAudioContext)),sh},setContext:function(t){sh=t}};function Oh(t){this.manager=void 0!==t?t:Zs}function Ih(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new io,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new io,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Nh(t,e,i){Xi.call(this),this.type="CubeCamera";var r=new io(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new Ge(1,0,0)),this.add(r);var a=new io(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new Ge(-1,0,0)),this.add(a);var o=new io(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Ge(0,1,0)),this.add(o);var s=new io(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new Ge(0,-1,0)),this.add(s);var c=new io(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Ge(0,0,1)),this.add(c);var h=new io(90,1,t,e);h.up.set(0,-1,0),h.lookAt(new Ge(0,0,-1)),this.add(h);var n={format:Wt,magFilter:Lt,minFilter:Lt};this.renderTarget=new hi(i,i,n),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,r,i),i.activeCubeFace=1,t.render(e,a,i),i.activeCubeFace=2,t.render(e,o,i),i.activeCubeFace=3,t.render(e,s,i),i.activeCubeFace=4,t.render(e,c,i),i.texture.generateMipmaps=n,i.activeCubeFace=5,t.render(e,h,i),t.setRenderTarget(null)},this.clear=function(t,e,i,n){for(var r=this.renderTarget,a=0;a<6;a++)r.activeCubeFace=a,t.setRenderTarget(r),t.clear(e,i,n);t.setRenderTarget(null)}}function Uh(){Xi.call(this),this.type="AudioListener",this.context=Ch.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Dh(t){Xi.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Bh(t){Dh.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Fh(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function zh(t,e,i){this.binding=t,this.valueSize=i;var n,r=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Oh.prototype,{load:function(t,e,i,n){var r=new Qs(this.manager);r.setResponseType("arraybuffer"),r.load(t,function(t){Ch.getContext().decodeAudioData(t,function(t){e(t)})},i,n)}}),Object.assign(Ih.prototype,{update:(Eh=new Fe,Th=new Fe,function(t){if(gh!==this||vh!==t.focus||yh!==t.fov||xh!==t.aspect*this.aspect||bh!==t.near||_h!==t.far||wh!==t.zoom||Mh!==this.eyeSep){gh=this,vh=t.focus,yh=t.fov,xh=t.aspect*this.aspect,bh=t.near,_h=t.far,wh=t.zoom;var e,i,n=t.projectionMatrix.clone(),r=(Mh=this.eyeSep/2)*bh/vh,a=bh*Math.tan(De.DEG2RAD*yh*.5)/wh;Th.elements[12]=-Mh,Eh.elements[12]=Mh,e=-a*xh+r,i=a*xh+r,n.elements[0]=2*bh/(i-e),n.elements[8]=(i+e)/(i-e),this.cameraL.projectionMatrix.copy(n),e=-a*xh-r,i=a*xh-r,n.elements[0]=2*bh/(i-e),n.elements[8]=(i+e)/(i-e),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Th),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Eh)})}),(Nh.prototype=Object.create(Xi.prototype)).constructor=Nh,Uh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Uh,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01)},updateMatrixWorld:(Sh=new Ge,Ah=new ze,Rh=new Ge,Lh=new Ge,function(t){Xi.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,i=this.up;this.matrixWorld.decompose(Sh,Ah,Rh),Lh.set(0,0,-1).applyQuaternion(Ah),e.positionX?(e.positionX.setValueAtTime(Sh.x,this.context.currentTime),e.positionY.setValueAtTime(Sh.y,this.context.currentTime),e.positionZ.setValueAtTime(Sh.z,this.context.currentTime),e.forwardX.setValueAtTime(Lh.x,this.context.currentTime),e.forwardY.setValueAtTime(Lh.y,this.context.currentTime),e.forwardZ.setValueAtTime(Lh.z,this.context.currentTime),e.upX.setValueAtTime(i.x,this.context.currentTime),e.upY.setValueAtTime(i.y,this.context.currentTime),e.upZ.setValueAtTime(i.z,this.context.currentTime)):(e.setPosition(Sh.x,Sh.y,Sh.z),e.setOrientation(Lh.x,Lh.y,Lh.z,i.x,i.y,i.z))})}),Dh.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Dh,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Bh.prototype=Object.assign(Object.create(Dh.prototype),{constructor:Bh,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:(Ph=new Ge,function(t){Xi.prototype.updateMatrixWorld.call(this,t),Ph.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(Ph.x,Ph.y,Ph.z)})}),Object.assign(Fh.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),Object.assign(zh.prototype,{accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(i,n,o,1-r,e)}for(var s=e,c=e+e;s!==c;++s)if(i[s]!==i[s+e]){a.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=3*i;t.getValue(e,n);for(var r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,n,r){if(.5<=n)for(var a=0;a!==r;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,n){ze.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}}});var Gh,Hh,Vh,kh,jh,Wh,Xh,qh,Yh,Zh,Jh,Qh,Kh,$h,tl,el,il,nl,rl,al,ol,sl,cl,hl,ll,ul,pl,dl,fl,ml,gl,vl,yl,xl="\\[\\]\\.:\\/";function bl(t,e,i){var n=i||_l.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function _l(t,e,i){this.path=e,this.parsedPath=i||_l.parseTrackName(e),this.node=_l.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function wl(){this.uuid=De.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Ml(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var n=e.tracks,r=n.length,a=new Array(r),o={endingStart:Me,endingEnd:Me},s=0;s!==r;++s){var c=n[s].createInterpolant(null);(a[s]=c).settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function El(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Tl(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Sl(){Ln.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Al(t,e,i,n){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===n}function Rl(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ll(t,e,i){Rl.call(this,t,e),this.meshPerAttribute=i||1}function Pl(t,e,i){on.call(this,t,e),this.meshPerAttribute=i||1}function Cl(t,e,i,n){this.ray=new cr(t,e),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Ol(t,e){return t.distance-e.distance}function Il(t,e,i,n){if(!1!==t.visible&&(t.raycast(e,i),!0===n))for(var r=t.children,a=0,o=r.length;a<o;a++)Il(r[a],e,i,!0)}function Nl(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ul(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Dl(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function Bl(t,e){this.min=void 0!==t?t:new Be(1/0,1/0),this.max=void 0!==e?e:new Be(-1/0,-1/0)}function Fl(t){Xi.call(this),this.material=t,this.render=function(){}}function zl(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16711680,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new Ln,h=new fn(2*o*3,3);c.addAttribute("position",h),yo.call(this,c,new go({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Gl(t,e){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new Ln,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1;r<32;r++,a++){var o=r/32*Math.PI*2,s=a/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new fn(n,3));var c=new go({fog:!1});this.cone=new yo(i,c),this.add(this.cone),this.update()}function Hl(t){for(var e=function t(e){var i=[];e&&e.isBone&&i.push(e);for(var n=0;n<e.children.length;n++)i.push.apply(i,t(e.children[n]));return i}(t),i=new Ln,n=[],r=[],a=new xi(0,0,1),o=new xi(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}i.addAttribute("position",new fn(n,3)),i.addAttribute("color",new fn(r,3));var h=new go({vertexColors:w,depthTest:!1,depthWrite:!1,transparent:!0});yo.call(this,i,h),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Vl(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var n=new _s(e,4,2),r=new or({wireframe:!0,fog:!1});ur.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function kl(t,e){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var i=new go({fog:!1}),n=new Ln;n.addAttribute("position",new on(new Float32Array(15),3)),this.line=new vo(n,i),this.add(this.line),this.update()}function jl(t,e,i){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var n=new No(e);n.rotateY(.5*Math.PI),this.material=new or({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=w);var r=n.getAttribute("position"),a=new Float32Array(3*r.count);n.addAttribute("color",new on(a,3)),this.add(new ur(n,this.material)),this.update()}function Wl(t,e,i,n){t=t||10,e=e||10,i=new xi(void 0!==i?i:4473924),n=new xi(void 0!==n?n:8947848);for(var r=e/2,a=t/e,o=t/2,s=[],c=[],h=0,l=0,u=-o;h<=e;h++,u+=a){s.push(-o,0,u,o,0,u),s.push(u,0,-o,u,0,o);var p=h===r?i:n;p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3}var d=new Ln;d.addAttribute("position",new fn(s,3)),d.addAttribute("color",new fn(c,3));var f=new go({vertexColors:w});yo.call(this,d,f)}function Xl(t,e,i,n,r,a){t=t||10,e=e||16,i=i||8,n=n||64,r=new xi(void 0!==r?r:4473924),a=new xi(void 0!==a?a:8947848);var o,s,c,h,l,u,p,d=[],f=[];for(h=0;h<=e;h++)c=h/e*(2*Math.PI),o=Math.sin(c)*t,s=Math.cos(c)*t,d.push(0,0,0),d.push(o,0,s),p=1&h?r:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(h=0;h<=i;h++)for(p=1&h?r:a,u=t-t/i*h,l=0;l<n;l++)c=l/n*(2*Math.PI),o=Math.sin(c)*u,s=Math.cos(c)*u,d.push(o,0,s),f.push(p.r,p.g,p.b),c=(l+1)/n*(2*Math.PI),o=Math.sin(c)*u,s=Math.cos(c)*u,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new Ln;m.addAttribute("position",new fn(d,3)),m.addAttribute("color",new fn(f,3));var g=new go({vertexColors:w});yo.call(this,m,g)}function ql(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16776960,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Ln,h=new fn(2*o*3,3);c.addAttribute("position",h),yo.call(this,c,new go({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Yl(t,e,i){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var n=new Ln;n.addAttribute("position",new fn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new go({fog:!1});this.lightPlane=new vo(n,r),this.add(this.lightPlane),(n=new Ln).addAttribute("position",new fn([0,0,0,0,0,1],3)),this.targetLine=new vo(n,r),this.add(this.targetLine),this.update()}function Zl(t){var e=new Ln,i=new go({color:16777215,vertexColors:1}),n=[],r=[],a={},o=new xi(16755200),s=new xi(16711680),c=new xi(43775),h=new xi(16777215),l=new xi(3355443);function u(t,e,i){p(t,i),p(e,i)}function p(t,e){n.push(0,0,0),r.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(n.length/3-1)}u("n1","n2",o),u("n2","n4",o),u("n4","n3",o),u("n3","n1",o),u("f1","f2",o),u("f2","f4",o),u("f4","f3",o),u("f3","f1",o),u("n1","f1",o),u("n2","f2",o),u("n3","f3",o),u("n4","f4",o),u("p","n1",s),u("p","n2",s),u("p","n3",s),u("p","n4",s),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",h),u("p","c",l),u("cn1","cn2",l),u("cn3","cn4",l),u("cf1","cf2",l),u("cf3","cf4",l),e.addAttribute("position",new fn(n,3)),e.addAttribute("color",new fn(r,3)),yo.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Jl(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new Ln;r.setIndex(new on(i,1)),r.addAttribute("position",new on(n,3)),yo.call(this,r,new go({color:e})),this.matrixAutoUpdate=!1,this.update()}function Ql(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Ln;r.setIndex(new on(n,1)),r.addAttribute("position",new fn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),yo.call(this,r,new go({color:i})),this.geometry.computeBoundingSphere()}function Kl(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var n=void 0!==i?i:16776960,r=new Ln;r.addAttribute("position",new fn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),vo.call(this,r,new go({color:n}));var a=new Ln;a.addAttribute("position",new fn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new ur(a,new or({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}function $l(t,e,i,n,r,a){Xi.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),void 0===ml&&((ml=new Ln).addAttribute("position",new fn([0,0,0,0,1,0],3)),(gl=new Cs(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new vo(ml,new go({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ur(gl,new or({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}function tu(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new Ln;i.addAttribute("position",new fn(e,3)),i.addAttribute("color",new fn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new go({vertexColors:w});yo.call(this,i,n)}Object.assign(bl.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(_l,{Composite:bl,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new _l.Composite(t,e,i):new _l(t,e,i)},sanitizeNodeName:(Yh=new RegExp("["+xl+"]","g"),function(t){return t.replace(/\s/g,"_").replace(Yh,"")}),parseTrackName:(Gh="[^"+xl+"]",Hh="[^"+xl.replace("\\.","")+"]",Vh=/((?:WC+[\/:])*)/.source.replace("WC",Gh),kh=/(WCOD+)?/.source.replace("WCOD",Hh),jh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Gh),Wh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Gh),Xh=new RegExp("^"+Vh+kh+jh+Wh+"$"),qh=["material","materials","bones"],function(t){var e=Xh.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var r=i.nodeName.substring(n+1);-1!==qh.indexOf(r)&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=r)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,r){if(!r||""===r||"root"===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){var e=t.skeleton.getBoneByName(r);if(void 0!==e)return e}if(t.children){var a=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.name===r||i.uuid===r)return i;var n=a(i.children);if(n)return n}return null},i=a(t.children);if(i)return i}return null}}),Object.assign(_l.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=_l.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[n];if(void 0!==s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}else{var l=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+n+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(_l.prototype,{_getValue_unbound:_l.prototype.getValue,_setValue_unbound:_l.prototype.setValue}),Object.assign(wl.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,c=void 0,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=n[p];if(void 0===d){d=e++,n[p]=d,t.push(u);for(var f=0,m=s;f!==m;++f)o[f].push(new _l(u,r[f],a[f]))}else if(d<i){c=t[d];var g=--i,v=t[g];t[n[v.uuid]=d]=v,t[n[p]=g]=u;for(f=0,m=s;f!==m;++f){var y=o[f],x=y[g],b=y[d];y[d]=x,void 0===b&&(b=new _l(u,r[f],a[f])),y[g]=b}}else t[d]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,n=this._bindings,r=n.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,h=i[c];if(void 0!==h&&e<=h){var l=e++,u=t[l];t[i[u.uuid]=h]=u,t[i[c]=l]=s;for(var p=0,d=r;p!==d;++p){var f=n[p],m=f[l],g=f[h];f[h]=m,f[l]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o].uuid,h=n[c];if(void 0!==h)if(delete n[c],h<i){var l=--i,u=t[l],p=t[v=--e];t[n[u.uuid]=h]=u,t[n[p.uuid]=l]=p,t.pop();for(var d=0,f=a;d!==f;++d){var m=(y=r[d])[l],g=y[v];y[h]=m,y[l]=g,y.pop()}}else{var v;t[n[(p=t[v=--e]).uuid]=h]=p,t.pop();for(d=0,f=a;d!==f;++d){var y;(y=r[d])[h]=y[v],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);n=r.length,i[t]=n,a.push(t),o.push(e),r.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new _l(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];a[e[t[o]]=i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}}),Object.assign(Ml.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=r,s[1]=r+i,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(0<s)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(o),h[l].accumulate(n,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var i=this._clip.duration,n=this.loop,r=this._loopCount;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i<=e)e=i;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var a=2202===n;if(-1===r&&(0<=t?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i<=e||e<0){var o=Math.floor(e/i);e-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=0<t?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&r))return i-(this.time=e)}return this.time=e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=Ee,n.endingEnd=Ee):(n.endingStart=t?this.zeroSlopeAtStart?Ee:Me:Te,n.endingEnd=e?this.zeroSlopeAtEnd?Ee:Me:Te)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=i,this}}),El.prototype=Object.assign(Object.create(e.prototype),{constructor:El,_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==r;++l){var u=n[l],p=u.name,d=h[p];if(void 0!==d)a[l]=d;else{if(void 0!==(d=a[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;++(d=new zh(_l.create(i,p,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[l]=d}o[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;e[i._cacheIndex=n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;s[c._byClipCacheIndex=h]=c,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];e[t._cacheIndex=n]=t,e[r._cacheIndex=i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];e[t._cacheIndex=n]=t,e[r._cacheIndex=i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),(r[i]=t)._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=e[e.length-1],c=t._cacheIndex;e[s._cacheIndex=c]=s,e.pop(),delete o[r];t:{for(var h in o)break t;delete a[n]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];e[t._cacheIndex=n]=t,e[r._cacheIndex=i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];e[t._cacheIndex=n]=t,e[r._cacheIndex=i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&(t[(i=new jc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];e[t.__cacheIndex=n]=t,e[r.__cacheIndex=i]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"==typeof t?Zc.findByName(i,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[n];if(void 0!==c)return c;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var h=new Ml(this,r,e);return this._bindAction(h,s),this._addInactiveAction(h,a,n),h},existingAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"==typeof t?Zc.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0;for(var r=this._nActiveBindings=0;r!==e;++r)t[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o){e[o]._update(n,t,r,a)}var s=this._bindings,c=this._nActiveBindings;for(o=0;o!==c;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,e[l._cacheIndex=h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Tl.prototype.clone=function(){return new Tl(void 0===this.value.clone?this.value:this.value.clone())},Sl.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Sl,isInstancedBufferGeometry:!0,copy:function(t){return Ln.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(Al.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Al.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}}),Object.defineProperty(Rl.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Rl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Ll.prototype=Object.assign(Object.create(Rl.prototype),{constructor:Ll,isInstancedInterleavedBuffer:!0,copy:function(t){return Rl.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Pl.prototype=Object.assign(Object.create(on.prototype),{constructor:Pl,isInstancedBufferAttribute:!0,copy:function(t){return on.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Cl.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,i){var n=i||[];return Il(t,this,n,e),n.sort(Ol),n},intersectObjects:function(t,e,i){var n=i||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,a=t.length;r<a;r++)Il(t[r],this,n,e);return n.sort(Ol),n}}),Object.assign(Nl.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Ul.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(De.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Dl.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(Bl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(Jh=new Be,function(t,e){var i=Jh.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Be),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Be),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Be),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Be),e.copy(t).clamp(this.min,this.max)},distanceToPoint:(Zh=new Be,function(t){return Zh.copy(t).clamp(this.min,this.max).sub(t).length()}),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),((Fl.prototype=Object.create(Xi.prototype)).constructor=Fl).prototype.isImmediateRenderObject=!0,((zl.prototype=Object.create(yo.prototype)).constructor=zl).prototype.update=(Qh=new Ge,Kh=new Ge,$h=new He,function(){var t=["a","b","c"];this.object.updateMatrixWorld(!0),$h.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,i=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,a=n.faces,o=0,s=0,c=a.length;s<c;s++)for(var h=a[s],l=0,u=h.vertexNormals.length;l<u;l++){var p=r[h[t[l]]],d=h.vertexNormals[l];Qh.copy(p).applyMatrix4(e),Kh.copy(d).applyMatrix3($h).normalize().multiplyScalar(this.size).add(Qh),i.setXYZ(o,Qh.x,Qh.y,Qh.z),o+=1,i.setXYZ(o,Kh.x,Kh.y,Kh.z),o+=1}else if(n&&n.isBufferGeometry){var f=n.attributes.position,m=n.attributes.normal;for(l=o=0,u=f.count;l<u;l++)Qh.set(f.getX(l),f.getY(l),f.getZ(l)).applyMatrix4(e),Kh.set(m.getX(l),m.getY(l),m.getZ(l)),Kh.applyMatrix3($h).normalize().multiplyScalar(this.size).add(Qh),i.setXYZ(o,Qh.x,Qh.y,Qh.z),o+=1,i.setXYZ(o,Kh.x,Kh.y,Kh.z),o+=1}i.needsUpdate=!0}),((Gl.prototype=Object.create(Xi.prototype)).constructor=Gl).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Gl.prototype.update=(tl=new Ge,el=new Ge,function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),tl.setFromMatrixPosition(this.light.matrixWorld),el.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(el.sub(tl)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}),((Hl.prototype=Object.create(yo.prototype)).constructor=Hl).prototype.updateMatrixWorld=(il=new Ge,nl=new Fe,rl=new Fe,function(t){var e=this.bones,i=this.geometry,n=i.getAttribute("position");rl.getInverse(this.root.matrixWorld);for(var r=0,a=0;r<e.length;r++){var o=e[r];o.parent&&o.parent.isBone&&(nl.multiplyMatrices(rl,o.matrixWorld),il.setFromMatrixPosition(nl),n.setXYZ(a,il.x,il.y,il.z),nl.multiplyMatrices(rl,o.parent.matrixWorld),il.setFromMatrixPosition(nl),n.setXYZ(a+1,il.x,il.y,il.z),a+=2)}i.getAttribute("position").needsUpdate=!0,Xi.prototype.updateMatrixWorld.call(this,t)}),((Vl.prototype=Object.create(ur.prototype)).constructor=Vl).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Vl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},((kl.prototype=Object.create(Xi.prototype)).constructor=kl).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},kl.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,i=this.line.geometry.attributes.position,n=i.array;n[0]=t,n[1]=-e,n[2]=0,n[3]=t,n[4]=e,n[5]=0,n[6]=-t,n[7]=e,n[8]=0,n[9]=-t,n[10]=-e,n[11]=0,n[12]=t,n[13]=-e,n[14]=0,i.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},((jl.prototype=Object.create(Xi.prototype)).constructor=jl).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},jl.prototype.update=(al=new Ge,ol=new xi,sl=new xi,function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");ol.copy(this.light.color),sl.copy(this.light.groundColor);for(var i=0,n=e.count;i<n;i++){var r=i<n/2?ol:sl;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(al.setFromMatrixPosition(this.light.matrixWorld).negate())}),(Wl.prototype=Object.create(yo.prototype)).constructor=Wl,(Xl.prototype=Object.create(yo.prototype)).constructor=Xl,((ql.prototype=Object.create(yo.prototype)).constructor=ql).prototype.update=(cl=new Ge,hl=new Ge,ll=new He,function(){this.object.updateMatrixWorld(!0),ll.getNormalMatrix(this.object.matrixWorld);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,i=this.object.geometry,n=i.vertices,r=i.faces,a=0,o=0,s=r.length;o<s;o++){var c=r[o],h=c.normal;cl.copy(n[c.a]).add(n[c.b]).add(n[c.c]).divideScalar(3).applyMatrix4(t),hl.copy(h).applyMatrix3(ll).normalize().multiplyScalar(this.size).add(cl),e.setXYZ(a,cl.x,cl.y,cl.z),a+=1,e.setXYZ(a,hl.x,hl.y,hl.z),a+=1}e.needsUpdate=!0}),((Yl.prototype=Object.create(Xi.prototype)).constructor=Yl).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Yl.prototype.update=(ul=new Ge,pl=new Ge,dl=new Ge,function(){ul.setFromMatrixPosition(this.light.matrixWorld),pl.setFromMatrixPosition(this.light.target.matrixWorld),dl.subVectors(pl,ul),this.lightPlane.lookAt(dl),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(dl),this.targetLine.scale.z=dl.length()}),((Zl.prototype=Object.create(yo.prototype)).constructor=Zl).prototype.update=function(){var c,h,l=new Ge,u=new qi;function t(t,e,i,n){l.set(e,i,n).unproject(u);var r=h[t];if(void 0!==r)for(var a=c.getAttribute("position"),o=0,s=r.length;o<s;o++)a.setXYZ(r[o],l.x,l.y,l.z)}return function(){c=this.geometry,h=this.pointMap;u.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),c.getAttribute("position").needsUpdate=!0}}(),((Jl.prototype=Object.create(yo.prototype)).constructor=Jl).prototype.update=(fl=new ui,function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&fl.setFromObject(this.object),!fl.isEmpty()){var e=fl.min,i=fl.max,n=this.geometry.attributes.position,r=n.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),Jl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},((Ql.prototype=Object.create(yo.prototype)).constructor=Ql).prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Xi.prototype.updateMatrixWorld.call(this,t))},((Kl.prototype=Object.create(vo.prototype)).constructor=Kl).prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.lookAt(this.plane.normal),Xi.prototype.updateMatrixWorld.call(this,t)},(($l.prototype=Object.create(Xi.prototype)).constructor=$l).prototype.setDirection=(yl=new Ge,function(t){.99999<t.y?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(yl.set(t.z,0,-t.x).normalize(),vl=Math.acos(t.y),this.quaternion.setFromAxisAngle(yl,vl))}),$l.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},$l.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},(tu.prototype=Object.create(yo.prototype)).constructor=tu;var eu;function iu(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),uc.call(this,t),this.type="catmullrom",this.closed=!0}function nu(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),uc.call(this,t),this.type="catmullrom"}function ru(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),uc.call(this,t),this.type="catmullrom"}nc.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(nc.prototype),(t.prototype.constructor=t).prototype.getPoint=e,t},Object.assign(Mc.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new an,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new Ge(r.x,r.y,r.z||0))}return e}}),Object.assign(Ec.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),iu.prototype=Object.create(uc.prototype),nu.prototype=Object.create(uc.prototype),ru.prototype=Object.create(uc.prototype),Object.assign(ru.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Wl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Hl.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(nh.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),rh.extractUrlBase(t)}}),Object.assign(Bl.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ui.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),hr.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(De,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),De.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),De.ceilPowerOfTwo(t)}}),Object.assign(He.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Fe.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return void 0===eu&&(eu=new Ge),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),eu.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,i,n,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,n,i,r,a)}}),di.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},ze.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(cr.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(lr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(lr,{barycoordFromPoint:function(t,e,i,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),lr.getBarycoord(t,e,i,n,r)},normal:function(t,e,i,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),lr.getNormal(t,e,i,n)}}),Object.assign(Tc.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ms(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ss(this,t)}}),Object.assign(Be.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ge.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(si.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(an.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Xi.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Xi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(uo.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(po.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(nc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),io.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Sc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(on.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Ln.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ln.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(gs.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Tl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ar.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new xi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}}}),Object.defineProperties(Hs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(sr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(ao.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(ao.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ja.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ci.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(ro.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Dh.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Oh).load(t,function(t){e.setBuffer(t)}),this},Fh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Nh.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var au={merge:function(t,e,i){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},ou={crossOrigin:void 0,loadTexture:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new ic;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadTextureCube:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new ec;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};var su={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};t.WebGLRenderTargetCube=hi,t.WebGLRenderTarget=ci,t.WebGLRenderer=ao,t.ShaderLib=Mi,t.UniformsLib=wi,t.UniformsUtils=vi,t.ShaderChunk=gi,t.FogExp2=oo,t.Fog=so,t.Scene=co,t.Sprite=lo,t.LOD=uo,t.SkinnedMesh=mo,t.Skeleton=po,t.Bone=fo,t.Mesh=ur,t.LineSegments=yo,t.LineLoop=xo,t.Line=vo,t.Points=_o,t.Group=wo,t.VideoTexture=Mo,t.DataTexture=li,t.CompressedTexture=Eo,t.CubeTexture=Mr,t.CanvasTexture=Qa,t.DepthTexture=To,t.Texture=oi,t.CompressedTextureLoader=Ks,t.DataTextureLoader=$s,t.CubeTextureLoader=ec,t.TextureLoader=ic,t.ObjectLoader=oh,t.MaterialLoader=Jc,t.BufferGeometryLoader=Qc,t.DefaultLoadingManager=Zs,t.LoadingManager=Ys,t.JSONLoader=ah,t.ImageLoader=tc,t.ImageBitmapLoader=uh,t.FontLoader=mh,t.FileLoader=Qs,t.Loader=nh,t.LoaderUtils=rh,t.Cache=qs,t.AudioLoader=Oh,t.SpotLightShadow=Lc,t.SpotLight=Pc,t.PointLight=Cc,t.RectAreaLight=Uc,t.HemisphereLight=Ac,t.DirectionalLightShadow=Oc,t.DirectionalLight=Ic,t.AmbientLight=Nc,t.LightShadow=Rc,t.Light=Sc,t.StereoCamera=Ih,t.PerspectiveCamera=io,t.OrthographicCamera=Yi,t.CubeCamera=Nh,t.ArrayCamera=no,t.Camera=qi,t.AudioListener=Uh,t.PositionalAudio=Bh,t.AudioContext=Ch,t.AudioAnalyser=Fh,t.Audio=Dh,t.VectorKeyframeTrack=Yc,t.StringKeyframeTrack=Dc,t.QuaternionKeyframeTrack=Gc,t.NumberKeyframeTrack=Vc,t.ColorKeyframeTrack=Hc,t.BooleanKeyframeTrack=Bc,t.PropertyMixer=zh,t.PropertyBinding=_l,t.KeyframeTrack=qc,t.AnimationUtils=Xc,t.AnimationObjectGroup=wl,t.AnimationMixer=El,t.AnimationClip=Zc,t.Uniform=Tl,t.InstancedBufferGeometry=Sl,t.BufferGeometry=Ln,t.Geometry=an,t.InterleavedBufferAttribute=Al,t.InstancedInterleavedBuffer=Ll,t.InterleavedBuffer=Rl,t.InstancedBufferAttribute=Pl,t.Face3=Zi,t.Object3D=Xi,t.Raycaster=Cl,t.Layers=Si,t.EventDispatcher=e,t.Clock=Nl,t.QuaternionLinearInterpolant=zc,t.LinearInterpolant=jc,t.DiscreteInterpolant=Wc,t.CubicInterpolant=kc,t.Interpolant=Fc,t.Triangle=lr,t.Math=De,t.Spherical=Ul,t.Cylindrical=Dl,t.Plane=di,t.Frustum=fi,t.Sphere=pi,t.Ray=cr,t.Matrix4=Fe,t.Matrix3=He,t.Box3=ui,t.Box2=Bl,t.Line3=hr,t.Euler=Ti,t.Vector4=si,t.Vector3=Ge,t.Vector2=Be,t.Quaternion=ze,t.Color=xi,t.ImmediateRenderObject=Fl,t.VertexNormalsHelper=zl,t.SpotLightHelper=Gl,t.SkeletonHelper=Hl,t.PointLightHelper=Vl,t.RectAreaLightHelper=kl,t.HemisphereLightHelper=jl,t.GridHelper=Wl,t.PolarGridHelper=Xl,t.FaceNormalsHelper=ql,t.DirectionalLightHelper=Yl,t.CameraHelper=Zl,t.BoxHelper=Jl,t.Box3Helper=Ql,t.PlaneHelper=Kl,t.ArrowHelper=$l,t.AxesHelper=tu,t.Shape=Tc,t.Path=Ec,t.ShapePath=ph,t.Font=dh,t.CurvePath=Mc,t.Curve=nc,t.ShapeUtils=ps,t.WebGLUtils=eo,t.WireframeGeometry=So,t.ParametricGeometry=Ao,t.ParametricBufferGeometry=Ro,t.TetrahedronGeometry=Co,t.TetrahedronBufferGeometry=Oo,t.OctahedronGeometry=Io,t.OctahedronBufferGeometry=No,t.IcosahedronGeometry=Uo,t.IcosahedronBufferGeometry=Do,t.DodecahedronGeometry=Bo,t.DodecahedronBufferGeometry=Fo,t.PolyhedronGeometry=Lo,t.PolyhedronBufferGeometry=Po,t.TubeGeometry=zo,t.TubeBufferGeometry=Go,t.TorusKnotGeometry=Ho,t.TorusKnotBufferGeometry=Vo,t.TorusGeometry=ko,t.TorusBufferGeometry=jo,t.TextGeometry=ys,t.TextBufferGeometry=xs,t.SphereGeometry=bs,t.SphereBufferGeometry=_s,t.RingGeometry=ws,t.RingBufferGeometry=Ms,t.PlaneGeometry=On,t.PlaneBufferGeometry=In,t.LatheGeometry=Es,t.LatheBufferGeometry=Ts,t.ShapeGeometry=Ss,t.ShapeBufferGeometry=As,t.ExtrudeGeometry=ms,t.ExtrudeBufferGeometry=gs,t.EdgesGeometry=Ls,t.ConeGeometry=Os,t.ConeBufferGeometry=Is,t.CylinderGeometry=Ps,t.CylinderBufferGeometry=Cs,t.CircleGeometry=Ns,t.CircleBufferGeometry=Us,t.BoxGeometry=Pn,t.BoxBufferGeometry=Cn,t.ShadowMaterial=Bs,t.SpriteMaterial=ho,t.RawShaderMaterial=Fs,t.ShaderMaterial=sr,t.PointsMaterial=bo,t.MeshPhysicalMaterial=Gs,t.MeshStandardMaterial=zs,t.MeshPhongMaterial=Hs,t.MeshToonMaterial=Vs,t.MeshNormalMaterial=ks,t.MeshLambertMaterial=js,t.MeshDepthMaterial=Ya,t.MeshDistanceMaterial=Za,t.MeshBasicMaterial=or,t.LineDashedMaterial=Ws,t.LineBasicMaterial=go,t.Material=ar,t.Float64BufferAttribute=mn,t.Float32BufferAttribute=fn,t.Uint32BufferAttribute=dn,t.Int32BufferAttribute=pn,t.Uint16BufferAttribute=un,t.Int16BufferAttribute=ln,t.Uint8ClampedBufferAttribute=hn,t.Uint8BufferAttribute=cn,t.Int8BufferAttribute=sn,t.BufferAttribute=on,t.ArcCurve=ac,t.CatmullRomCurve3=uc,t.CubicBezierCurve=mc,t.CubicBezierCurve3=gc,t.EllipseCurve=rc,t.LineCurve=vc,t.LineCurve3=yc,t.QuadraticBezierCurve=xc,t.QuadraticBezierCurve3=bc,t.SplineCurve=_c,t.REVISION="92",t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=k,t.CullFaceBack=j,t.CullFaceFront=W,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=B,t.PCFSoftShadowMap=F,t.FrontSide=U,t.BackSide=Z,t.DoubleSide=J,t.FlatShading=1,t.SmoothShading=2,t.NoColors=Tt,t.FaceColors=1,t.VertexColors=w,t.NoBlending=X,t.NormalBlending=q,t.AdditiveBlending=Y,t.SubtractiveBlending=Q,t.MultiplyBlending=K,t.CustomBlending=$,t.AddEquation=M,t.SubtractEquation=E,t.ReverseSubtractEquation=T,t.MinEquation=S,t.MaxEquation=A,t.ZeroFactor=R,t.OneFactor=L,t.SrcColorFactor=P,t.OneMinusSrcColorFactor=C,t.SrcAlphaFactor=O,t.OneMinusSrcAlphaFactor=I,t.DstAlphaFactor=N,t.OneMinusDstAlphaFactor=D,t.DstColorFactor=z,t.OneMinusDstColorFactor=G,t.SrcAlphaSaturateFactor=H,t.NeverDepth=tt,t.AlwaysDepth=et,t.LessDepth=it,t.LessEqualDepth=nt,t.EqualDepth=rt,t.GreaterEqualDepth=at,t.GreaterDepth=ot,t.NotEqualDepth=st,t.MultiplyOperation=V,t.MixOperation=ct,t.AddOperation=ht,t.NoToneMapping=lt,t.LinearToneMapping=St,t.ReinhardToneMapping=ut,t.Uncharted2ToneMapping=pt,t.CineonToneMapping=dt,t.UVMapping=300,t.CubeReflectionMapping=ft,t.CubeRefractionMapping=mt,t.EquirectangularReflectionMapping=gt,t.EquirectangularRefractionMapping=vt,t.SphericalReflectionMapping=yt,t.CubeUVReflectionMapping=xt,t.CubeUVRefractionMapping=bt,t.RepeatWrapping=_t,t.ClampToEdgeWrapping=wt,t.MirroredRepeatWrapping=Mt,t.NearestFilter=Et,t.NearestMipMapNearestFilter=At,t.NearestMipMapLinearFilter=Rt,t.LinearFilter=Lt,t.LinearMipMapNearestFilter=Pt,t.LinearMipMapLinearFilter=Ct,t.UnsignedByteType=Ot,t.ByteType=It,t.ShortType=Nt,t.UnsignedShortType=Ut,t.IntType=Dt,t.UnsignedIntType=Bt,t.FloatType=Ft,t.HalfFloatType=zt,t.UnsignedShort4444Type=Gt,t.UnsignedShort5551Type=Ht,t.UnsignedShort565Type=Vt,t.UnsignedInt248Type=kt,t.AlphaFormat=jt,t.RGBFormat=Wt,t.RGBAFormat=Xt,t.LuminanceFormat=qt,t.LuminanceAlphaFormat=Yt,t.RGBEFormat=Zt,t.DepthFormat=Jt,t.DepthStencilFormat=Qt,t.RGB_S3TC_DXT1_Format=Kt,t.RGBA_S3TC_DXT1_Format=$t,t.RGBA_S3TC_DXT3_Format=te,t.RGBA_S3TC_DXT5_Format=ee,t.RGB_PVRTC_4BPPV1_Format=ie,t.RGB_PVRTC_2BPPV1_Format=ne,t.RGBA_PVRTC_4BPPV1_Format=re,t.RGBA_PVRTC_2BPPV1_Format=ae,t.RGB_ETC1_Format=oe,t.RGBA_ASTC_4x4_Format=se,t.RGBA_ASTC_5x4_Format=ce,t.RGBA_ASTC_5x5_Format=he,t.RGBA_ASTC_6x5_Format=le,t.RGBA_ASTC_6x6_Format=ue,t.RGBA_ASTC_8x5_Format=pe,t.RGBA_ASTC_8x6_Format=de,t.RGBA_ASTC_8x8_Format=fe,t.RGBA_ASTC_10x5_Format=me,t.RGBA_ASTC_10x6_Format=ge,t.RGBA_ASTC_10x8_Format=ve,t.RGBA_ASTC_10x10_Format=ye,t.RGBA_ASTC_12x10_Format=xe,t.RGBA_ASTC_12x12_Format=be,t.LoopOnce=2200,t.LoopRepeat=2201,t.LoopPingPong=2202,t.InterpolateDiscrete=_e,t.InterpolateLinear=we,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=Me,t.ZeroSlopeEnding=Ee,t.WrapAroundEnding=Te,t.TrianglesDrawMode=Se,t.TriangleStripDrawMode=1,t.TriangleFanDrawMode=2,t.LinearEncoding=Ae,t.sRGBEncoding=Re,t.GammaEncoding=Le,t.RGBEEncoding=Pe,t.LogLuvEncoding=3003,t.RGBM7Encoding=Ce,t.RGBM16Encoding=Oe,t.RGBDEncoding=Ie,t.BasicDepthPacking=Ne,t.RGBADepthPacking=Ue,t.CubeGeometry=Pn,t.Face4=function(t,e,i,n,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Zi(t,e,i,r,a,o)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t},t.MultiMaterial=function(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,(t.materials=t).clone=function(){return t.slice()},t},t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new _o(t,e)},t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new lo(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new _o(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new bo(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new bo(t)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new bo(t)},t.Vertex=function(t,e,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ge(t,e,i)},t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new on(t,e).setDynamic(!0)},t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new sn(t,e)},t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new cn(t,e)},t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new hn(t,e)},t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ln(t,e)},t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new un(t,e)},t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new pn(t,e)},t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new dn(t,e)},t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new fn(t,e)},t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new mn(t,e)},t.ClosedSplineCurve3=iu,t.SplineCurve3=nu,t.Spline=ru,t.AxisHelper=function(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new tu(t)},t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Jl(t,e)},t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new yo(new Ls(t.geometry),new go({color:void 0!==e?e:16777215}))},t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new yo(new So(t.geometry),new go({color:void 0!==e?e:16777215}))},t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Qs(t)},t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new $s(t)},t.GeometryUtils=au,t.ImageUtils=ou,t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},t.SceneUtils=su,t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(t,"__esModule",{value:!0})});
</script>
<script type="text/javascript">
THREE.ColladaLoader=function(){var au=null;var N=null;var ad;var aR=null;var ah={};var n={};var V={};var am={};var ay={};var X={};var aB={};var al={};var f={};var a1={};var I={};var aW;var aP;var aZ;var g;var Q;var z=true;var W=THREE.SmoothShading;var aj={centerGeometry:false,convertUpAxis:false,subdivideFaces:true,upAxis:"Y",defaultEnvMap:null};var aY=1;var aC="Y";var F=null;function h(a9,bd,bc){var bb=0;if(document.implementation&&document.implementation.createDocument){var ba=new XMLHttpRequest();ba.onreadystatechange=function(){if(ba.readyState==4){if(ba.status==0||ba.status==200){if(ba.responseXML){aR=bd;at(ba.responseXML,undefined,a9)}else{if(ba.responseText){aR=bd;var be=new DOMParser();var bf=be.parseFromString(ba.responseText,"application/xml");at(bf,undefined,a9)}else{console.error("ColladaLoader: Empty or non-existing file ("+a9+")")}}}}else{if(ba.readyState==3){if(bc){if(bb==0){bb=ba.getResponseHeader("Content-Length")}bc({total:bb,loaded:ba.responseText.length})}}}};ba.open("GET",a9,true);ba.send(null)}else{alert("Don't know how to parse XML!")}}function at(be,bc,ba){au=be;bc=bc||aR;if(ba!==undefined){var bd=ba.split("/");bd.pop();aZ=(bd.length<1?".":bd.join("/"))+"/"}E();ab();n=aG("library_images image",ak,"image");X=aG("library_materials material",c,"material");aB=aG("library_effects effect",U,"effect");ay=aG("library_geometries geometry",aI,"geometry");al=aG("library_cameras camera",aX,"camera");f=aG("library_lights light",ax,"light");am=aG("library_controllers controller",P,"controller");V=aG("library_animations animation",a0,"animation");aP=aG("library_visual_scenes visual_scene",aT,"visual_scene");g=[];Q=[];ad=ae();N=new THREE.Object3D();for(var bb=0;bb<ad.nodes.length;bb++){N.add(d(ad.nodes[bb]))}N.scale.multiplyScalar(aY);B();var a9={scene:N,morphs:g,skins:Q,animations:aW,dae:{images:n,materials:X,cameras:al,lights:f,effects:aB,geometries:ay,controllers:am,animations:V,visualScenes:aP,scene:ad,reflectionTextures:a1,reflectionRenderTargets:I}};if(bc){bc(a9)}return a9}function J(a9){W=a9}function E(){var bc=au.querySelectorAll("asset");var ba=bc[0];if(ba&&ba.childNodes){for(var a9=0;a9<ba.childNodes.length;a9++){var bd=ba.childNodes[a9];switch(bd.nodeName){case"unit":var bb=bd.getAttribute("meter");if(bb){aY=parseFloat(bb)}break;case"up_axis":aC=bd.textContent.charAt(0);break}}}}function aG(ba,be,bf){var a9=au.querySelectorAll(ba);var bh={};var bd=0;var bg=a9.length;for(var bb=0;bb<bg;bb++){var bc=a9[bb];var bi=(new be()).parse(bc);if(!bi.id||bi.id.length==0){bi.id=bf+(bd++)}bh[bi.id]=bi}return bh}function ae(){var ba=au.querySelectorAll("scene instance_visual_scene")[0];if(ba){var a9=ba.getAttribute("url").replace(/^#/,"");return aP[a9.length>0?a9:"visual_scene0"]}else{return null}}function B(){aW=[];t(N)}function t(be){var bg=ad.getChildById(be.name,true),bd=null;if(bg&&bg.keys){bd={fps:60,hierarchy:[{node:bg,keys:bg.keys,sids:bg.sids}],node:be,name:"animation_"+be.name,length:0};aW.push(bd);for(var bc=0,a9=bg.keys.length;bc<a9;bc++){bd.length=Math.max(bd.length,bg.keys[bc].time)}}else{bd={hierarchy:[{keys:[],sids:[]}]}}for(var bc=0,a9=be.children.length;bc<a9;bc++){var bf=t(be.children[bc]);for(var ba=0,bb=bf.hierarchy.length;ba<bb;ba++){bd.hierarchy.push({keys:[],sids:[]})}}return bd}function O(){var bg=1000000;var ba=-bg;var be=0;var a9;for(var bf in V){var bd=V[bf];a9=a9||bd.id;for(var bc=0;bc<bd.sampler.length;bc++){var bb=bd.sampler[bc];bb.create();bg=Math.min(bg,bb.startTime);ba=Math.max(ba,bb.endTime);be=Math.max(be,bb.input.length)}}return{start:bg,end:ba,frames:be,ID:a9}}function q(bg,bd){var bf=bd instanceof K?am[bd.url]:bd;if(!bf||!bf.morph){console.log("could not find morph controller!");return}var bc=bf.morph;for(var bb=0;bb<bc.targets.length;bb++){var ba=bc.targets[bb];var a9=ay[ba];if(!a9.mesh||!a9.mesh.primitives||!a9.mesh.primitives.length){continue}var be=a9.mesh.primitives[0].geometry;if(be.vertices.length===bg.vertices.length){bg.morphTargets.push({name:"target_1",vertices:be.vertices})}}bg.morphTargets.push({name:"target_Z",vertices:bg.vertices})}function aU(bg,a9,be){var ba=am[a9.url];if(!ba||!ba.skin){console.log("could not find skin controller!");return}if(!a9.skeleton||!a9.skeleton.length){console.log("could not find the skeleton for the skin!");return}var bh=ba.skin;var bc=ad.getChildById(a9.skeleton[0]);var bf=[];be=be!==undefined?be:true;var bb=[];bg.skinWeights=[];bg.skinIndices=[];if(be){for(var bd=0;bd<bg.vertices.length;bd++){bg.vertices[bd].applyMatrix4(bh.bindShapeMatrix)}}}function H(be,ba,bf,bc){be.world=be.world||new THREE.Matrix4();be.localworld=be.localworld||new THREE.Matrix4();be.world.copy(be.matrix);be.localworld.copy(be.matrix);if(be.channels&&be.channels.length){var bd=be.channels[0];var a9=bd.sampler.output[bf];if(a9 instanceof THREE.Matrix4){be.world.copy(a9);be.localworld.copy(a9);if(bf==0){be.matrix.copy(a9)}}}if(bc){be.world.multiplyMatrices(bc,be.world)}ba.push(be);for(var bb=0;bb<be.nodes.length;bb++){H(be.nodes[bb],ba,bf,be.world)}}function Z(a9,bg){for(var bc=0;bc<a9.length;bc++){var bf=a9[bc];var bh=-1;if(bf.type!="JOINT"){continue}for(var bb=0;bb<bg.joints.length;bb++){if(bf.sid==bg.joints[bb]){bh=bb;break}}if(bh>=0){var bd=bg.invBindMatrices[bh];bf.invBindMatrix=bd;bf.skinningMatrix=new THREE.Matrix4();bf.skinningMatrix.multiplyMatrices(bf.world,bd);bf.animatrix=new THREE.Matrix4();bf.animatrix.copy(bf.localworld);bf.weights=[];for(var bb=0;bb<bg.weights.length;bb++){for(var ba=0;ba<bg.weights[bb].length;ba++){var be=bg.weights[bb][ba];if(be.joint==bh){bf.weights.push(be)}}}}else{console.warn("ColladaLoader: Could not find joint '"+bf.sid+"'.");bf.skinningMatrix=new THREE.Matrix4();bf.weights=[]}}}function m(bb){var ba=[];var a9=function(bh,bd,bg){var bf={};bf.name=bd.sid;bf.parent=bh;bf.matrix=bd.matrix;var be=[new THREE.Vector3(),new THREE.Quaternion(),new THREE.Vector3()];bf.matrix.decompose(be[0],be[1],be[2]);bf.pos=[be[0].x,be[0].y,be[0].z];bf.scl=[be[2].x,be[2].y,be[2].z];bf.rotq=[be[1].x,be[1].y,be[1].z,be[1].w];bg.push(bf);for(var bc in bd.nodes){a9(bd.sid,bd.nodes[bc],bg)}};a9(-1,bb,ba);return ba}function az(be,bd,bc){var a9=[];H(bd,a9,-1);Z(a9,bc.skin);v=new THREE.Vector3();var bb=[];for(var ba=0;ba<be.vertices.length;ba++){bb.push(new THREE.Vector3())}for(ba=0;ba<a9.length;ba++){if(a9[ba].type!="JOINT"){continue}for(j=0;j<a9[ba].weights.length;j++){w=a9[ba].weights[j];vidx=w.index;weight=w.weight;o=be.vertices[vidx];s=bb[vidx];v.x=o.x;v.y=o.y;v.z=o.z;v.applyMatrix4(a9[ba].skinningMatrix);s.x+=(v.x*weight);s.y+=(v.y*weight);s.z+=(v.z*weight)}}for(var ba=0;ba<be.vertices.length;ba++){be.vertices[ba]=bb[ba]}}function a2(be,bg,bm){var br=30;var bf=am[bg.url];bm=bm!==undefined?bm:40;if(!bf||!bf.skin){console.log("ColladaLoader: Could not find skin controller.");return}if(!bg.skeleton||!bg.skeleton.length){console.log("ColladaLoader: Could not find the skeleton for the skin. ");return}var bk=O();var bd=ad.getChildById(bg.skeleton[0],true)||ad.getChildBySid(bg.skeleton[0],true);var bw=m(bd);var bz=bf.skin.joints;var bq=[];for(var bt=0;bt<bz.length;bt++){for(var bs=0;bs<bw.length;bs++){if(bw[bs].name==bz[bt]){bq[bt]=bw[bs]}}}for(var bt=0;bt<bq.length;bt++){for(var bs=0;bs<bq.length;bs++){if(bq[bt].parent==bq[bs].name){bq[bt].parent=bs}}}var bt,bs,bh,bb,bl;var bj=new THREE.Vector3(),bp,bo;for(bt=0;bt<be.vertices.length;bt++){be.vertices[bt].applyMatrix4(bf.skin.bindShapeMatrix)}var bn=[];var ba=[];var bv=bf.skin.weights;for(var bt=0;bt<bv.length;bt++){var a9=new THREE.Vector4(bv[bt][0]?bv[bt][0].joint:0,bv[bt][1]?bv[bt][1].joint:0,bv[bt][2]?bv[bt][2].joint:0,bv[bt][3]?bv[bt][3].joint:0);var bl=new THREE.Vector4(bv[bt][0]?bv[bt][0].weight:0,bv[bt][1]?bv[bt][1].weight:0,bv[bt][2]?bv[bt][2].weight:0,bv[bt][3]?bv[bt][3].weight:0);bn.push(a9);ba.push(bl)}be.skinIndices=bn;be.skinWeights=ba;be.bones=bq;var bc={name:bk.ID,fps:30,length:bk.frames/30,hierarchy:[]};for(var bs=0;bs<bq.length;bs++){bc.hierarchy.push({parent:bq[bs].parent,name:bq[bs].name,keys:[]})}if(bq.length<br){az(be,bd,bf)}for(bm=0;bm<bk.frames;bm++){var bu=[];var bi=[];H(bd,bu,bm);Z(bu,bf.skin);if(bq.length<br){for(var bt=0;bt<bu.length;bt++){for(var bs=0;bs<bc.hierarchy.length;bs++){if(bc.hierarchy[bs].name==bu[bt].sid){var by={};by.time=(bm/30);by.matrix=bu[bt].animatrix;if(bm==0){bu[bt].matrix=by.matrix}var bx=[new THREE.Vector3(),new THREE.Quaternion(),new THREE.Vector3()];by.matrix.decompose(bx[0],bx[1],bx[2]);by.pos=[bx[0].x,bx[0].y,bx[0].z];by.scl=[bx[2].x,bx[2].y,bx[2].z];by.rot=bx[1];bc.hierarchy[bs].keys.push(by)}}}be.animation=bc}else{for(bt=0;bt<be.vertices.length;bt++){bi.push(new THREE.Vector3())}for(bt=0;bt<bu.length;bt++){if(bu[bt].type!="JOINT"){continue}for(bs=0;bs<bu[bt].weights.length;bs++){bh=bu[bt].weights[bs];bb=bh.index;bl=bh.weight;bp=be.vertices[bb];bo=bi[bb];bj.x=bp.x;bj.y=bp.y;bj.z=bp.z;bj.applyMatrix4(bu[bt].skinningMatrix);bo.x+=(bj.x*bl);bo.y+=(bj.y*bl);bo.z+=(bj.z*bl)}}be.morphTargets.push({name:"target_"+bm,vertices:bi})}}}function af(a9){if(a9.determinant()<0){return true}return false}function d(bw,bf){var ba=new THREE.Object3D();var bc=false;var bD;var bs;var bN,bL;for(bN=0;bN<bw.controllers.length;bN++){var bM=am[bw.controllers[bN].url];switch(bM.type){case"skin":if(ay[bM.skin.source]){var bE=new aE();bE.url=bM.skin.source;bE.instance_material=bw.controllers[bN].instance_material;bw.geometries.push(bE);bc=true;bD=bw.controllers[bN]}else{if(am[bM.skin.source]){var bu=am[bM.skin.source];bs=bu;if(bu.morph&&ay[bu.morph.source]){var bE=new aE();bE.url=bu.morph.source;bE.instance_material=bw.controllers[bN].instance_material;bw.geometries.push(bE)}}}break;case"morph":if(ay[bM.morph.source]){var bE=new aE();bE.url=bM.morph.source;bE.instance_material=bw.controllers[bN].instance_material;bw.geometries.push(bE);bs=bw.controllers[bN]}console.log("ColladaLoader: Morph-controller partially supported.");default:break}}var bI={};for(bN=0;bN<bw.geometries.length;bN++){var bB=bw.geometries[bN];var bJ=bB.instance_material;var bi=ay[bB.url];var bo={};var bA=[];var bb=0;var a9;if(bi){if(!bi.mesh||!bi.mesh.primitives){continue}if(ba.name.length==0){ba.name=bi.id}if(bJ){for(bL=0;bL<bJ.length;bL++){var bd=bJ[bL];var br=X[bd.target];var bx=br.instance_effect.url;var bO=aB[bx].shader;var by=bO.material;by.opacity=!by.opacity?1:by.opacity;bo[bd.symbol]=bb;bA.push(by);a9=by;a9.name=br.name==null||br.name===""?br.id:br.name;bb++}}var bp;var bK=a9||new THREE.MeshLambertMaterial({color:14540253,shading:THREE.FlatShading,side:bi.doubleSided?THREE.DoubleSide:THREE.FrontSide});var be=bi.mesh.geometry3js;if(bb>1){bK=new THREE.MeshFaceMaterial(bA);for(bL=0;bL<be.faces.length;bL++){var bg=be.faces[bL];bg.materialIndex=bo[bg.daeMaterial]}}if(bD!==undefined){a2(be,bD);if(be.morphTargets.length>0){bK.morphTargets=true;bK.skinning=false}else{bK.morphTargets=false;bK.skinning=true}bp=new THREE.SkinnedMesh(be,bK,false);bp.name="skin_"+Q.length;Q.push(bp)}else{if(bs!==undefined){q(be,bs);bK.morphTargets=true;bp=new THREE.Mesh(be,bK);bp.name="morph_"+g.length;g.push(bp)}else{bp=new THREE.Mesh(be,bK)}}bw.geometries.length>1?ba.add(bp):ba=bp}}objectMirrored=false;nodeMatrix=bw.matrix;if(af(bw.matrix)){objectMirrored=true;nodeMatrix=bw.matrix.clone();mirrorInverse=new THREE.Matrix4;mirrorInverse.makeScale(-1,-1,-1);nodeMatrix.multiply(mirrorInverse)}var bG=new THREE.Quaternion();var bF=new THREE.Vector3();var bz=new THREE.Vector3();nodeMatrix.decompose(bF,bG,bz);for(bN=0;bN<bw.cameras.length;bN++){var bq=bw.cameras[bN];var bh=al[bq.url];ba=new THREE.PerspectiveCamera(bh.yfov,bh.aspect_ratio,bh.znear,bh.zfar);ba.cameraTarget=bh.camera_target;var bm=ba.up;var bk=[bm.x,bm.y,bm.z];bm=ac(bk,0);bm.applyQuaternion(bG);ba.up=bm}for(bN=0;bN<bw.lights.length;bN++){var bH=bw.lights[bN];var bj=f[bH.url];if(bj&&bj.technique){var bt=bj.color.getHex();var bv=bj.intensity;var bn=0;var bl=bj.falloff_angle;var bP;switch(bj.technique){case"directional":ba=new THREE.DirectionalLight(bt,bv,bn);break;case"point":ba=new THREE.PointLight(bt,bv,bn);break;case"spot":ba=new THREE.SpotLight(bt,bv,bn,bl,bP);break;case"ambient":ba=new THREE.AmbientLight(bt);break}}}ba.name=bw.name||bw.id||"";ba.layer=bw.layer||"";ba.visible=bw.visible;ba.matrix=bw.matrix;ba.matrix.decompose(ba.position,ba.quaternion,ba.scale);ba.position=bF;ba.quaternion=bG;ba.scale=bz;if(objectMirrored){ba.scale.multiplyScalar(-1)}ba.position.multiplyScalar(aY);ba.scale.multiplyScalar(aY);if(aj.centerGeometry&&ba.geometry){var bC=THREE.GeometryUtils.center(ba.geometry);bC.multiply(ba.scale);bC.applyQuaternion(ba.quaternion);ba.position.sub(bC)}for(bN=0;bN<bw.nodes.length;bN++){ba.add(d(bw.nodes[bN],bw))}return ba}function r(ba,bb){for(var a9=0;a9<ba.joints.length;a9++){if(ba.joints[a9]==bb){return a9}}}function R(bc){var a9=au.querySelectorAll("library_nodes node");for(var bb=0;bb<a9.length;bb++){var ba=a9[bb].attributes.getNamedItem("id");if(ba&&ba.value===bc){return a9[bb]}}return undefined}function x(bb){var be=[];var ba=1000000;var bf=-1000000;for(var a9 in V){var bc=V[a9];for(var bd=0;bd<bc.channel.length;bd++){var bg=bc.channel[bd];var bh=bc.sampler[bd];var a9=bg.target.split("/")[0];if(a9==bb.id){bh.create();bg.sampler=bh;ba=Math.min(ba,bh.startTime);bf=Math.max(bf,bh.endTime);be.push(bg)}}}if(be.length){bb.startTime=ba;bb.endTime=bf}return be}function a4(be){var bc=10000000;for(var bb=0;bb<be.channels.length;bb++){var ba=be.channels[bb].sampler;for(var a9=0;a9<ba.input.length-1;a9++){var bf=ba.input[a9];var bd=ba.input[a9+1];bc=Math.min(bc,bd-bf)}}return bc}function ai(ba,bi){var bb={};var bd,bc;for(bd=0;bd<ba.channels.length;bd++){var be=ba.channels[bd];bb[be.sid]=be}var bg=new THREE.Matrix4();for(bd=0;bd<ba.transforms.length;bd++){var a9=ba.transforms[bd];var be=bb[a9.sid];if(be!==undefined){var bf=be.sampler;var bh;for(bc=0;bc<bf.input.length-1;bc++){if(bf.input[bc+1]>bi){bh=bf.output[bc];break}}if(bh!==undefined){if(bh instanceof THREE.Matrix4){bg.multiplyMatrices(bg,bh)}else{bg.multiplyMatrices(bg,a9.matrix)}}else{bg.multiplyMatrices(bg,a9.matrix)}}else{bg.multiplyMatrices(bg,a9.matrix)}}return bg}function aM(bj){if(bj.channels&&bj.channels.length){var bh=[],bn=[];for(var bl=0,be=bj.channels.length;bl<be;bl++){var bq=bj.channels[bl],a9=bq.fullSid,bi=bq.sampler,bf=bi.input,bg=bj.getTransformBySid(bq.sid),ba;if(bq.arrIndices){ba=[];for(var bk=0,bm=bq.arrIndices.length;bk<bm;bk++){ba[bk]=aH(bq.arrIndices[bk])}}else{ba=aa(bq.member)}if(bg){if(bn.indexOf(a9)===-1){bn.push(a9)}for(var bk=0,bm=bf.length;bk<bm;bk++){var bd=bf[bk],bo=bi.getData(bg.type,bk),bp=aw(bh,bd);if(!bp){bp=new an(bd);var bc=C(bh,bd);bh.splice(bc==-1?bh.length:bc,0,bp)}bp.addTarget(a9,bg,ba,bo)}}else{console.log('Could not find transform "'+bq.sid+'" in node '+bj.id)}}for(var bl=0;bl<bn.length;bl++){var bb=bn[bl];for(var bk=0;bk<bh.length;bk++){var bp=bh[bk];if(!bp.hasTarget(bb)){A(bh,bp,bk,bb)}}}bj.keys=bh;bj.sids=bn}}function aw(bc,be){var bd=null;for(var bb=0,a9=bc.length;bb<a9&&bd==null;bb++){var ba=bc[bb];if(ba.time===be){bd=ba}else{if(ba.time>be){break}}}return bd}function C(bd,be){var ba=-1;for(var bc=0,a9=bd.length;bc<a9&&ba==-1;bc++){var bb=bd[bc];if(bb.time>=be){ba=bc}}return ba}function A(bj,bg,bh,be){var bk=aF(bj,be,bh?bh-1:0),bf=l(bj,be,bh+1);if(bk&&bf){var ba=(bg.time-bk.time)/(bf.time-bk.time),bi=bk.getTarget(be),bd=bf.getTarget(be).data,a9=bi.data,bc;if(bi.type==="matrix"){bc=a9}else{if(a9.length){bc=[];for(var bb=0;bb<a9.length;++bb){bc[bb]=a9[bb]+(bd[bb]-a9[bb])*ba}}else{bc=a9+(bd-a9)*ba}}bg.addTarget(be,bi.transform,bi.member,bc)}}function l(bb,bc,a9){for(;a9<bb.length;a9++){var ba=bb[a9];if(ba.hasTarget(bc)){return ba}}return null}function aF(bb,bc,a9){a9=a9>=0?a9:a9+bb.length;for(;a9>=0;a9--){var ba=bb[a9];if(ba.hasTarget(bc)){return ba}}return null}function ak(){this.id="";this.init_from=""}ak.prototype.parse=function(ba){this.id=ba.getAttribute("id");for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeName=="init_from"){this.init_from=bb.textContent}}return this};function P(){this.id="";this.name="";this.type="";this.skin=null;this.morph=null}P.prototype.parse=function(ba){this.id=ba.getAttribute("id");this.name=ba.getAttribute("name");this.type="none";for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];switch(bb.nodeName){case"skin":this.skin=(new u()).parse(bb);this.type=bb.nodeName;break;case"morph":this.morph=(new k()).parse(bb);this.type=bb.nodeName;break;default:break}}return this};function k(){this.method=null;this.source=null;this.targets=null;this.weights=null}k.prototype.parse=function(bd){var bb={};var a9=[];var bc;this.method=bd.getAttribute("method");this.source=bd.getAttribute("source").replace(/^#/,"");for(bc=0;bc<bd.childNodes.length;bc++){var bf=bd.childNodes[bc];if(bf.nodeType!=1){continue}switch(bf.nodeName){case"source":var be=(new aV()).parse(bf);bb[be.id]=be;break;case"targets":a9=this.parseInputs(bf);break;default:console.log(bf.nodeName);break}}for(bc=0;bc<a9.length;bc++){var ba=a9[bc];var be=bb[ba.source];switch(ba.semantic){case"MORPH_TARGET":this.targets=be.read();break;case"MORPH_WEIGHT":this.weights=be.read();break;default:break}}return this};k.prototype.parseInputs=function(bb){var a9=[];for(var ba=0;ba<bb.childNodes.length;ba++){var bc=bb.childNodes[ba];if(bc.nodeType!=1){continue}switch(bc.nodeName){case"input":a9.push((new a()).parse(bc));break;default:break}}return a9};function u(){this.source="";this.bindShapeMatrix=null;this.invBindMatrices=[];this.joints=[];this.weights=[]}u.prototype.parse=function(bc){var ba={};var a9,bd;this.source=bc.getAttribute("source").replace(/^#/,"");this.invBindMatrices=[];this.joints=[];this.weights=[];for(var bb=0;bb<bc.childNodes.length;bb++){var bg=bc.childNodes[bb];if(bg.nodeType!=1){continue}switch(bg.nodeName){case"bind_shape_matrix":var be=e(bg.textContent);this.bindShapeMatrix=ar(be);break;case"source":var bf=new aV().parse(bg);ba[bf.id]=bf;break;case"joints":a9=bg;break;case"vertex_weights":bd=bg;break;default:console.log(bg.nodeName);break}}this.parseJoints(a9,ba);this.parseWeights(bd,ba);return this};u.prototype.parseJoints=function(bc,ba){for(var bb=0;bb<bc.childNodes.length;bb++){var be=bc.childNodes[bb];if(be.nodeType!=1){continue}switch(be.nodeName){case"input":var a9=(new a()).parse(be);var bd=ba[a9.source];if(a9.semantic=="JOINT"){this.joints=bd.read()}else{if(a9.semantic=="INV_BIND_MATRIX"){this.invBindMatrices=bd.read()}}break;default:break}}};u.prototype.parseWeights=function(be,a9){var bn,bk,bh=[];for(var bf=0;bf<be.childNodes.length;bf++){var ba=be.childNodes[bf];if(ba.nodeType!=1){continue}switch(ba.nodeName){case"input":bh.push((new a()).parse(ba));break;case"v":bn=a3(ba.textContent);break;case"vcount":bk=a3(ba.textContent);break;default:break}}var bi=0;for(var bf=0;bf<bk.length;bf++){var bc=bk[bf];var bg=[];for(var bd=0;bd<bc;bd++){var bj={};for(var bb=0;bb<bh.length;bb++){var bl=bh[bb];var bm=bn[bi+bl.offset];switch(bl.semantic){case"JOINT":bj.joint=bm;break;case"WEIGHT":bj.weight=a9[bl.source].data[bm];break;default:break}}bg.push(bj);bi+=bh.length}for(var bd=0;bd<bg.length;bd++){bg[bd].index=bf}this.weights.push(bg)}};function aT(){this.id="";this.name="";this.nodes=[];this.scene=new THREE.Object3D()}aT.prototype.getChildById=function(bc,a9){for(var ba=0;ba<this.nodes.length;ba++){var bb=this.nodes[ba].getChildById(bc,a9);if(bb){return bb}}return null};aT.prototype.getChildBySid=function(a9,ba){for(var bb=0;bb<this.nodes.length;bb++){var bc=this.nodes[bb].getChildBySid(a9,ba);if(bc){return bc}}return null};aT.prototype.parse=function(ba){this.id=ba.getAttribute("id");this.name=ba.getAttribute("name");this.nodes=[];for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"node":this.nodes.push((new aJ()).parse(bb));break;default:break}}return this};function aJ(){this.id="";this.name="";this.sid="";this.nodes=[];this.controllers=[];this.transforms=[];this.geometries=[];this.channels=[];this.matrix=new THREE.Matrix4()}aJ.prototype.getChannelForTransform=function(bj){for(var bf=0;bf<this.channels.length;bf++){var bg=this.channels[bf];var bd=bg.target.split("/");var a9=bd.shift();var ba=bd.shift();var bh=(ba.indexOf(".")>=0);var bi=(ba.indexOf("(")>=0);var bc;var be;if(bh){bd=ba.split(".");ba=bd.shift();be=bd.shift()}else{if(bi){bc=ba.split("(");ba=bc.shift();for(var bb=0;bb<bc.length;bb++){bc[bb]=parseInt(bc[bb].replace(/\)/,""))}}}if(ba==bj){bg.info={sid:ba,dotSyntax:bh,arrSyntax:bi,arrIndices:bc};return bg}}return null};aJ.prototype.getChildById=function(bc,a9){if(this.id==bc){return this}if(a9){for(var ba=0;ba<this.nodes.length;ba++){var bb=this.nodes[ba].getChildById(bc,a9);return bb}}return null};aJ.prototype.getChildBySid=function(a9,ba){if(this.sid==a9){return this}if(ba){for(var bb=0;bb<this.nodes.length;bb++){var bc=this.nodes[bb].getChildBySid(a9,ba);if(bc){return bc}}}return null};aJ.prototype.getTransformBySid=function(a9){for(var ba=0;ba<this.transforms.length;ba++){if(this.transforms[ba].sid==a9){return this.transforms[ba]}}return null};aJ.prototype.parse=function(bg){var a9;this.id=bg.getAttribute("id");this.sid=bg.getAttribute("sid");this.name=bg.getAttribute("name");this.type=bg.getAttribute("type");this.layer=bg.getAttribute("layer");this.type=this.type=="JOINT"?this.type:"NODE";this.nodes=[];this.transforms=[];this.geometries=[];this.cameras=[];this.lights=[];this.controllers=[];this.matrix=new THREE.Matrix4();this.visible=true;for(var bh=0;bh<bg.childNodes.length;bh++){var bb=bg.childNodes[bh];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"node":this.nodes.push((new aJ()).parse(bb));break;case"instance_camera":this.cameras.push((new aD()).parse(bb));break;case"instance_controller":this.controllers.push((new K()).parse(bb));break;case"instance_geometry":this.geometries.push((new aE()).parse(bb));break;case"instance_light":this.lights.push((new aS()).parse(bb));break;case"instance_node":a9=bb.getAttribute("url").replace(/^#/,"");var bi=R(a9);if(bi){this.nodes.push((new aJ()).parse(bi))}break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new aO()).parse(bb));break;case"extra":var bd=bg.childNodes[bh];for(var bf=0;bf<bd.childNodes.length;bf++){if(bd.childNodes[bf].nodeName=="technique"){var ba=bd.childNodes[bf];for(var be=0;be<ba.childNodes.length;be++){var bc=ba.childNodes[be];switch(bc.nodeName){case"visibility":if(bc.textContent==0){this.visible=false}}}}}break;default:console.log(bb.nodeName);break}}this.channels=x(this);aM(this);this.updateMatrix();return this};aJ.prototype.updateMatrix=function(){this.matrix.identity();for(var a9=0;a9<this.transforms.length;a9++){this.transforms[a9].apply(this.matrix)}};function aO(){this.sid="";this.type="";this.data=[];this.obj=null}aO.prototype.parse=function(a9){this.sid=a9.getAttribute("sid");this.type=a9.nodeName;this.data=e(a9.textContent);this.convert();return this};aO.prototype.convert=function(){switch(this.type){case"matrix":this.obj=ar(this.data);break;case"rotate":this.angle=THREE.Math.degToRad(this.data[3]);case"translate":Y(this.data,-1);this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case"scale":Y(this.data,1);this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log("Can not convert Transform of type "+this.type);break}};aO.prototype.apply=function(){var a9=new THREE.Matrix4();return function(ba){switch(this.type){case"matrix":ba.multiply(this.obj);break;case"translate":ba.multiply(a9.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case"rotate":ba.multiply(a9.makeRotationAxis(this.obj,this.angle));break;case"scale":ba.scale(this.obj);break}}}();aO.prototype.update=function(bb,bc){var a9=["X","Y","Z","ANGLE"];switch(this.type){case"matrix":if(!bc){this.obj.copy(bb)}else{if(bc.length===1){switch(bc[0]){case 0:this.obj.n11=bb[0];this.obj.n21=bb[1];this.obj.n31=bb[2];this.obj.n41=bb[3];break;case 1:this.obj.n12=bb[0];this.obj.n22=bb[1];this.obj.n32=bb[2];this.obj.n42=bb[3];break;case 2:this.obj.n13=bb[0];this.obj.n23=bb[1];this.obj.n33=bb[2];this.obj.n43=bb[3];break;case 3:this.obj.n14=bb[0];this.obj.n24=bb[1];this.obj.n34=bb[2];this.obj.n44=bb[3];break}}else{if(bc.length===2){var ba="n"+(bc[0]+1)+(bc[1]+1);this.obj[ba]=bb}else{console.log("Incorrect addressing of matrix in transform.")}}}break;case"translate":case"scale":if(Object.prototype.toString.call(bc)==="[object Array]"){bc=a9[bc[0]]}switch(bc){case"X":this.obj.x=bb;break;case"Y":this.obj.y=bb;break;case"Z":this.obj.z=bb;break;default:this.obj.x=bb[0];this.obj.y=bb[1];this.obj.z=bb[2];break}break;case"rotate":if(Object.prototype.toString.call(bc)==="[object Array]"){bc=a9[bc[0]]}switch(bc){case"X":this.obj.x=bb;break;case"Y":this.obj.y=bb;break;case"Z":this.obj.z=bb;break;case"ANGLE":this.angle=THREE.Math.degToRad(bb);break;default:this.obj.x=bb[0];this.obj.y=bb[1];this.obj.z=bb[2];this.angle=THREE.Math.degToRad(bb[3]);break}break}};function K(){this.url="";this.skeleton=[];this.instance_material=[]}K.prototype.parse=function(bc){this.url=bc.getAttribute("url").replace(/^#/,"");this.skeleton=[];this.instance_material=[];for(var bb=0;bb<bc.childNodes.length;bb++){var be=bc.childNodes[bb];if(be.nodeType!==1){continue}switch(be.nodeName){case"skeleton":this.skeleton.push(be.textContent.replace(/^#/,""));break;case"bind_material":var bd=be.querySelectorAll("instance_material");for(var ba=0;ba<bd.length;ba++){var a9=bd[ba];this.instance_material.push((new i()).parse(a9))}break;case"extra":break;default:break}}return this};function i(){this.symbol="";this.target=""}i.prototype.parse=function(a9){this.symbol=a9.getAttribute("symbol");this.target=a9.getAttribute("target").replace(/^#/,"");return this};function aE(){this.url="";this.instance_material=[]}aE.prototype.parse=function(bc){this.url=bc.getAttribute("url").replace(/^#/,"");this.instance_material=[];for(var bb=0;bb<bc.childNodes.length;bb++){var be=bc.childNodes[bb];if(be.nodeType!=1){continue}if(be.nodeName=="bind_material"){var bd=be.querySelectorAll("instance_material");for(var ba=0;ba<bd.length;ba++){var a9=bd[ba];this.instance_material.push((new i()).parse(a9))}break}}return this};function aI(){this.id="";this.mesh=null}aI.prototype.parse=function(ba){this.id=ba.getAttribute("id");aN(this,ba);for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];switch(bb.nodeName){case"mesh":this.mesh=(new aq(this)).parse(bb);break;case"extra":break;default:break}}return this};function aq(a9){this.geometry=a9.id;this.primitives=[];this.vertices=null;this.geometry3js=null}aq.prototype.parse=function(bd){this.primitives=[];var bc,bb;for(bc=0;bc<bd.childNodes.length;bc++){var be=bd.childNodes[bc];switch(be.nodeName){case"source":a6(be);break;case"vertices":this.vertices=(new ap()).parse(be);break;case"triangles":this.primitives.push((new ag().parse(be)));break;case"polygons":this.primitives.push((new G().parse(be)));break;case"polylist":this.primitives.push((new aK().parse(be)));break;default:break}}this.geometry3js=new THREE.Geometry();var ba=ah[this.vertices.input.POSITION.source].data;for(bc=0;bc<ba.length;bc+=3){this.geometry3js.vertices.push(ac(ba,bc).clone())}for(bc=0;bc<this.primitives.length;bc++){var a9=this.primitives[bc];a9.setVertices(this.vertices);this.handlePrimitive(a9,this.geometry3js)}this.geometry3js.computeFaceNormals();if(this.geometry3js.calcNormals){this.geometry3js.computeVertexNormals();delete this.geometry3js.calcNormals}return this};aq.prototype.handlePrimitive=function(bh,bb){var bA,bz,bt=bh.p,bm=bh.inputs;var a9,bs,bc;var bl,by;var bw=0,bu=3,bp=0;var bJ=[];var bg=[];for(bA=0;bA<bm.length;bA++){a9=bm[bA];var bv=a9.offset+1;bp=(bp<bv)?bv:bp;switch(a9.semantic){case"TEXCOORD":bJ.push(a9.set);break;case"LIGHTCOORD":bg.push(a9.set);break}}for(var bj=0;bj<bt.length;++bj){var bx=bt[bj],bC=0;while(bC<bx.length){var bf=[];var bB=[];var bG=null;var br=null;var bn=[];if(bh.vcount){bu=bh.vcount.length?bh.vcount[bw++]:bh.vcount}else{bu=bx.length/bp}for(bA=0;bA<bu;bA++){for(bz=0;bz<bm.length;bz++){a9=bm[bz];bl=ah[a9.source];bs=bx[bC+(bA*bp)+a9.offset];by=bl.accessor.params.length;bc=bs*by;switch(a9.semantic){case"VERTEX":bf.push(bs);break;case"NORMAL":bB.push(ac(bl.data,bc));break;case"TEXCOORD":bG=bG||{};if(bG[a9.set]===undefined){bG[a9.set]=[]}bG[a9.set].push(new THREE.Vector2(bl.data[bc],bl.data[bc+1]));break;case"LIGHTCOORD":br=br||{};if(br[a9.set]===undefined){br[a9.set]=[]}br[a9.set].push(new THREE.Vector2(bl.data[bc],bl.data[bc+1]));break;case"COLOR":bn.push(new THREE.Color().setRGB(bl.data[bc],bl.data[bc+1],bl.data[bc+2]));break;default:break}}}if(bB.length==0){a9=this.vertices.input.NORMAL;if(a9){bl=ah[a9.source];by=bl.accessor.params.length;for(var bi=0,bk=bf.length;bi<bk;bi++){bB.push(ac(bl.data,bf[bi]*by))}}else{bb.calcNormals=true}}if(!bG){bG={};a9=this.vertices.input.TEXCOORD;if(a9){bJ.push(a9.set);bl=ah[a9.source];by=bl.accessor.params.length;for(var bi=0,bk=bf.length;bi<bk;bi++){bc=bf[bi]*by;if(bG[a9.set]===undefined){bG[a9.set]=[]}bG[a9.set].push(new THREE.Vector2(bl.data[bc],1-bl.data[bc+1]))}}}if(!br){br={};a9=this.vertices.input.LIGHTCOORD;if(a9){bg.push(a9.set);bl=ah[a9.source];by=bl.accessor.params.length;for(var bi=0,bk=bf.length;bi<bk;bi++){bc=bf[bi]*by;if(br[a9.set]===undefined){br[a9.set]=[]}br[a9.set].push(new THREE.Vector2(bl.data[bc],1-bl.data[bc+1]))}}}if(bn.length==0){a9=this.vertices.input.COLOR;if(a9){bl=ah[a9.source];by=bl.accessor.params.length;for(var bi=0,bk=bf.length;bi<bk;bi++){bc=bf[bi]*by;bn.push(new THREE.Color().setRGB(bl.data[bc],bl.data[bc+1],bl.data[bc+2]))}}}var bd=null,be=[],bq,bo;if(bu===3){be.push(new THREE.Face3(bf[0],bf[1],bf[2],bB,bn.length?bn:new THREE.Color()))}else{if(bu===4){be.push(new THREE.Face3(bf[0],bf[1],bf[3],[bB[0],bB[1],bB[3]],bn.length?[bn[0],bn[1],bn[3]]:new THREE.Color()));be.push(new THREE.Face3(bf[1],bf[2],bf[3],[bB[1],bB[2],bB[3]],bn.length?[bn[1],bn[2],bn[3]]:new THREE.Color()))}else{if(bu>4&&aj.subdivideFaces){var ba=bn.length?bn:new THREE.Color(),bF,bE,bD,bK,bI,bH;for(bz=1;bz<bu-1;){be.push(new THREE.Face3(bf[0],bf[bz],bf[bz+1],[bB[0],bB[bz++],bB[bz]],ba))}}}}if(be.length){for(var bi=0,bk=be.length;bi<bk;bi++){bd=be[bi];bd.daeMaterial=bh.material;bb.faces.push(bd);for(bz=0;bz<bJ.length;bz++){bq=bG[bJ[bz]];if(bu>4){bo=[bq[0],bq[bi+1],bq[bi+2]]}else{if(bu===4){if(bi===0){bo=[bq[0],bq[1],bq[3]]}else{bo=[bq[1].clone(),bq[2],bq[3].clone()]}}else{bo=[bq[0],bq[1],bq[2]]}}if(bb.faceVertexUvs[bz]===undefined){bb.faceVertexUvs[bz]=[]}bb.faceVertexUvs[bz].push(bo)}for(bz=1;bz<=bg.length;bz++){uv2=br[bg[bz-1]];if(bu>4){uvArr2=[uv2[0],uv2[bi+1],uv2[bi+2]]}else{if(bu===4){if(bi===0){uvArr2=[uv2[0],uv2[1],uv2[3]]}else{uvArr2=[uv2[1].clone(),uv2[2],uv2[3].clone()]}}else{uvArr2=[uv2[0],uv2[1],uv2[2]]}}if(bb.faceVertexUvs[bz]===undefined){bb.faceVertexUvs[bz]=[]}bb.faceVertexUvs[bz].push(uvArr2)}}}else{console.log("dropped face with vcount "+bu+" for geometry with id: "+bb.id)}bC+=bp*bu}}};function G(){this.material="";this.count=0;this.inputs=[];this.vcount=null;this.p=[];this.geometry=new THREE.Geometry()}G.prototype.setVertices=function(a9){for(var ba=0;ba<this.inputs.length;ba++){if(this.inputs[ba].source==a9.id){this.inputs[ba].source=a9.input.POSITION.source}}};G.prototype.parse=function(ba){this.material=ba.getAttribute("material");this.count=p(ba,"count",0);for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];switch(bb.nodeName){case"input":this.inputs.push((new a()).parse(ba.childNodes[a9]));break;case"vcount":this.vcount=a3(bb.textContent);break;case"p":this.p.push(a3(bb.textContent));break;case"ph":console.warn("polygon holes not yet supported!");break;default:break}}return this};function aK(){G.call(this);this.vcount=[]}aK.prototype=Object.create(G.prototype);function ag(){G.call(this);this.vcount=3}ag.prototype=Object.create(G.prototype);function aL(){this.source="";this.count=0;this.stride=0;this.params=[]}aL.prototype.parse=function(ba){this.params=[];this.source=ba.getAttribute("source");this.count=p(ba,"count",0);this.stride=p(ba,"stride",0);for(var a9=0;a9<ba.childNodes.length;a9++){var bc=ba.childNodes[a9];if(bc.nodeName=="param"){var bb={};bb.name=bc.getAttribute("name");bb.type=bc.getAttribute("type");this.params.push(bb)}}return this};function ap(){this.input={}}ap.prototype.parse=function(bb){this.id=bb.getAttribute("id");for(var ba=0;ba<bb.childNodes.length;ba++){if(bb.childNodes[ba].nodeName=="input"){var a9=(new a()).parse(bb.childNodes[ba]);this.input[a9.semantic]=a9}}return this};function a(){this.semantic="";this.offset=0;this.source="";this.set=0}a.prototype.parse=function(a9){this.semantic=a9.getAttribute("semantic");this.source=a9.getAttribute("source").replace(/^#/,"");this.set=p(a9,"set",-1);this.offset=p(a9,"offset",0);if(this.semantic=="TEXCOORD"&&this.set<0){this.set=0}if(this.semantic=="LIGHTCOORD"&&this.set<=0){this.set=1}return this};function aV(a9){this.id=a9;this.type=null}aV.prototype.parse=function(bb){this.id=bb.getAttribute("id");for(var ba=0;ba<bb.childNodes.length;ba++){var bc=bb.childNodes[ba];switch(bc.nodeName){case"bool_array":this.data=ao(bc.textContent);this.type=bc.nodeName;break;case"float_array":this.data=e(bc.textContent);this.type=bc.nodeName;break;case"int_array":this.data=a3(bc.textContent);this.type=bc.nodeName;break;case"IDREF_array":case"Name_array":this.data=M(bc.textContent);this.type=bc.nodeName;break;case"technique_common":for(var a9=0;a9<bc.childNodes.length;a9++){if(bc.childNodes[a9].nodeName=="accessor"){this.accessor=(new aL()).parse(bc.childNodes[a9]);break}}break;default:break}}return this};aV.prototype.read=function(){var ba=[];var bd=this.accessor.params[0];switch(bd.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(var bb=0;bb<this.data.length;bb+=16){var bc=this.data.slice(bb,bb+16);var a9=ar(bc);ba.push(a9)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+bd.type+".");break}return ba};function c(){this.id="";this.name="";this.instance_effect=null}c.prototype.parse=function(ba){this.id=ba.getAttribute("id");this.name=ba.getAttribute("name");for(var a9=0;a9<ba.childNodes.length;a9++){if(ba.childNodes[a9].nodeName=="instance_effect"){this.instance_effect=(new D()).parse(ba.childNodes[a9]);break}}return this};function av(){this.color=new THREE.Color();this.color.setRGB(Math.random(),Math.random(),Math.random());this.color.a=1;this.texture=null;this.texcoord=null;this.lightcoord=null;this.texOpts=null}av.prototype.isColor=function(){return(this.texture==null)};av.prototype.isTexture=function(){return(this.texture!=null)};av.prototype.parse=function(bb){if(bb.nodeName=="transparent"){this.opaque=bb.getAttribute("opaque")}for(var ba=0;ba<bb.childNodes.length;ba++){var bc=bb.childNodes[ba];if(bc.nodeType!=1){continue}switch(bc.nodeName){case"color":var a9=e(bc.textContent);this.color=new THREE.Color();this.color.setRGB(a9[0],a9[1],a9[2]);this.color.a=a9[3];break;case"texture":this.texture=bc.getAttribute("texture");this.texcoord=bc.getAttribute("texcoord");this.lightcoord=bc.getAttribute("lightcoord");this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1};this.parseTexture(bc);break;default:break}}return this};av.prototype.parseTexture=function(bb){if(!bb.childNodes){return this}if(bb.childNodes[1]&&bb.childNodes[1].nodeName==="extra"){bb=bb.childNodes[1];if(bb.childNodes[1]&&bb.childNodes[1].nodeName==="technique"){bb=bb.childNodes[1]}}for(var ba=0;ba<bb.childNodes.length;ba++){var bc=bb.childNodes[ba];switch(bc.nodeName){case"offsetU":case"offsetV":case"repeatU":case"repeatV":this.texOpts[bc.nodeName]=parseFloat(bc.textContent);break;case"wrapU":case"wrapV":if(bc.textContent.toUpperCase()==="TRUE"){this.texOpts[bc.nodeName]=1}else{this.texOpts[bc.nodeName]=parseInt(bc.textContent)}break;case"blend_color":var a9=e(bc.textContent);this.texOpts[bc.nodeName]=new THREE.Color(0);this.texOpts[bc.nodeName].setRGB(a9[0],a9[1],a9[2]);this.texOpts[bc.nodeName].a=a9[3];break;break;default:this.texOpts[bc.nodeName]=bc.textContent;break}}return this};function aA(ba,a9){this.type=ba;this.effect=a9;this.material=null}aA.prototype.parse=function(ba){for(var a9=0;a9<ba.childNodes.length;a9++){var bc=ba.childNodes[a9];if(bc.nodeType!=1){continue}switch(bc.nodeName){case"ambient":case"emission":case"diffuse":case"specular":case"reflective":case"transparent":this[bc.nodeName]=(new av()).parse(bc);break;case"shininess":case"reflectivity":case"index_of_refraction":case"transparency":var bb=bc.querySelectorAll("float");if(bb.length>0){this[bc.nodeName]=parseFloat(bb[0].textContent)}break;default:break}}return this};aA.prototype.create=function(){var bi={};var bm=false;if(this["transparency"]!==undefined&&this["transparent"]!==undefined){var ba=this["transparent"];var bl=(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency;if(bl<1){bm=true;bi.transparent=true;bi.opacity=bl}}for(var a9 in this){switch(a9){case"ambient":case"emission":case"diffuse":case"specular":var bk=this[a9];if(bk instanceof av){if(bk.isTexture()){var bc=bk.texture;var bj=this.effect.sampler[bc];if(bj!==undefined&&bj.source!==undefined){var bb=this.effect.surface[bj.source];var bd=n[bb.init_from];if(bd){var bh=THREE.ImageUtils.loadTexture(bd.init_from);bh.wrapS=bk.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping;bh.wrapT=bk.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping;bh.offset.x=bk.texOpts.offsetU;bh.offset.y=bk.texOpts.offsetV;bh.repeat.x=bk.texOpts.repeatU;bh.repeat.y=bk.texOpts.repeatV;bi.map=bh;if(bk.texOpts.blend_color!=undefined){bi.diffuse=bk.texOpts.blend_color.getHex()}if(a9==="emission"){bi.emissive=16777215}}}}else{if(a9==="diffuse"||!bm){if(a9==="emission"){bi.emissive=bk.color.getHex()}else{bi[a9]=bk.color.getHex()}}}}break;case"shininess":bi[a9]=this[a9];break;case"reflectivity":bi[a9]=this[a9];if(navigator.appName=="Microsoft Internet Explorer"||navigator.appName=="Netscape"&&(new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!=null)){if(bi[a9]>0){bi.envMap=aj.defaultEnvMap}}bi.combine=THREE.MixOperation;break;case"index_of_refraction":bi.refractionRatio=this[a9];if(this[a9]!==1){bi.envMap=aj.defaultEnvMap}break;case"transparency":break;case"bump":var bk=this[a9];if(bk instanceof av){if(bk.isTexture()){var bc=bk.texture;var bj=this.effect.sampler[bc].source;if(bj){var bb=this.effect.surface[bj];var bd=n[bb.init_from];if(bd){var bh=THREE.ImageUtils.loadTexture(bd.init_from);bh.wrapS=bk.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping;bh.wrapT=bk.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping;bh.offset.x=bk.texOpts.offsetU;bh.offset.y=bk.texOpts.offsetV;bh.repeat.x=bk.texOpts.repeatU;bh.repeat.y=bk.texOpts.repeatV;if(navigator.appName=="Microsoft Internet Explorer"||navigator.appName=="Netscape"&&(new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!=null)){}else{bi.bumpMap=bh}}}}}break;case"bump_scale":bi.bumpScale=this[a9]/20;break;case"reflective":var bk=this[a9];if(bk instanceof av){if(bk.isTexture()){var bc=bk.texture;var bj=this.effect.sampler[bc].source;if(bj){var bb=this.effect.surface[bj];var bd=n[bb.init_from];var be=bb.init_from;if(bd){if(!(be in a1)){var bg=THREE.ImageUtils.loadTexture(bd.init_from);var bf=new THREE.WebGLRenderTargetCube(256,256,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});bi.envMap=bf;a1[be]=bg;I[be]=bf}else{bi.envMap=I[be]}}}}}break;case"lightMap":var bk=this[a9];if(bk instanceof av){if(bk.isTexture()){var bc=bk.texture;var bj=this.effect.sampler[bc].source;if(bj){var bb=this.effect.surface[bj];var bd=n[bb.init_from];if(bd){var bh=THREE.ImageUtils.loadTexture(bd.init_from);bh.wrapS=bk.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping;bh.wrapT=bk.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping;bh.offset.x=bk.texOpts.offsetU;bh.offset.y=bk.texOpts.offsetV;bh.repeat.x=bk.texOpts.repeatU;bh.repeat.y=bk.texOpts.repeatV;if(navigator.appName=="Microsoft Internet Explorer"||navigator.appName=="Netscape"&&(new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!=null)){}else{bi.lightMap=bh}}}}}break;default:break}}bi.shading=W;bi.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide;switch(this.type){case"constant":if(bi.emissive!=undefined){bi.color=bi.emissive}this.material=new THREE.MeshBasicMaterial(bi);break;case"phong":case"blinn":if(bi.diffuse!=undefined){bi.color=bi.diffuse}this.material=new THREE.MeshPhongMaterial(bi);break;case"lambert":default:if(bi.diffuse!=undefined){bi.color=bi.diffuse}this.material=new THREE.MeshLambertMaterial(bi);break}return this.material};function b(a9){this.effect=a9;this.init_from=null;this.format=null}b.prototype.parse=function(ba){for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"init_from":this.init_from=bb.textContent;break;case"format":this.format=bb.textContent;break;default:console.log("unhandled Surface prop: "+bb.nodeName);break}}return this};function T(a9){this.effect=a9;this.source=null;this.wrap_s=null;this.wrap_t=null;this.minfilter=null;this.magfilter=null;this.mipfilter=null}T.prototype.parse=function(ba){for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"source":this.source=bb.textContent;break;case"minfilter":this.minfilter=bb.textContent;break;case"magfilter":this.magfilter=bb.textContent;break;case"mipfilter":this.mipfilter=bb.textContent;break;case"wrap_s":this.wrap_s=bb.textContent;break;case"wrap_t":this.wrap_t=bb.textContent;break;default:console.log("unhandled Sampler2D prop: "+bb.nodeName);break}}return this};function U(){this.id="";this.name="";this.shader=null;this.surface={};this.sampler={}}U.prototype.create=function(){if(this.shader==null){return null}this.shader.create()};U.prototype.parse=function(ba){this.id=ba.getAttribute("id");this.name=ba.getAttribute("name");aN(this,ba);this.shader=null;for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"profile_COMMON":this.parseProfileCOMMON(bb);break;default:break}}this.create();return this};U.prototype.parseNewparam=function(bb){var a9=bb.getAttribute("sid");for(var ba=0;ba<bb.childNodes.length;ba++){var bc=bb.childNodes[ba];if(bc.nodeType!=1){continue}switch(bc.nodeName){case"surface":this.surface[a9]=(new b(this)).parse(bc);break;case"sampler2D":this.sampler[a9]=(new T(this)).parse(bc);break;case"extra":break;default:console.log(bc.nodeName);break}}};U.prototype.parseProfileCOMMON=function(bb){var bc;for(var ba=0;ba<bb.childNodes.length;ba++){var bd=bb.childNodes[ba];if(bd.nodeType!=1){continue}switch(bd.nodeName){case"profile_COMMON":this.parseProfileCOMMON(bd);break;case"technique":this.parseTechnique(bd);break;case"newparam":this.parseNewparam(bd);break;case"image":var a9=(new ak()).parse(bd);n[a9.id]=a9;break;case"extra":this.parseExtra(bd);break;default:console.log(bd.nodeName);break}}return bc};U.prototype.parseTechnique=function(ba){for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.shader=(new aA(bb.nodeName,this)).parse(bb);break;default:break}}};U.prototype.parseExtra=function(bb){for(var ba=0;ba<bb.childNodes.length;ba++){var bd=bb.childNodes[ba];if(bd.nodeType!=1){continue}for(var a9=0;a9<bd.childNodes.length;a9++){var bc=bd.childNodes[a9];switch(bc.nodeName){case"bump":this.shader[bc.nodeName]=(new av()).parse(bc);break;case"lightMap":this.shader[bc.nodeName]=(new av()).parse(bc);break;case"bump_scale":this.shader[bc.nodeName]=parseFloat(bc.textContent);break;default:break}}}};function D(){this.url=""}D.prototype.parse=function(a9){this.url=a9.getAttribute("url").replace(/^#/,"");return this};function a0(){this.id="";this.name="";this.source={};this.sampler=[];this.channel=[]}a0.prototype.parse=function(bb){this.id=bb.getAttribute("id");this.name=bb.getAttribute("name");this.source={};for(var ba=0;ba<bb.childNodes.length;ba++){var be=bb.childNodes[ba];if(be.nodeType!=1){continue}switch(be.nodeName){case"animation":var bc=(new a0()).parse(be);for(var bd in bc.source){this.source[bd]=bc.source[bd]}for(var a9=0;a9<bc.channel.length;a9++){this.channel.push(bc.channel[a9]);this.sampler.push(bc.sampler[a9])}break;case"source":var bd=(new aV()).parse(be);this.source[bd.id]=bd;break;case"sampler":this.sampler.push((new L(this)).parse(be));break;case"channel":this.channel.push((new S(this)).parse(be));break;default:break}}return this};function S(a9){this.animation=a9;this.source="";this.target="";this.fullSid=null;this.sid=null;this.dotSyntax=null;this.arrSyntax=null;this.arrIndices=null;this.member=null}S.prototype.parse=function(bb){this.source=bb.getAttribute("source").replace(/^#/,"");this.target=bb.getAttribute("target");var bd=this.target.split("/");var bg=bd.shift();var a9=bd.shift();var bf=(a9.indexOf(".")>=0);var bc=(a9.indexOf("(")>=0);if(bf){bd=a9.split(".");this.sid=bd.shift();this.member=bd.shift()}else{if(bc){var be=a9.split("(");this.sid=be.shift();for(var ba=0;ba<be.length;ba++){be[ba]=parseInt(be[ba].replace(/\)/,""))}this.arrIndices=be}else{this.sid=a9}}this.fullSid=a9;this.dotSyntax=bf;this.arrSyntax=bc;return this};function L(a9){this.id="";this.animation=a9;this.inputs=[];this.input=null;this.output=null;this.strideOut=null;this.interpolation=null;this.startTime=null;this.endTime=null;this.duration=0}L.prototype.parse=function(ba){this.id=ba.getAttribute("id");this.inputs=[];for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"input":this.inputs.push((new a()).parse(bb));break;default:break}}return this};L.prototype.create=function(){for(var ba=0;ba<this.inputs.length;ba++){var a9=this.inputs[ba];var bb=this.animation.source[a9.source];switch(a9.semantic){case"INPUT":this.input=bb.read();break;case"OUTPUT":this.output=bb.read();this.strideOut=bb.accessor.stride;break;case"INTERPOLATION":this.interpolation=bb.read();break;case"IN_TANGENT":break;case"OUT_TANGENT":break;default:console.log(a9.semantic);break}}this.startTime=0;this.endTime=0;this.duration=0;if(this.input.length){this.startTime=100000000;this.endTime=-100000000;for(var ba=0;ba<this.input.length;ba++){this.startTime=Math.min(this.startTime,this.input[ba]);this.endTime=Math.max(this.endTime,this.input[ba])}this.duration=this.endTime-this.startTime}};L.prototype.getData=function(bb,a9){var bc;if(bb==="matrix"&&this.strideOut===16){bc=this.output[a9]}else{if(this.strideOut>1){bc=[];a9*=this.strideOut;for(var ba=0;ba<this.strideOut;++ba){bc[ba]=this.output[a9+ba]}if(this.strideOut===3){switch(bb){case"rotate":case"translate":Y(bc,-1);break;case"scale":Y(bc,1);break}}else{if(this.strideOut===4&&bb==="matrix"){Y(bc,-1)}}}else{bc=this.output[a9]}}return bc};function an(a9){this.targets=[];this.time=a9}an.prototype.addTarget=function(bc,a9,bb,ba){this.targets.push({sid:bc,member:bb,transform:a9,data:ba})};an.prototype.apply=function(a9){for(var ba=0;ba<this.targets.length;++ba){var bb=this.targets[ba];if(!a9||bb.sid===a9){bb.transform.update(bb.data,bb.member)}}};an.prototype.getTarget=function(ba){for(var a9=0;a9<this.targets.length;++a9){if(this.targets[a9].sid===ba){return this.targets[a9]}}return null};an.prototype.hasTarget=function(ba){for(var a9=0;a9<this.targets.length;++a9){if(this.targets[a9].sid===ba){return true}}return false};an.prototype.interpolate=function(bi,bb){for(var bf=0;bf<this.targets.length;++bf){var bh=this.targets[bf],a9=bi.getTarget(bh.sid),be;if(bh.transform.type!=="matrix"&&a9){var bc=(bb-this.time)/(bi.time-this.time),bg=a9.data,ba=bh.data;if(bc<0||bc>1){console.log("Key.interpolate: Warning! Scale out of bounds:"+bc);bc=bc<0?0:1}if(ba.length){be=[];for(var bd=0;bd<ba.length;++bd){be[bd]=ba[bd]+(bg[bd]-ba[bd])*bc}}else{be=ba+(bg-ba)*bc}}else{be=bh.data}bh.transform.update(be,bh.member)}};function aX(){this.id="";this.name="";this.technique=""}aX.prototype.parse=function(bc){this.id=bc.getAttribute("id");this.name=bc.getAttribute("name");for(var bb=0;bb<bc.childNodes.length;bb++){var bf=bc.childNodes[bb];if(bf.nodeType!=1){continue}switch(bf.nodeName){case"optics":this.parseOptics(bf);break;case"extra":for(var bb=0;bb<bf.childNodes.length;bb++){if(bf.childNodes[bb].nodeName=="technique"){var bd=bf.childNodes[bb];for(var ba=0;ba<bd.childNodes.length;ba++){var be=bd.childNodes[ba];switch(be.nodeName){case"camera_target":var a9=e(be.textContent);this.camera_target=ac(a9,0);break;case"camera_position":var a9=e(be.textContent);this.camera_position=ac(a9,0);break;case"camera_up":var a9=e(be.textContent);this.camera_up=ac(a9,0);break}}}}break;default:break}}return this};aX.prototype.parseOptics=function(bd){for(var bc=0;bc<bd.childNodes.length;bc++){if(bd.childNodes[bc].nodeName=="technique_common"){var bf=bd.childNodes[bc];for(var bb=0;bb<bf.childNodes.length;bb++){this.technique=bf.childNodes[bb].nodeName;if(this.technique=="perspective"){var be=bf.childNodes[bb];for(var a9=0;a9<be.childNodes.length;a9++){var bg=be.childNodes[a9];switch(bg.nodeName){case"yfov":this.yfov=bg.textContent;break;case"xfov":this.xfov=bg.textContent;break;case"znear":this.znear=bg.textContent;break;case"zfar":this.zfar=bg.textContent;break;case"aspect_ratio":this.aspect_ratio=bg.textContent;break}}}else{if(this.technique=="orthographic"){var ba=bf.childNodes[bb];for(var a9=0;a9<ba.childNodes.length;a9++){var bg=ba.childNodes[a9];switch(bg.nodeName){case"xmag":this.xmag=bg.textContent;break;case"ymag":this.ymag=bg.textContent;break;case"znear":this.znear=bg.textContent;break;case"zfar":this.zfar=bg.textContent;break;case"aspect_ratio":this.aspect_ratio=bg.textContent;break}}}}}}}return this};function aD(){this.url=""}aD.prototype.parse=function(a9){this.url=a9.getAttribute("url").replace(/^#/,"");return this};function ax(){this.id="";this.name="";this.technique=""}ax.prototype.parse=function(ba){this.id=ba.getAttribute("id");this.name=ba.getAttribute("name");for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];if(bb.nodeType!=1){continue}switch(bb.nodeName){case"technique_common":this.parseCommon(bb);break;case"extra":this.parseTechnique(bb);break;default:break}}return this};ax.prototype.parseCommon=function(bd){for(var bc=0;bc<bd.childNodes.length;bc++){switch(bd.childNodes[bc].nodeName){case"directional":case"point":case"spot":case"ambient":this.technique=bd.childNodes[bc].nodeName;var a9=bd.childNodes[bc];for(var ba=0;ba<a9.childNodes.length;ba++){var be=a9.childNodes[ba];switch(be.nodeName){case"color":var bb=e(be.textContent);this.color=new THREE.Color(0);this.color.setRGB(bb[0],bb[1],bb[2]);this.color.a=bb[3];break;case"falloff_angle":this.falloff_angle=parseFloat(be.textContent);break}}}}return this};ax.prototype.parseTechnique=function(ba){this.profile=ba.getAttribute("profile");for(var a9=0;a9<ba.childNodes.length;a9++){var bb=ba.childNodes[a9];switch(bb.nodeName){case"technique":this.intensity=parseFloat(bb.textContent);break}}return this};function aS(){this.url=""}aS.prototype.parse=function(a9){this.url=a9.getAttribute("url").replace(/^#/,"");return this};function a6(a9){var ba=a9.getAttribute("id");if(ah[ba]!=undefined){return ah[ba]}ah[ba]=(new aV(ba)).parse(a9);return ah[ba]}function a5(a9){if(a9=="dae"){return"http://www.collada.org/2005/11/COLLADASchema"}return null}function ao(bd){var ba=M(bd);var bc=[];for(var bb=0,a9=ba.length;bb<a9;bb++){bc.push((ba[bb]=="true"||ba[bb]=="1")?true:false)}return bc}function e(bd){var ba=M(bd);var bc=[];for(var bb=0,a9=ba.length;bb<a9;bb++){bc.push(parseFloat(ba[bb]))}return bc}function a3(bd){var ba=M(bd);var bc=[];for(var bb=0,a9=ba.length;bb<a9;bb++){bc.push(parseInt(ba[bb],10))}return bc}function M(a9){return(a9.length>0)?y(a9).split(/\s+/):[]}function y(a9){return a9.replace(/^\s+/,"").replace(/\s+$/,"")}function a7(bb,ba,a9){if(bb.hasAttribute(ba)){return parseFloat(bb.getAttribute(ba))}else{return a9}}function p(bb,ba,a9){if(bb.hasAttribute(ba)){return parseInt(bb.getAttribute(ba),10)}else{return a9}}function aQ(bb,ba,a9){if(bb.hasAttribute(ba)){return bb.getAttribute(ba)}else{return a9}}function a8(bb,a9){if(bb===undefined){var ba="0.";while(ba.length<a9+2){ba+="0"}return ba}a9=a9||2;var bc=bb.toString().split(".");bc[1]=bc.length>1?bc[1].substr(0,a9):"0";while(bc[1].length<a9){bc[1]+="0"}return bc.join(".")}function aN(bb,a9){bb.doubleSided=true;var ba=a9.querySelectorAll("extra double_sided")[0];if(ba){if(ba&&parseInt(ba.textContent,10)===1){bb.doubleSided=true}}}function ab(){if(!aj.convertUpAxis||aC===aj.upAxis){F=null}else{switch(aC){case"X":F=aj.upAxis==="Y"?"XtoY":"XtoZ";break;case"Y":F=aj.upAxis==="X"?"YtoX":"YtoZ";break;case"Z":F=aj.upAxis==="X"?"ZtoX":"ZtoY";break}}}function Y(bb,a9){if(!aj.convertUpAxis||aC===aj.upAxis){return}switch(F){case"XtoY":var ba=bb[0];bb[0]=a9*bb[1];bb[1]=ba;break;case"XtoZ":var ba=bb[2];bb[2]=bb[1];bb[1]=bb[0];bb[0]=ba;break;case"YtoX":var ba=bb[0];bb[0]=bb[1];bb[1]=a9*ba;break;case"YtoZ":var ba=bb[1];bb[1]=a9*bb[2];bb[2]=ba;break;case"ZtoX":var ba=bb[0];bb[0]=bb[1];bb[1]=bb[2];bb[2]=ba;break;case"ZtoY":var ba=bb[1];bb[1]=bb[2];bb[2]=a9*ba;break}}function ac(ba,bb){var a9=[ba[bb],ba[bb+1],ba[bb+2]];Y(a9,-1);return new THREE.Vector3(a9[0],a9[1],a9[2])}function ar(ba){if(aj.convertUpAxis){var a9=[ba[0],ba[4],ba[8]];Y(a9,-1);ba[0]=a9[0];ba[4]=a9[1];ba[8]=a9[2];a9=[ba[1],ba[5],ba[9]];Y(a9,-1);ba[1]=a9[0];ba[5]=a9[1];ba[9]=a9[2];a9=[ba[2],ba[6],ba[10]];Y(a9,-1);ba[2]=a9[0];ba[6]=a9[1];ba[10]=a9[2];a9=[ba[0],ba[1],ba[2]];Y(a9,-1);ba[0]=a9[0];ba[1]=a9[1];ba[2]=a9[2];a9=[ba[4],ba[5],ba[6]];Y(a9,-1);ba[4]=a9[0];ba[5]=a9[1];ba[6]=a9[2];a9=[ba[8],ba[9],ba[10]];Y(a9,-1);ba[8]=a9[0];ba[9]=a9[1];ba[10]=a9[2];a9=[ba[3],ba[7],ba[11]];Y(a9,-1);ba[3]=a9[0];ba[7]=a9[1];ba[11]=a9[2]}return new THREE.Matrix4().set(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5],ba[6],ba[7],ba[8],ba[9],ba[10],ba[11],ba[12],ba[13],ba[14],ba[15])}function aH(ba){if(ba>-1&&ba<3){var a9=["X","Y","Z"],bb={X:0,Y:1,Z:2};ba=aa(a9[ba]);ba=bb[ba]}return ba}function aa(a9){if(aj.convertUpAxis){switch(a9){case"X":switch(F){case"XtoY":case"XtoZ":case"YtoX":a9="Y";break;case"ZtoX":a9="Z";break}break;case"Y":switch(F){case"XtoY":case"YtoX":case"ZtoX":a9="X";break;case"XtoZ":case"YtoZ":case"ZtoY":a9="Z";break}break;case"Z":switch(F){case"XtoZ":a9="X";break;case"YtoZ":case"ZtoX":case"ZtoY":a9="Y";break}break}}return a9}return{load:h,parse:at,setPreferredShading:J,applySkin:a2,geometries:ay,options:aj}};
</script>
<script type="text/javascript">
THREE.TrackballControls=function(C,B){THREE.EventDispatcher.call(this);var s=this;var t={NONE:-1,ROTATE:0,ZOOM:2,PAN:1,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5};var a={ScreenLift:0,ScreenTop:0,ScreenWidth:0,ScreenHeight:0};this.object=C;this.domElement=(B!==undefined)?B:document;this.enabled=true;this.screen={left:0,top:0,width:0,height:0};this.radius=(this.screen.width+this.screen.height)/4;this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=0.3;this.noRotate=false;this.noZoom=false;this.noPan=false;this.noRoll=false;this.staticMoving=false;this.dynamicDampingFactor=0.2;this.minDistance=0;this.maxDistance=Infinity;this.keys=[65,83,68];this.navMode="Rotate";this.keepCameraAboveGround=false;this.target=new THREE.Vector3();if(this.object.hasOwnProperty("cameraTarget")){this.target=this.object.cameraTarget.clone()}var k=new THREE.Vector3();var u=t.NONE,n=t.NONE,b=new THREE.Vector3(),q=new THREE.Vector3(),j=new THREE.Vector3(),l=new THREE.Vector2(),x=new THREE.Vector2(),i=0,c=0,d=new THREE.Vector2(),w=new THREE.Vector2();this.target0=this.target.clone();this.position0=this.object.position.clone();this.up0=this.object.up.clone();var A={type:"change"};var m={type:"start"};var h={type:"end"};this.SetScreenSize=function(E,F,D,G){a.ScreenLift=E;a.ScreenTop=F;a.ScreenWidth=D;a.creenHeight=G};this.checkOnScreen=function(D,E){if(D<a.ScreenLift||D>(a.ScreenLift+a.ScreenWidth)){return false}if(E<a.ScreenTop||E>(a.ScreenTop+a.creenHeight)){return false}return true};this.handleResize=function(){if(this.domElement===document){this.screen.left=0;this.screen.top=0;this.screen.width=window.innerWidth;this.screen.height=window.innerHeight}else{this.screen=this.domElement.getBoundingClientRect();var D=this.domElement.ownerDocument.documentElement;this.screen.left+=window.pageXOffset-D.clientLeft;this.screen.top+=window.pageYOffset-D.clientTop}};this.handleEvent=function(D){if(typeof this[D.type]=="function"){this[D.type](D)}};this.getMouseOnScreen=function(F,E,D){return(D||new THREE.Vector2()).set((F-s.screen.left)/s.screen.width,(E-s.screen.top)/s.screen.height)};this.getMouseProjectionOnBall=(function(){var D=new THREE.Vector3();return function(H,G,E){var F=new THREE.Vector3((H-s.screen.width*0.5-s.screen.left)/(s.screen.width*0.5),(s.screen.height*0.5+s.screen.top-G)/(s.screen.height*0.5),0);var I=F.length();if(s.noRoll){if(I<Math.SQRT1_2){F.z=Math.sqrt(1-I*I)}else{F.z=0.5/I}}else{if(I>1){F.normalize()}else{F.z=Math.sqrt(1-I*I)}}b.copy(s.object.position).sub(s.target);E.copy(s.object.up).setLength(F.y);E.add(D.copy(s.object.up).cross(b).setLength(F.x));E.add(b.setLength(F.z));return E}}());this.applyAngle=function(E,G,D,F){if(G){quaternion=new THREE.Quaternion();G*=D;quaternion.setFromAxisAngle(E,-G);if(s.keepCameraAboveGround){cameraPosition=b.clone();cameraPosition.applyQuaternion(quaternion);zAxis=new THREE.Vector3(0,0,1);if(cameraPosition.dot(zAxis)<=0){return}}b.applyQuaternion(quaternion);s.object.up.applyQuaternion(quaternion);j.applyQuaternion(quaternion);if(F){q.copy(j)}else{quaternion.setFromAxisAngle(E,G*(s.dynamicDampingFactor-1));q.applyQuaternion(quaternion)}}};this.forceFixedAxis=function(H,F){var I=s.object.up.clone();var N=b.clone();var E=(new THREE.Vector3()).crossVectors(N,I).normalize();var K=(new THREE.Vector3()).crossVectors(N,H);var J=(new THREE.Vector3()).crossVectors(I,H);var D=(K.lengthSq()>J.lengthSq())?K:J;if(D.dot(E)<0){D.multiplyScalar(-1)}var M=(new THREE.Vector3()).crossVectors(D,E).normalize();var G=E.angleTo(D);this.applyAngle(M,G,1,true);if(!F){var L=s.object.up.clone();if(L.dot(H)<0){this.applyAngle(D,Math.PI,1,true)}}};this.rotateCamera=function(){if(q.equals(j)){return}var J=Math.acos(q.dot(j)/q.length()/j.length());var I=(new THREE.Vector3()).crossVectors(q,j).normalize(),F=s.navMode==="Spin";trackballMode=s.navMode==="Rotate";if(trackballMode){s.applyAngle(I,J,s.rotateSpeed,s.staticMoving)}else{if(F){rotateSpeed=4;staticMoving=true;fixedAxis=new THREE.Vector3(0,0,1);var E=s.object.up.clone();var G=b.clone();var H=(new THREE.Vector3()).crossVectors(G,E).normalize();s.forceFixedAxis(fixedAxis,false);projectedStart=q.clone();projectedStart.projectOnPlane(E);projectedStart.normalize();projectedEnd=j.clone();projectedEnd.projectOnPlane(E);projectedEnd.normalize();angleYaw=Math.acos(projectedStart.dot(projectedEnd));if(I.dot(E)<0){angleYaw=-angleYaw}projectedStart=q.clone();projectedStart.projectOnPlane(H);projectedStart.normalize();projectedEnd=j.clone();projectedEnd.projectOnPlane(H);projectedEnd.normalize();anglePitch=Math.acos(projectedStart.dot(projectedEnd));if(I.dot(H)<0){anglePitch=-anglePitch}var D=E.clone();D.applyAxisAngle(H,-anglePitch*rotateSpeed);if(D.dot(fixedAxis)<0){anglePitch=0}s.applyAngle(H,anglePitch,rotateSpeed,staticMoving);s.applyAngle(fixedAxis,angleYaw,rotateSpeed,staticMoving)}}};this.zoomCamera=function(){if(u===t.TOUCH_ZOOM){var D=i/c;i=c;b.multiplyScalar(D)}else{var D=1+(x.y-l.y)*s.zoomSpeed;if(D!==1&&D>0){b.multiplyScalar(D);if(s.staticMoving){l.copy(x)}else{l.y+=(x.y-l.y)*this.dynamicDampingFactor}}}};this.panCamera=(function(){var E=new THREE.Vector2(),D=new THREE.Vector3(),F=new THREE.Vector3();return function(){E.copy(w).sub(d);if(E.lengthSq()){E.multiplyScalar(b.length()*s.panSpeed);F.copy(b).cross(s.object.up).setLength(E.x);F.add(D.copy(s.object.up).setLength(E.y));s.object.position.add(F);s.target.add(F);if(s.staticMoving){d.copy(w)}else{d.add(E.subVectors(w,d).multiplyScalar(s.dynamicDampingFactor))}}}}());this.checkDistances=function(){if(!s.noZoom||!s.noPan){if(b.lengthSq()>s.maxDistance*s.maxDistance){s.object.position.addVectors(s.target,b.setLength(s.maxDistance))}if(b.lengthSq()<s.minDistance*s.minDistance){s.object.position.addVectors(s.target,b.setLength(s.minDistance))}}};this.update=function(){b.subVectors(s.object.position,s.target);if(!s.noRotate){s.rotateCamera()}if(!s.noZoom){s.zoomCamera()}if(!s.noPan){s.panCamera()}s.object.position.addVectors(s.target,b);s.checkDistances();s.object.lookAt(s.target);if(k.distanceToSquared(s.object.position)>0){s.dispatchEvent(A);k.copy(s.object.position)}};this.reset=function(){u=t.NONE;n=t.NONE;s.target.copy(s.target0);s.object.position.copy(s.position0);s.object.up.copy(s.up0);b.subVectors(s.object.position,s.target);s.object.lookAt(s.target);s.dispatchEvent(A);k.copy(s.object.position)};function g(D){if(s.enabled===false){return}window.removeEventListener("keydown",g);n=u;if(u!==t.NONE){return}else{if(D.keyCode===s.keys[t.ROTATE]&&!s.noRotate){u=t.ROTATE}else{if(D.keyCode===s.keys[t.ZOOM]&&!s.noZoom){u=t.ZOOM}else{if(D.keyCode===s.keys[t.PAN]&&!s.noPan){u=t.PAN}}}}}function e(D){if(s.enabled===false){return}u=n;window.addEventListener("keydown",g,false)}function p(D){if(s.enabled===false){return}D.preventDefault();D.stopPropagation();if(u===t.NONE){u=D.button}if(D.buttons==3&&!s.noPan){d=s.getMouseOnScreen(D.pageX,D.pageY,d);w.copy(d)}else{if(u===t.ROTATE&&!s.noRotate){q=s.getMouseProjectionOnBall(D.pageX,D.pageY,q);j.copy(q)}else{if(u===t.ZOOM&&!s.noZoom){l=s.getMouseOnScreen(D.pageX,D.pageY,l);x.copy(l)}else{if(u===t.PAN&&!s.noPan){d=s.getMouseOnScreen(D.pageX,D.pageY,d);w.copy(d)}}}}document.addEventListener("mousemove",y,false);document.addEventListener("mouseup",r,false);s.dispatchEvent(m)}function y(D){if(s.enabled===false){return}D.preventDefault();D.stopPropagation();if(D.buttons==3&&!s.noPan){w=s.getMouseOnScreen(D.pageX,D.pageY,w)}else{if(u===t.ROTATE&&!s.noRotate){j=s.getMouseProjectionOnBall(D.pageX,D.pageY,j)}else{if(u===t.ZOOM&&!s.noZoom){x=s.getMouseOnScreen(D.pageX,D.pageY,x)}else{if(u===t.PAN&&!s.noPan){w=s.getMouseOnScreen(D.pageX,D.pageY,w)}}}}}function r(D){if(s.enabled===false){return}D.preventDefault();D.stopPropagation();u=t.NONE;document.removeEventListener("mousemove",y);document.removeEventListener("mouseup",r);s.dispatchEvent(h)}function o(D){if(s.enabled===false){return}D.preventDefault();D.stopPropagation();var E=0;if(D.wheelDelta){E=D.wheelDelta/40}else{if(D.detail){E=-D.detail/3}}l.y+=E*0.01;s.dispatchEvent(m);s.dispatchEvent(h)}function v(F){if(s.enabled===false){return}switch(F.touches.length){case 1:u=t.TOUCH_ROTATE;j.copy(s.getMouseProjectionOnBall(F.touches[0].pageX,F.touches[0].pageY,q));break;case 2:u=t.TOUCH_ZOOM;var E=F.touches[0].pageX-F.touches[1].pageX;var D=F.touches[0].pageY-F.touches[1].pageY;c=i=Math.sqrt(E*E+D*D);break;case 3:u=t.TOUCH_PAN;w.copy(s.getMouseOnScreen(F.touches[0].pageX,F.touches[0].pageY,d));break;default:u=t.NONE}s.dispatchEvent(m)}function f(F){if(s.enabled===false){return}F.preventDefault();F.stopPropagation();switch(F.touches.length){case 1:j=s.getMouseProjectionOnBall(F.touches[0].pageX,F.touches[0].pageY,j);break;case 2:var E=F.touches[0].pageX-F.touches[1].pageX;var D=F.touches[0].pageY-F.touches[1].pageY;c=Math.sqrt(E*E+D*D);break;case 3:w=s.getMouseOnScreen(F.touches[0].pageX,F.touches[0].pageY,w);break;default:u=t.NONE}}function z(D){if(s.enabled===false){return}switch(D.touches.length){case 1:q.copy(s.getMouseProjectionOnBall(D.touches[0].pageX,D.touches[0].pageY,j));break;case 2:i=c=0;break;case 3:d.copy(s.getMouseOnScreen(D.touches[0].pageX,D.touches[0].pageY,w));break}u=t.NONE;s.dispatchEvent(h)}this.domElement.addEventListener("contextmenu",function(D){D.preventDefault()},false);this.domElement.addEventListener("mousedown",p,false);this.domElement.addEventListener("mousewheel",o,false);this.domElement.addEventListener("DOMMouseScroll",o,false);this.domElement.addEventListener("touchstart",v,false);this.domElement.addEventListener("touchend",z,false);this.domElement.addEventListener("touchmove",f,false);window.addEventListener("keydown",g,false);window.addEventListener("keyup",e,false);this.handleResize()};THREE.TrackballControls.prototype=Object.create(THREE.EventDispatcher.prototype);
</script>
<script type="text/javascript">
var _Group=function(){this._tweens={};this._tweensAddedDuringUpdate={}};_Group.prototype={getAll:function(){return Object.keys(this._tweens).map(function(a){return this._tweens[a]}.bind(this))},removeAll:function(){this._tweens={}},add:function(a){this._tweens[a.getId()]=a;this._tweensAddedDuringUpdate[a.getId()]=a},remove:function(a){delete this._tweens[a.getId()];delete this._tweensAddedDuringUpdate[a.getId()]},update:function(e,c){var d=Object.keys(this._tweens);if(d.length===0){return false}e=e!==undefined?e:TWEEN.now();while(d.length>0){this._tweensAddedDuringUpdate={};for(var b=0;b<d.length;b++){var a=this._tweens[d[b]];if(a&&a.update(e)===false){a._isPlaying=false;if(!c){delete this._tweens[d[b]]}}}d=Object.keys(this._tweensAddedDuringUpdate)}return true}};var TWEEN=new _Group();TWEEN.Group=_Group;TWEEN._nextId=0;TWEEN.nextId=function(){return TWEEN._nextId++};if(typeof(window)==="undefined"&&typeof(process)!=="undefined"){TWEEN.now=function(){var a=process.hrtime();return a[0]*1000+a[1]/1000000}}else{if(typeof(window)!=="undefined"&&window.performance!==undefined&&window.performance.now!==undefined){TWEEN.now=window.performance.now.bind(window.performance)}else{if(Date.now!==undefined){TWEEN.now=Date.now}else{TWEEN.now=function(){return new Date().getTime()}}}}TWEEN.Tween=function(a,b){this._object=a;this._valuesStart={};this._valuesEnd={};this._valuesStartRepeat={};this._duration=1000;this._repeat=0;this._repeatDelayTime=undefined;this._yoyo=false;this._isPlaying=false;this._reversed=false;this._delayTime=0;this._startTime=null;this._easingFunction=TWEEN.Easing.Linear.None;this._interpolationFunction=TWEEN.Interpolation.Linear;this._chainedTweens=[];this._onStartCallback=null;this._onStartCallbackFired=false;this._onUpdateCallback=null;this._onCompleteCallback=null;this._onStopCallback=null;this._group=b||TWEEN;this._id=TWEEN.nextId()};TWEEN.Tween.prototype={getId:function getId(){return this._id},isPlaying:function isPlaying(){return this._isPlaying},to:function to(a,b){this._valuesEnd=a;if(b!==undefined){this._duration=b}return this},start:function start(b){this._group.add(this);this._isPlaying=true;this._onStartCallbackFired=false;this._startTime=b!==undefined?typeof b==="string"?TWEEN.now()+parseFloat(b):b:TWEEN.now();this._startTime+=this._delayTime;for(var a in this._valuesEnd){if(this._valuesEnd[a] instanceof Array){if(this._valuesEnd[a].length===0){continue}this._valuesEnd[a]=[this._object[a]].concat(this._valuesEnd[a])}if(this._object[a]===undefined){continue}this._valuesStart[a]=this._object[a];if((this._valuesStart[a] instanceof Array)===false){this._valuesStart[a]*=1}this._valuesStartRepeat[a]=this._valuesStart[a]||0}return this},stop:function stop(){if(!this._isPlaying){return this}this._group.remove(this);this._isPlaying=false;if(this._onStopCallback!==null){this._onStopCallback(this._object)}this.stopChainedTweens();return this},end:function end(){this.update(this._startTime+this._duration);return this},stopChainedTweens:function stopChainedTweens(){for(var b=0,a=this._chainedTweens.length;b<a;b++){this._chainedTweens[b].stop()}},group:function group(a){this._group=a;return this},delay:function delay(a){this._delayTime=a;return this},repeat:function repeat(a){this._repeat=a;return this},repeatDelay:function repeatDelay(a){this._repeatDelayTime=a;return this},yoyo:function yoyo(a){this._yoyo=a;return this},easing:function easing(a){this._easingFunction=a;return this},interpolation:function interpolation(a){this._interpolationFunction=a;return this},chain:function chain(){this._chainedTweens=arguments;return this},onStart:function onStart(a){this._onStartCallback=a;return this},onUpdate:function onUpdate(a){this._onUpdateCallback=a;return this},onComplete:function onComplete(a){this._onCompleteCallback=a;return this},onStop:function onStop(a){this._onStopCallback=a;return this},update:function update(b){var h;var j;var g;if(b<this._startTime){return true}if(this._onStartCallbackFired===false){if(this._onStartCallback!==null){this._onStartCallback(this._object)}this._onStartCallbackFired=true}j=(b-this._startTime)/this._duration;j=(this._duration===0||j>1)?1:j;g=this._easingFunction(j);for(h in this._valuesEnd){if(this._valuesStart[h]===undefined){continue}var a=this._valuesStart[h]||0;var c=this._valuesEnd[h];if(c instanceof Array){this._object[h]=this._interpolationFunction(c,g)}else{if(typeof(c)==="string"){if(c.charAt(0)==="+"||c.charAt(0)==="-"){c=a+parseFloat(c)}else{c=parseFloat(c)}}if(typeof(c)==="number"){this._object[h]=a+(c-a)*g}}}if(this._onUpdateCallback!==null){this._onUpdateCallback(this._object)}if(j===1){if(this._repeat>0){if(isFinite(this._repeat)){this._repeat--}for(h in this._valuesStartRepeat){if(typeof(this._valuesEnd[h])==="string"){this._valuesStartRepeat[h]=this._valuesStartRepeat[h]+parseFloat(this._valuesEnd[h])}if(this._yoyo){var d=this._valuesStartRepeat[h];this._valuesStartRepeat[h]=this._valuesEnd[h];this._valuesEnd[h]=d}this._valuesStart[h]=this._valuesStartRepeat[h]}if(this._yoyo){this._reversed=!this._reversed}if(this._repeatDelayTime!==undefined){this._startTime=b+this._repeatDelayTime}else{this._startTime=b+this._delayTime}return true}else{if(this._onCompleteCallback!==null){this._onCompleteCallback(this._object)}for(var e=0,f=this._chainedTweens.length;e<f;e++){this._chainedTweens[e].start(this._startTime+this._duration)}return false}}return true}};TWEEN.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){if((a*=2)<1){return 0.5*a*a}return -0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return --a*a*a+1},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a}return 0.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1-(--a*a*a*a)},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a*a}return -0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return --a*a*a*a*a+1},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a*a*a}return 0.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return a===0?0:Math.pow(1024,a-1)},Out:function(a){return a===1?1:1-Math.pow(2,-10*a)},InOut:function(a){if(a===0){return 0}if(a===1){return 1}if((a*=2)<1){return 0.5*Math.pow(1024,a-1)}return 0.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1-(--a*a))},InOut:function(a){if((a*=2)<1){return -0.5*(Math.sqrt(1-a*a)-1)}return 0.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){if(a===0){return 0}if(a===1){return 1}return -Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)},Out:function(a){if(a===0){return 0}if(a===1){return 1}return Math.pow(2,-10*a)*Math.sin((a-0.1)*5*Math.PI)+1},InOut:function(a){if(a===0){return 0}if(a===1){return 1}a*=2;if(a<1){return -0.5*Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)}return 0.5*Math.pow(2,-10*(a-1))*Math.sin((a-1.1)*5*Math.PI)+1}},Back:{In:function(a){var b=1.70158;return a*a*((b+1)*a-b)},Out:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},InOut:function(a){var b=1.70158*1.525;if((a*=2)<1){return 0.5*(a*a*((b+1)*a-b))}return 0.5*((a-=2)*a*((b+1)*a+b)+2)}},Bounce:{In:function(a){return 1-TWEEN.Easing.Bounce.Out(1-a)},Out:function(a){if(a<(1/2.75)){return 7.5625*a*a}else{if(a<(2/2.75)){return 7.5625*(a-=(1.5/2.75))*a+0.75}else{if(a<(2.5/2.75)){return 7.5625*(a-=(2.25/2.75))*a+0.9375}else{return 7.5625*(a-=(2.625/2.75))*a+0.984375}}}},InOut:function(a){if(a<0.5){return TWEEN.Easing.Bounce.In(a*2)*0.5}return TWEEN.Easing.Bounce.Out(a*2-1)*0.5+0.5}}};TWEEN.Interpolation={Linear:function(c,b){var a=c.length-1;var g=a*b;var d=Math.floor(g);var e=TWEEN.Interpolation.Utils.Linear;if(b<0){return e(c[0],c[1],g)}if(b>1){return e(c[a],c[a-1],a-g)}return e(c[d],c[d+1>a?a:d+1],g-d)},Bezier:function(d,c){var a=0;var h=d.length-1;var f=Math.pow;var g=TWEEN.Interpolation.Utils.Bernstein;for(var e=0;e<=h;e++){a+=f(1-c,h-e)*f(c,e)*d[e]*g(h,e)}return a},CatmullRom:function(c,b){var a=c.length-1;var g=a*b;var d=Math.floor(g);var e=TWEEN.Interpolation.Utils.CatmullRom;if(c[0]===c[a]){if(b<0){d=Math.floor(g=a*(1+b))}return e(c[(d-1+a)%a],c[d],c[(d+1)%a],c[(d+2)%a],g-d)}else{if(b<0){return c[0]-(e(c[0],c[0],c[1],c[1],-g)-c[0])}if(b>1){return c[a]-(e(c[a],c[a],c[a-1],c[a-1],g-a)-c[a])}return e(c[d?d-1:0],c[d],c[a<d+1?a:d+1],c[a<d+2?a:d+2],g-d)}},Utils:{Linear:function(c,b,a){return(b-c)*a+c},Bernstein:function(c,a){var b=TWEEN.Interpolation.Utils.Factorial;return b(c)/b(a)/b(c-a)},Factorial:(function(){var b=[1];return function(d){var c=1;if(b[d]){return b[d]}for(var a=d;a>1;a--){c*=a}b[d]=c;return c}})(),CatmullRom:function(h,g,e,d,i){var f=(e-h)*0.5;var c=(d-g)*0.5;var b=i*i;var a=i*b;return(2*g-2*e+f+c)*a+(-3*g+3*e-2*f-c)*b+f*i+g}}};(function(a){if(typeof define==="function"&&define.amd){define([],function(){return TWEEN})}else{if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=TWEEN}else{if(a!==undefined){a.TWEEN=TWEEN}}}})(this);
</script>
<script type="text/javascript">
THREE.PointerLockControls=function(v,y){var f=this;f.domElement=y;v.rotation.set(0,0,0);v.fov=45;var b={ScreenLift:0,ScreenTop:0,ScreenWidth:0,ScreenHeight:0};var p=new THREE.Object3D();p.add(v);var x=new THREE.Object3D();x.position.y=0;x.add(p);var c=false;var u=false;var e=false;var m=false;var a=false;var n=false;var q=new THREE.Vector3();var t=Math.PI/2;var h,w;this.SetScreenSize=function(A,B,z,C){b.ScreenLift=A;b.ScreenTop=B;b.ScreenWidth=z;b.ScreenHeight=C};this.checkOnScreen=function(z,A){if(z<b.ScreenLift||z>(b.ScreenLift+b.ScreenWidth)){return false}if(A<b.ScreenTop||A>(b.ScreenTop+b.ScreenHeight)){return false}return true};var s=function(A){if(f.enabled===false){return}if(f.checkOnScreen(A.clientX+window.scrollX,A.clientY+window.scrollY)===false){return}var B=-A.movementX||-A.mozMovementX||-A.webkitMovementX||0;var z=-A.movementY||-A.mozMovementY||-A.webkitMovementY||0;x.rotation.y-=B*0.0021;p.rotation.x-=z*0.0021;p.rotation.x=Math.max(-t,Math.min(t,p.rotation.x))};var o=function(z){if(z.which!=1){return}if(f.checkOnScreen(z.clientX+window.scrollX,z.clientY+window.scrollY)===false){return}document.addEventListener("mousemove",s,false);document.addEventListener("mouseup",k,false)};var k=function(z){if(f.enabled===false){return}z.stopPropagation();document.removeEventListener("mousemove",s);document.removeEventListener("mouseup",k)};function r(z){if(f.enabled===false){return}if(f.checkOnScreen(z.clientX+window.scrollX,z.clientY+window.scrollY)===false){return}v.fov+=z.deltaY;if(v.fov>60){v.fov=60}if(v.fov<10){v.fov=10}v.updateProjectionMatrix();window.onwheel=z.preventDefault();window.onmousewheel=document.onmousewheel=z.preventDefault();window.ontouchmove=z.preventDefault()}var l=function(D){if(f.enabled===false){return}if(f.checkOnScreen(D.changedTouches[0].clientX+window.scrollX,D.changedTouches[0].clientY+window.scrollY)===false){return}if(D.targetTouches.length==2){touchPositionFingerOne=D.changedTouches[0];touchPositionFingerTwo=D.changedTouches[1];var F=parseInt(touchPositionFingerOne.clientX)-parseInt(touchPositionFingerTwo.clientX);var G=parseInt(touchPositionFingerOne.clientY)-parseInt(touchPositionFingerTwo.clientY);var z=F-startYZoom;var A=G-startxZoom;var B=A-z;v.fov+=B/100;if(v.fov>60){v.fov=60}if(v.fov<10){v.fov=10}v.updateProjectionMatrix()}else{if(D.targetTouches.length==1){touchobj=D.changedTouches[0];var A=parseInt(touchobj.clientX)-h;var z=parseInt(touchobj.clientY)-w;var E=-A||0;var C=-z||0;x.rotation.y-=E*0.0001;p.rotation.x-=C*0.0001;p.rotation.x=Math.max(-t,Math.min(t,p.rotation.x))}}};var j=function(z){switch(z.targetTouches.length){case 1:touchobj=z.changedTouches[0];h=parseInt(touchobj.clientX);w=parseInt(touchobj.clientY);break;case 2:touchobj=z.changedTouches[0];touchobj1=z.changedTouches[1];var A=parseInt(touchobj1.clientX)-parseInt(touchobj.clientX);var B=parseInt(touchobj1.clientY)-parseInt(touchobj.clientY);break}};var d=function(z){h=0;w=0;startxZoom=0;startYZoom=0};var i=function(z){switch(z.keyCode){case 38:case 87:c=true;break;case 37:case 65:e=true;break;case 40:case 83:u=true;break;case 39:case 68:m=true;break;case 32:if(n===true){q.y+=0}n=false;break}};var g=function(z){switch(z.keyCode){case 38:case 87:c=false;break;case 37:case 65:e=false;break;case 40:case 83:u=false;break;case 39:case 68:m=false;break}};f.domElement.addEventListener("mousedown",o,false);f.domElement.addEventListener("mouseup",k,false);f.domElement.addEventListener("keydown",i,false);f.domElement.addEventListener("keyup",g,false);f.domElement.addEventListener("wheel",r,false);f.domElement.addEventListener("touchstart",j,false);f.domElement.addEventListener("touchend",d,false);f.domElement.addEventListener("touchmove",l,false);this.enabled=false;this.getObject=function(){return x};this.getDirection=function(){var A=new THREE.Vector3(0,0,-1);var z=new THREE.Euler(0,0,0,"YXZ");return function(B){z.set(p.rotation.x,x.rotation.y,0);B.copy(A).applyEuler(z);return B}}();this.update=function(z){if(f.enabled===false){return}z*=0.1;q.x+=(-q.x)*0.08*z;q.z+=(-q.z)*0.08*z;q.y-=0.25*z;if(c){q.z-=0.12*z}if(u){q.z+=0.12*z}if(e){q.x-=0.12*z}if(m){q.x+=0.12*z}if(a===true){q.y=Math.max(0,q.y)}x.translateX(q.x);x.translateY(q.y);x.translateZ(q.z);if(x.position.y<10){q.y=0;x.position.y=10;n=true}}};
</script>
<script type="text/javascript">
THREE.OrbitControls=function(M,N){this.object=M;this.domElement=(N!==undefined)?N:document;var H={ScreenLift:0,ScreenTop:0,ScreenWidth:0,ScreenHeight:0};this.enabled=true;this.target=new THREE.Vector3();this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=false;this.dampingFactor=0.1;this.enableZoom=true;this.zoomSpeed=1;this.enableRotate=true;this.rotateSpeed=0.8;this.enablePan=true;this.panSpeed=0.7;this.keyPanSpeed=7;this.autoRotate=false;this.autoRotateSpeed=0.3;this.enableKeys=false;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:0,ZOOM:2,PAN:1};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return R.phi};this.getAzimuthalAngle=function(){return R.theta};this.SetScreenSize=function(af,ag,ae,ah){H.ScreenLift=af;H.ScreenTop=ag;H.ScreenWidth=ae;H.creenHeight=ah};this.checkOnScreen=function(ae,af){if(ae<H.ScreenLift||ae>(H.ScreenLift+H.ScreenWidth)){return false}if(af<H.ScreenTop||af>(H.ScreenTop+H.creenHeight)){return false}return true};this.saveState=function(){K.target0.copy(K.target);K.position0.copy(K.object.position);K.zoom0=K.object.zoom};this.reset=function(){K.target.copy(K.target0);K.object.position.copy(K.position0);K.object.zoom=K.zoom0;K.object.updateProjectionMatrix();K.dispatchEvent(X);K.update();ad=e.NONE};this.update=function(){var ai=new THREE.Vector3();var ag=new THREE.Quaternion().setFromUnitVectors(M.up,new THREE.Vector3(0,1,0));var ah=ag.clone().inverse();var af=new THREE.Vector3();var ae=new THREE.Quaternion();return function aj(){var ak=K.object.position;ai.copy(ak).sub(K.target);ai.applyQuaternion(ag);R.setFromVector3(ai);if(K.autoRotate&&ad===e.NONE){x(f())}R.theta+=i.theta;R.phi+=i.phi;R.theta=Math.max(K.minAzimuthAngle,Math.min(K.maxAzimuthAngle,R.theta));R.phi=Math.max(K.minPolarAngle,Math.min(K.maxPolarAngle,R.phi));R.makeSafe();R.radius*=F;R.radius=Math.max(K.minDistance,Math.min(K.maxDistance,R.radius));K.target.add(S);ai.setFromSpherical(R);ai.applyQuaternion(ah);ak.copy(K.target).add(ai);K.object.lookAt(K.target);if(K.enableDamping===true){i.theta*=(1-K.dampingFactor);i.phi*=(1-K.dampingFactor);S.multiplyScalar(1-K.dampingFactor)}else{i.set(0,0,0);S.set(0,0,0)}F=1;if(I||af.distanceToSquared(K.object.position)>c||8*(1-ae.dot(K.object.quaternion))>c){K.dispatchEvent(X);af.copy(K.object.position);ae.copy(K.object.quaternion);I=false;return true}return false}}();this.dispose=function(){document.removeEventListener("contextmenu",D,false);document.removeEventListener("mousedown",W,false);document.removeEventListener("wheel",P,false);document.removeEventListener("touchstart",V,false);document.removeEventListener("touchend",O,false);document.removeEventListener("touchmove",Y,false);document.removeEventListener("mousemove",a,false);document.removeEventListener("mouseup",ab,false);window.removeEventListener("keydown",j,false)};var K=this;var X={type:"change"};var Q={type:"start"};var C={type:"end"};var e={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4};var ad=e.NONE;var c=0.000001;var R=new THREE.Spherical();var i=new THREE.Spherical();var F=1;var S=new THREE.Vector3();var I=true;var z=new THREE.Vector2();var s=new THREE.Vector2();var L=new THREE.Vector2();var d=new THREE.Vector2();var v=new THREE.Vector2();var q=new THREE.Vector2();var w=new THREE.Vector2();var b=new THREE.Vector2();var J=new THREE.Vector2();function f(){return 2*Math.PI/60/60*K.autoRotateSpeed}function G(){return Math.pow(0.95,K.zoomSpeed)}function x(ae){i.theta-=ae}function B(ae){i.phi-=ae}var p=function(){var ae=new THREE.Vector3();return function af(ah,ag){ae.setFromMatrixColumn(ag,0);ae.multiplyScalar(-ah);S.add(ae)}}();var A=function(){var ae=new THREE.Vector3();return function af(ah,ag){ae.setFromMatrixColumn(ag,1);ae.multiplyScalar(ah);S.add(ae)}}();var n=function(){var af=new THREE.Vector3();return function ae(ai,ah){var aj=K.domElement===document?K.domElement.body:K.domElement;if(K.object.isPerspectiveCamera){var ag=K.object.position;af.copy(ag).sub(K.target);var ak=af.length();ak*=Math.tan((K.object.fov/2)*Math.PI/180);p(2*ai*ak/aj.clientHeight,K.object.matrix);A(2*ah*ak/aj.clientHeight,K.object.matrix)}else{if(K.object.isOrthographicCamera){p(ai*(K.object.right-K.object.left)/K.object.zoom/aj.clientWidth,K.object.matrix);A(ah*(K.object.top-K.object.bottom)/K.object.zoom/aj.clientHeight,K.object.matrix)}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.");K.enablePan=false}}}}();function r(ae){if(K.object.isPerspectiveCamera){F/=ae}else{if(K.object.isOrthographicCamera){K.object.zoom=Math.max(K.minZoom,Math.min(K.maxZoom,K.object.zoom*ae));K.object.updateProjectionMatrix();I=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");K.enableZoom=false}}}function t(ae){if(K.object.isPerspectiveCamera){F*=ae}else{if(K.object.isOrthographicCamera){K.object.zoom=Math.max(K.minZoom,Math.min(K.maxZoom,K.object.zoom/ae));K.object.updateProjectionMatrix();I=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");K.enableZoom=false}}}function u(ae){z.set(ae.clientX,ae.clientY)}function U(ae){w.set(ae.clientX,ae.clientY)}function E(ae){d.set(ae.clientX,ae.clientY)}function o(af){s.set(af.clientX,af.clientY);L.subVectors(s,z).multiplyScalar(K.rotateSpeed);var ae=K.domElement===document?K.domElement.body:K.domElement;x(2*Math.PI*L.x/ae.clientHeight);B(2*Math.PI*L.y/ae.clientHeight);z.copy(s);K.update()}function ac(ae){b.set(ae.clientX,ae.clientY);J.subVectors(b,w);if(J.y>0){r(G())}else{if(J.y<0){t(G())}}w.copy(b);K.update()}function l(ae){v.set(ae.clientX,ae.clientY);q.subVectors(v,d).multiplyScalar(K.panSpeed);n(q.x,q.y);d.copy(v);K.update()}function aa(ae){}function T(ae){if(ae.deltaY<0){t(G())}else{if(ae.deltaY>0){r(G())}}K.update()}function h(ae){switch(ae.keyCode){case K.keys.UP:n(0,K.keyPanSpeed);K.update();break;case K.keys.BOTTOM:n(0,-K.keyPanSpeed);K.update();break;case K.keys.LEFT:n(K.keyPanSpeed,0);K.update();break;case K.keys.RIGHT:n(-K.keyPanSpeed,0);K.update();break}}function k(ae){z.set(ae.touches[0].pageX,ae.touches[0].pageY)}function Z(ah){if(K.enableZoom){var ag=ah.touches[0].pageX-ah.touches[1].pageX;var af=ah.touches[0].pageY-ah.touches[1].pageY;var aj=Math.sqrt(ag*ag+af*af);w.set(0,aj)}if(K.enablePan){var ae=0.5*(ah.touches[0].pageX+ah.touches[1].pageX);var ai=0.5*(ah.touches[0].pageY+ah.touches[1].pageY);d.set(ae,ai)}}function m(af){s.set(af.touches[0].pageX,af.touches[0].pageY);L.subVectors(s,z).multiplyScalar(K.rotateSpeed);var ae=K.domElement===document?K.domElement.body:K.domElement;x(2*Math.PI*L.x/ae.clientHeight);B(2*Math.PI*L.y/ae.clientHeight);z.copy(s);K.update()}function y(ah){if(K.enableZoom){var ag=ah.touches[0].pageX-ah.touches[1].pageX;var af=ah.touches[0].pageY-ah.touches[1].pageY;var aj=Math.sqrt(ag*ag+af*af);b.set(0,aj);J.set(0,Math.pow(b.y/w.y,K.zoomSpeed));r(J.y);w.copy(b)}if(K.enablePan){var ae=0.5*(ah.touches[0].pageX+ah.touches[1].pageX);var ai=0.5*(ah.touches[0].pageY+ah.touches[1].pageY);v.set(ae,ai);q.subVectors(v,d).multiplyScalar(K.panSpeed);n(q.x,q.y);d.copy(v)}K.update()}function g(ae){}function W(ae){if(K.enabled===false){return}if(K.checkOnScreen(ae.clientX+window.scrollX,ae.clientY+window.scrollY)===false){return}ae.preventDefault();if(ae.buttons==3){if(K.enablePan===false){return}E(ae);ad=e.PAN}else{switch(ae.button){case K.mouseButtons.ORBIT:if(K.enableRotate===false){return}u(ae);ad=e.ROTATE;break;case K.mouseButtons.ZOOM:if(K.enableZoom===false){return}U(ae);ad=e.DOLLY;break;case K.mouseButtons.PAN:if(K.enablePan===false){return}E(ae);ad=e.PAN;break}}if(ad!==e.NONE){document.addEventListener("mousemove",a,false);document.addEventListener("mouseup",ab,false);K.dispatchEvent(Q)}}function a(ae){if(K.enabled===false){return}if(K.checkOnScreen(ae.clientX+window.scrollX,ae.clientY+window.scrollY)===false){return}ae.preventDefault();switch(ad){case e.ROTATE:if(K.enableRotate===false){return}o(ae);break;case e.DOLLY:if(K.enableZoom===false){return}ac(ae);break;case e.PAN:if(K.enablePan===false){return}l(ae);break}}function ab(ae){if(K.enabled===false){return}aa(ae);document.removeEventListener("mousemove",a,false);document.removeEventListener("mouseup",ab,false);K.dispatchEvent(C);ad=e.NONE}function P(ae){if(K.enabled===false||K.enableZoom===false||(ad!==e.NONE&&ad!==e.ROTATE)){return}if(K.checkOnScreen(ae.clientX+window.scrollX,ae.clientY+window.scrollY)===false){return}ae.preventDefault();ae.stopPropagation();K.dispatchEvent(Q);T(ae);K.dispatchEvent(C)}function j(ae){if(K.enabled===false||K.enableKeys===false||K.enablePan===false){return}h(ae)}function V(ae){if(K.enabled===false){return}ae.preventDefault();switch(ae.touches.length){case 1:if(K.enableRotate===false){return}k(ae);ad=e.TOUCH_ROTATE;break;case 2:if(K.enableZoom===false&&K.enablePan===false){return}Z(ae);ad=e.TOUCH_DOLLY_PAN;break;default:ad=e.NONE}if(ad!==e.NONE){K.dispatchEvent(Q)}}function Y(ae){if(K.enabled===false){return}ae.preventDefault();ae.stopPropagation();switch(ae.touches.length){case 1:if(K.enableRotate===false){return}if(ad!==e.TOUCH_ROTATE){return}m(ae);break;case 2:if(K.enableZoom===false&&K.enablePan===false){return}if(ad!==e.TOUCH_DOLLY_PAN){return}y(ae);break;default:ad=e.NONE}}function O(ae){if(K.enabled===false){return}g(ae);K.dispatchEvent(C);ad=e.NONE}function D(ae){if(K.enabled===false){return}ae.preventDefault()}document.addEventListener("contextmenu",D,false);document.addEventListener("mousedown",W,false);document.addEventListener("wheel",P,false);document.addEventListener("touchstart",V,false);document.addEventListener("touchend",O,false);document.addEventListener("touchmove",Y,false);window.addEventListener("keydown",j,false);this.update()};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE.OrbitControls;Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return !this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!a}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");return !this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!a}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return !this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!a}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");return !this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!a}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return !this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!a}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");return this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=a}}});
</script>
<script type="text/javascript">
THREE.Sky=function(){var b=THREE.Sky.SkyShader;var a=new THREE.ShaderMaterial({fragmentShader:b.fragmentShader,vertexShader:b.vertexShader,uniforms:THREE.UniformsUtils.clone(b.uniforms),side:THREE.BackSide});THREE.Mesh.call(this,new THREE.BoxBufferGeometry(1,1,1),a)};THREE.Sky.prototype=Object.create(THREE.Mesh.prototype);THREE.Sky.SkyShader={uniforms:{luminance:{value:1},turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:0.005},mieDirectionalG:{value:0.8},sunPosition:{value:new THREE.Vector3()}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const vec3 up = vec3( 0.0, 1.0, 0.0 );","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","	zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","	return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","	float c = ( 0.2 * T ) * 10E-18;","	return 0.434 * c * MieConst;","}","void main() {","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	vWorldPosition = worldPosition.xzy;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","	gl_Position.z = gl_Position.w;","	vSunDirection = normalize( sunPosition );","	vSunE = sunIntensity( dot( vSunDirection, up ) );","	vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","	float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","	vBetaR = totalRayleigh * rayleighCoefficient;","	vBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float luminance;","uniform float mieDirectionalG;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const vec3 up = vec3( 0.0, 1.0, 0.0 );","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","	return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","	float g2 = pow( g, 2.0 );","	float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","	return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","const float A = 0.15;","const float B = 0.50;","const float C = 0.10;","const float D = 0.20;","const float E = 0.02;","const float F = 0.30;","const float whiteScale = 1.0748724675633854;","vec3 Uncharted2Tonemap( vec3 x ) {","	return ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;","}","void main() {","	float zenithAngle = acos( max( 0.0, dot( up, normalize( vWorldPosition - cameraPos ) ) ) );","	float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","	float sR = rayleighZenithLength * inverse;","	float sM = mieZenithLength * inverse;","	vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","	float cosTheta = dot( normalize( vWorldPosition - cameraPos ), vSunDirection );","	float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","	vec3 betaRTheta = vBetaR * rPhase;","	float mPhase = hgPhase( cosTheta, mieDirectionalG );","	vec3 betaMTheta = vBetaM * mPhase;","	vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","	Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","	vec3 direction = normalize( vWorldPosition - cameraPos );","	float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]","	float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]","	vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","	vec3 L0 = vec3( 0.1 ) * Fex;","	float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","	L0 += ( vSunE * 19000.0 * Fex ) * sundisk;","	vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","	vec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow( luminance, 4.0 ) ) ) * texColor );","	vec3 color = curr * whiteScale;","	vec3 retColor = pow( color, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","	gl_FragColor = vec4( retColor, 1.0 );","}"].join("\n")};
</script>

<script type="text/javascript">
o142 = THREE;o326= o142.ImageUtils;o327 = o142.Matrix4;o143 = o142.Vector3;o328 = o142.Color;o160 = o142.Scene;if (typeof Object.create == 'undefined'){Object.create = function ( o329 ){function o330() {}o330.prototype = o329;return new o330();};}function o331(){Object.defineProperty(this, "name",{get : function(){if(this.o332)return this.o332.name;if(this.o320)return this.o320.name;},set : function(o333){if(this.o332)this.o332.name = o333;if(this.o320)this.o320.name= o333;},enumerable : true,configurable : true});};function o29(o334){o331.call(this);this.o320;Object.defineProperty(this, "diffuseColor",{get : function(){return this.o320.color;},set : function(o333){},enumerable : true,configurable : true});Object.defineProperty(this, "ambientColor",{get : function(){return this.o320.ambient;},set : function(o333){},enumerable : true,configurable : true});Object.defineProperty(this, "emissiveColor",{get : function(){return this.o320.emissive;},set : function(o333){},enumerable : true,configurable : true});Object.defineProperty(this, "specularColor",{get : function(){return this.o320.specular;},set : function(o333){},enumerable : true,configurable : true});this.ambientTexture= new o335();this.opacityTexture = new o335();this.emissiveTexture = new o335();this.phongExponent= 0;this.diffuseTexture = new o335();this.diffuseTexture.o336=1;this.bumpTexture    = new o335();this.bumpTexture.o336=2;this.reflectionTexture= new o335();this.reflectionTexture.o336= 3;Object.defineProperty(this, "opacity",{get : function(){return this.o320.opacity;},set : function(o333){this.o320.opacity = o333;this.o320.needsUpdate=true;},enumerable : true,configurable : true});Object.defineProperty(this, "reflectionStrength",{get : function(){return this.o320.reflectivity;},set : function(o333){this.o320.reflectivity = o333;this.o320.needsUpdate=true;},enumerable : true,configurable : true});Object.defineProperty(this, "specularStrength",{get : function(){return this.o320.shininess;},set : function(o333){this.o320.shininess = o333;this.o320.needsUpdate=true;},enumerable : true,configurable : true});if(o334){this.o337(o334);}};o29.prototype = Object.create(o331.prototype);o29.prototype.o337 = function( o320 ){this.o320 = o320;this.diffuseTexture.o320 = o320;this.bumpTexture.o320 = o320;this.reflectionTexture.o320 = o320;};function Color(red, green, blue ){o328.call(this);if(red != undefined &&	green!= undefined  && blue!= undefined ){this.setRGB(red, green, blue);}else{this.setRGB(0,0,0);}};Color.prototype = Object.create(o328.prototype);function o335(){this.o320;this.o336= -1;this.angle;this.clampU;this.clampV;this.modulate;this.uOffset;this.uScale;this.use3DSStyleMapping;this.vOffset;this.vScale;Object.defineProperty(this, "amount",{get: function (){amount = 0;if (this.o336 == 1){if (this.o320.map == null)amount = 0;else{amount = 1; }}if (this.o336 == 2){if (this.o320.bumpMap == null)amount = 0;else{ amount = 1;}}if (this.o336 == 3){if (this.o320.envMap == null)amount = 0;else{ amount = 1;}}return amount;},set: function (o333) {amount = o333;if (amount == 0) {if (this.o336 == 1) {this.o320.map = null;}if (this.o336 == 2) {this.o320.bumpMap = null;}if (this.o336 == 3) {this.o320.envMap = null;}}},enumerable: true,configurable: true});Object.defineProperty(this, "image",{get: function () {if (this.o336 == -1){return null;}if (this.o336 == 1){image = null;if (this.o320.map != null)image = this.o320.map;}else if (this.o336 == 2){image = null;if (this.o320.bumpMap != null){image = this.o320.bumpMap;}}else if (this.o336 == 3){image = null;if (this.o320.envMap != null){image = this.o320.envMap;}}return image;},set: function (o333) {if (this.o336 == -1){image = o333;return;}if (this.o336 == 1){this.o320.map = o333;image = o333;}else if (this.o336 == 2){this.o320.bumpMap = o333;image = o333;}else if (this.o336 == 3){this.o320.envMap = o333;image = o333;}this.o320.needsUpdate = true;},enumerable: true,configurable: true});};o335.prototype.setPath = function(o338){if(this.o336==1){o339 = o326.loadTexture(o338 );this.o320.map = o339;}if(this.o336==2){o340 = o326.loadTexture(o338 );this.o320.bumpMap = o340;}if(this.o336==3){o341 = o326.loadTexture(o338 );this.o320.envMap = o341;}this.o320.needsUpdate=true;};function o343(o342){o331.call(this);this.o332;Object.defineProperty(this, "visible", {get : function(){ return this.o332.visible; },set : function(o333){this.o332.visible = o333;},enumerable : true,configurable : true});this.o344 = new Matrix4x4();Object.defineProperty(this, "transform",{get : function(){return this.o344;},set : function(o333){},enumerable : true,configurable : true});this.o346 = function(o345){this.o332 = o345;this.o344.o332 = o345;};if(o342){this.o346(o342);}};o343.prototype = Object.create(o331.prototype);function o348(o347){o343.call(this);Object.defineProperty(this, "brightness", {get : function(){return this.o332.intensity;},set : function(o333){this.o332.intensity = o333;},enumerable : true,configurable : true});Object.defineProperty(this, "color", {get : function(){return this.o332.color;},set : function(o333){},enumerable : true,configurable : true});if(o347){this.o346(o347);}};o348.prototype = Object.create(o343.prototype);function o350(o349){o343.call(this);this.up;this.position;this.targetPosition;Object.defineProperty(this, "fov", {get : function(){return this.o332.fov;},set : function(o333){this.o332.fov = o333;},enumerable : true,configurable : true});if(o349){this.o346(o349);this.up=o349.up;this.targetPosition =  o349.cameraTarget;this.position = o349.position;}};o350.prototype = Object.create(o343.prototype);function o352(o351){o343.call(this);this.material=new o29();if(o351){this.o346(o351);this.material.o337(o351.material);}};o352.prototype = Object.create(o343.prototype);function Matrix4x4(){this.o332;this.o353=new o327();this.scaleInPlace = function(o354,o355,o356){this.o332.scale.x = o354;this.o332.scale.y = o355;this.o332.scale.z = o356;this.o332.updateMatrix();};this.scale = function(o354,o355,o356){var o357=new Vector3(o354,o355,o356);var o358 = new o327();o358.copy(this.o332.matrix);o358.scale(o357);return o358;};this.set= function(o359, o360, o361, o362, o363, o364, o365, o366, o367, o368, o369, o370, o371, o372, o373, o374 ){if(typeof o360 === "undefined"){var o375 = o376(o359);}else{var o375 = o377(o359, o360, o361, o362, o363, o364, o365, o366, o367, o368, o369, o370, o371, o372, o373, o374);}if(this.o332==null){this.o353=o375;return this.o353;}else{o375.transpose();this.o332.matrixAutoUpdate  = false;this.o332.matrix=o375;this.o332.updateMatrixWorld(true);}};this.translateInPlace= function(o238){this.o332.translateX(o238.x);this.o332.translateY(o238.y);this.o332.translateZ(o238.z);};this.translate= function(o238){var o378 = new o327();o378.copy(this.o332.matrix);o378.translate(o238);return o378;};this.transformPosition= function(o238){var o378 = new o327();o378.copy(this.o332.matrix);var o379= new o143(o238.x,o238.y,o238.z);o379.getPositionFromMatrix(o378);return o379;};this.multiply= function(o380){var o381 = new o327();o381.copy(this.o332.matrix);o381.multiply(o380.o353);return o381;};function o377(o359, o360, o361, o362, o363, o364, o365, o366, o367, o368, o369, o370, o371, o372, o373, o374 ){var o382 = new o327().set(o359, o360, o361, o362, o363, o364, o365, o366, o367, o368, o369, o370, o371, o372, o373, o374 );return o382;};function o376(o383){if (o383){var o359 = o383[0];var o360 = o383[1];var o361 = o383[2];var o362 = o383[3];var o363 = o383[4];var o364 = o383[5];var o365 = o383[6];var o366 = o383[7];var o367 = o383[8];var o368 = o383[9];var o369 = o383[10];var o370 = o383[11];var o371 = o383[12];var o372 = o383[13];var o373 = o383[14];var o374 = o383[15];var o384 = new o327().set(o359, o360, o361, o362, o363, o364, o365, o366, o367, o368, o369, o370, o371, o372, o373, o374);return o384;}else return new o327();};};function Vector3(o354,o355,o356){this.o385 = new o143(o354,o355,o356);Object.defineProperty(this, "x", {   get : function(){ return this.o385.x; },set : function(o333){this.o385.x = o333;},enumerable : true,configurable : true});Object.defineProperty(this, "y", {get : function(){ return this.o385.y; },set : function(o333){this.o385.y = o333;},enumerable : true,configurable : true});Object.defineProperty(this, "z", {get : function(){ return this.o385.z; },set : function(o333){this.o385.z = o333;},enumerable : true,configurable : true});this.set = function(o354,o355,o356){this.o385.x=  o354;this.o385.y=  o355;this.o385.z=  o356;};this.clone= function(){return new Vector3( this.x, this.y, this.z );};};function o387 (o386){this.o388;this.o217;this.o27;this.o389= [];this.o391 = function (o390){if(o390.o263 == "materials"){o390.o392();}else if(o390.o263 == "lights"){o390.o393();}else if(o390.o263 == "cameras"){o390.o394();}else if(o390.o263 == "meshes"){o390.o395();}else if(o390.o263 == "nodes"){o390.o396();}};Object.defineProperty(this, "count",{get : function(){if(this.o389.length ==0){this.o391(this);}return this.o389.length;},set : function(o333){},enumerable : true,configurable : true});this.getByIndex = function(o397){if( this.o389.length == 0 ){this.o391(this);}if( o397 >= 0 && o397 < this.o389.length ){return this.o389[o397];}};if(o386 =="material"){this.getByName = function(o398){var o399 = 0;this.o388.traverse(  function ( o212 ){if ( o212.material && o212.material.name === o398 ){o399=new o29(o212.material);}});if(o399 == 0){for(var i=0;i<this.o217.length;i++){if(o398 === this.o217[i].name){o399=new o29(this.o217[i]);}}}return o399;};}if(o386 =="camera"){this.getByName = function(o400){var o401 ;var o349 = this.o388.getChildByName(o400, true);if (  o349.name==o400 ){var o401 = new o350(o349);}return o401;};}if(o386 =="mesh"){this.getByName = function(o402){var o403 ;var o351 = this.o388.getChildByName(o402, true);if (  o351.name==o402 ){var o403 = new o352(o351);}return o403;};}if(o386 =="node"){this.getByName = function(o404){var o342 = this.o388.getChildByName(o404, true);var o405 = this.o82(o342);var o406 ;if ( o342.name==o404 ){if (  o405=="Node" ){o406 = new o343(o342);}else if (o405 == "Light"){o406 = new o348(o342);}else if (o405 == "Camera"){o406 = new o350(o342);}else if (o405 == "Mesh"){o406 = new o352(o342);}if	(o406){return o406;}}};}if(o386 =="light"){this.getByName = function(o407){var o408 ;var o347 = this.o388.getChildByName(o407, true);if (  o347.name==o407 ){var o408 = new o348(o347);}return o408;};}this.o82 = function(o409){if(o409.hasOwnProperty("intensity")==true){return "Light";}else if(o409.hasOwnProperty("fov")==true){return "Camera";}else if(o409.hasOwnProperty("material")==true){return "Mesh";}else{return "Node";}};this.update = function(){this.o389=[];};this.o392 = function(){var o410={};var	o411=0;var o399;this.o388.traverse( function ( o212 ){o399 = 0;if ( o212.material){if(!o410.hasOwnProperty(o212.material.id)){o410[o212.material.id]= o411;o399=new o29(o212.material);this.scene.materials.o389.push( o399 );}}});};this.o394 = function(){this.o388.traverse( function ( o212 ){var o405 = this.scene.nodes.o82(o212);var o401 ;if(o405 == "Camera"){o401 = new o350(o212);this.scene.cameras.o389.push( o401 );}});};this.o393 = function(){this.o388.traverse( function ( o212 ){var o405 = this.scene.nodes.o82(o212);var o408 ;if(o405 == "Light"){o408 = new o348(o212);this.scene.lights.o389.push( o408 );}});};this.o395 = function(){this.o388.traverse( function ( o212 ){var o405 = this.scene.nodes.o82(o212);var o403 ;if(o405 == "Mesh"){o403 = new o352(o212);this.scene.meshes.o389.push( o403 );}});};this.o396 = function(){this.o388.traverse( function ( o212 ){var o405 = this.scene.nodes.o82(o212);var o406 ;if(o405 == "Node"){o406 = new o343(o212);}else if(o405 == "Light"){o406 = new o348(o212);}else if(o405 == "Camera"){o406 = new o350(o212);}else if(o405 == "Mesh"){o406 = new o352(o212);}if(o406){this.scene.nodes.o389.push( o406 );}});};};function o222(){this.o412 = new Array();this.setView = function(o413, o414){var o415 = o221( this.o412[o413] );o258(o415);};this.o223 = function( o416 ){this.o412 = o416;};this.o417 = 1.0;Object.defineProperty(this, "versionOfSimLab",{get : function(){return this.o417;},set : function(){},enumerable : true,configurable : true});};function o210 (){this.o59;this.o59 = new o160();this.o217 = new Array();this.o27 = new Array();this.materials       = new o387("material");this.materials.o263  = "materials";this.materials.o388 = this.o59;this.materials.o217 = this.o217;this.materials.o27 = this.o27;this.cameras		   = new o387("camera");this.cameras.o263	   = "cameras";this.cameras.o388   = this.o59;this.nodes		   = new o387("node");this.nodes.o263	   = "nodes";this.nodes.o388	   = this.o59;this.lights		   = new o387("light");this.lights.o263     = "lights";this.lights.o388    = this.o59;this.meshes		   = new o387("mesh");this.meshes.o263     = "meshes";this.meshes.o388    = this.o59;this.update = function(){this.materials.update();this.cameras.update();this.nodes.update();this.lights.update();this.meshes.update();};};
</script>

<script type="text/javascript">
o2={o3 : function( destColor, srcColor ){if (destColor != undefined && srcColor != undefined) {destColor.r = srcColor.r;destColor.g = srcColor.g;destColor.b = srcColor.b;}},o4 : function( destTexture, srcTexture ){destTexture.amount= srcTexture.amount;try{if( srcTexture.amount != 0 ){destTexture.image= srcTexture.image;}var x = 0;if(x!=0){}}catch(err){destTexture.amount=0;srcTexture.amount=0;}if( srcTexture.amount == 0 ){destTexture.image=null;}destTexture.angle= srcTexture.angle;destTexture.clampU= srcTexture.clampU;destTexture.clampV= srcTexture.clampV;destTexture.modulate= srcTexture.modulate;destTexture.uOffset= srcTexture.uOffset;destTexture.uScale= srcTexture.uScale;destTexture.use3DSStyleMapping= srcTexture.use3DSStyleMapping;destTexture.vOffset= srcTexture.vOffset;destTexture.vScale= srcTexture.vScale;},o5 : function( destMtl, srcMtl ){this.o3(destMtl.ambientColor, srcMtl.ambientColor);this.o4(destMtl.ambientTexture, srcMtl.ambientTexture);this.o4(destMtl.bumpTexture, srcMtl.bumpTexture);this.o3(destMtl.diffuseColor, srcMtl.diffuseColor);this.o4(destMtl.diffuseTexture, srcMtl.diffuseTexture);this.o3(destMtl.emissiveColor, srcMtl.emissiveColor);this.o4(destMtl.emissiveTexture, srcMtl.emissiveTexture);destMtl.opacity= srcMtl.opacity;this.o4(destMtl.opacityTexture, srcMtl.opacityTexture);destMtl.phongExponent= srcMtl.phongExponent;destMtl.reflectionStrength= srcMtl.reflectionStrength;this.o4(destMtl.reflectionTexture, srcMtl.reflectionTexture);this.o3(destMtl.specularColor, srcMtl.specularColor);destMtl.specularStrength= srcMtl.specularStrength;}};function o6(){this.o7= [];this.o8= function(){for( i=0, count= this.o7.length; i<count; ++i ){this.o7[i].o8();}}};function o9(){this.o10= new Array( 101 );this.o11 = 1;this.o12 = false;this.o13 = 1;this.o14 = 1;for( var i=0, count= this.o10.length; i<count; ++i ){this.o10[i]= new o6();}this.o15= [[7],[[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510113,0.499999999999990,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.498566096175638,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.497132192351285,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.495698288526933,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.494264384702580,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.492830480878228,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.491396577053875,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.489962673229522,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.488528769405170,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.487094865580817,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.485660961756465,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.484227057932112,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.482793154107759,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.481359250283407,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.479925346459054,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.478491442634702,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.477057538810349,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,0.475623634985996,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,0.474189731161644,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,0.472755827337291,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,0.471321923512939,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,0.469888019688586,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,0.468454115864234,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,0.467020212039881,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,0.465586308215528,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,0.464152404391176,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,0.462718500566823,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,0.461284596742471,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,0.459850692918118,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,0.458416789093765,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,0.456982885269413,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,0.455548981445060,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,0.454115077620708,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,0.452681173796355,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,0.451247269972002,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,0.449813366147650,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,0.448379462323297,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,0.446945558498945,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,0.445511654674592,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,0.444077750850239,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,0.442643847025887,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,0.441209943201534,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,0.439776039377182,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,0.438342135552829,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,0.436908231728477,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,0.435474327904124,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,0.434040424079771,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,0.432606520255419,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,0.431172616431066,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,0.429738712606714,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,0.428304808782361,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,0.426870904958008,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,0.425437001133656,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,0.424003097309303,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,0.422569193484951,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,0.421135289660598,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,0.419701385836245,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,0.418267482011893,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,0.416833578187540,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510101,0.415399674363188,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510101,0.413965770538835,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510101,0.412531866714483,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510101,0.411097962890130,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510101,0.409664059065777,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510100,0.408230155241425,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510100,0.406796251417072,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510100,0.405362347592720,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510100,0.403928443768367,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510100,0.402494539944014,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510100,0.401060636119662,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992]],[9],[[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.500000000000000,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.492520892498022,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.485041784996045,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.477562677494068,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.470083569992091,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,0.462604462490114,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,0.455125354988136,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,0.447646247486159,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,0.440167139984182,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,0.432688032482205,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,0.425208924980228,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,0.417729817478250,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,0.410250709976273,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,0.402771602474296,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,0.395292494972319,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,0.387813387470341,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,0.380334279968364,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,0.372855172466387,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,0.365376064964410,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,0.357896957462433,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,0.350417849960455,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537042,0.342938742458478,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537042,0.335459634956501,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537043,0.327980527454524,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537043,0.320501419952547,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537044,0.313022312450569,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537044,0.305543204948592,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537045,0.298064097446615,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537045,0.290584989944638,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537046,0.283105882442660,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537047,0.275626774940683,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537047,0.268147667438706,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537047,0.260668559936729,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537048,0.253189452434752,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537048,0.245710344932774,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537049,0.238231237430797,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537050,0.230752129928820,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537050,0.223273022426843,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537051,0.215793914924866,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537051,0.208314807422888,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537051,0.200835699920911,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537052,0.193356592418934,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537053,0.185877484916957,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537053,0.178398377414979,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537054,0.170919269913002,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537054,0.163440162411025,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537055,0.155961054909048,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537055,0.148481947407071,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537056,0.141002839905093,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537056,0.133523732403116,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537057,0.126044624901139,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537057,0.118565517399162,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537058,0.111086409897184,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537058,0.103607302395207,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537059,0.096128194893230,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537059,0.088649087391253,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537060,0.081169979889276,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537060,0.073690872387298,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537061,0.066211764885321,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537061,0.058732657383344,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537062,0.051253549881367,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537063,0.043774442379390,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537063,0.036295334877412,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537063,0.028816227375435,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537064,0.021337119873458,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537064,0.013858012371481,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537065,0.006378904869504,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537066,-0.001100202632474,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537066,-0.008579310134451,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537067,-0.016058417636428,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990]],[3],[[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000],[0.298201165606063,0.954503046004142,-0.000000000000000,0.000000000000000,-0.259453721664513,0.081057260681443,0.962347903206140,0.000000000000000,0.918564004925960,-0.286973266454622,0.271820737241928,0.000000000000000,12.501134267671278,-4.123559956724239,6.234471469289899,1.000000000000000]],[12],[[1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000],[0.999846293152702,0.000000000000000,-0.017532543135591,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.017532543135591,0.000000000000000,0.999846293152702,0.000000000000000,-0.014375186852925,-0.005444496269289,-0.028973392734122,1.000000000000000],[0.999385219862397,0.000000000000000,-0.035059696527322,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.035059696527322,0.000000000000000,0.999385219862397,0.000000000000000,-0.029434027991740,-0.010888992538578,-0.057178795106110,1.000000000000000],[0.998616921869330,0.000000000000000,-0.052576072088211,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.052576072088211,0.000000000000000,0.998616921869330,0.000000000000000,-0.045162953509948,-0.016333488807867,-0.084604338963087,1.000000000000000],[0.997541635358824,0.000000000000000,-0.070076285044532,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.070076285044532,0.000000000000000,0.997541635358824,0.000000000000000,-0.061548187507938,-0.021777985077156,-0.111238395891359,1.000000000000000],[0.996159690888679,0.000000000000000,-0.087554955591165,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.087554955591165,0.000000000000000,0.996159690888679,0.000000000000000,-0.078575752327883,-0.027222481346445,-0.137069580791153,1.000000000000000],[0.994471513287550,0.000000000000000,-0.105006710545418,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.105006710545418,0.000000000000000,0.994471513287550,0.000000000000000,-0.096231472850667,-0.032666977615734,-0.162086755376557,1.000000000000000],[0.992477621524351,0.000000000000000,-0.122426184998826,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.122426184998826,0.000000000000000,0.992477621524351,0.000000000000000,-0.114500980853506,-0.038111473885023,-0.186279031599572,1.000000000000000],[0.990178628548715,0.000000000000000,-0.139808023966388,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.139808023966388,0.000000000000000,0.990178628548715,0.000000000000000,-0.133369719426942,-0.043555970154312,-0.209635774997256,1.000000000000000],[0.987575241102566,0.000000000000000,-0.157146884032768,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.157146884032768,0.000000000000000,0.987575241102566,0.000000000000000,-0.152822947449831,-0.049000466423601,-0.232146607960896,1.000000000000000],[0.984668259502858,0.000000000000000,-0.174437434994933,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.174437434994933,0.000000000000000,0.984668259502858,0.000000000000000,-0.172845744120968,-0.054444962692890,-0.253801412926236,1.000000000000000],[0.981458577395545,0.000000000000000,-0.191674361500731,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.191674361500731,0.000000000000000,0.981458577395545,0.000000000000000,-0.193423013545948,-0.059889458962179,-0.274590335483744,1.000000000000000],[0.977947181480861,0.000000000000000,-0.208852364682900,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.208852364682900,0.000000000000000,0.977947181480861,0.000000000000000,-0.214539489377846,-0.065333955231468,-0.294503787408003,1.000000000000000],[0.974135151209999,0.000000000000000,-0.225966163788017,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.225966163788017,0.000000000000000,0.974135151209999,0.000000000000000,-0.236179739510302,-0.070778451500757,-0.313532449605253,1.000000000000000],[0.970023658453267,0.000000000000000,-0.243010497799870,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.243010497799870,0.000000000000000,0.970023658453267,0.000000000000000,-0.258328170821567,-0.076222947770046,-0.331667274978219,1.000000000000000],[0.965613967139843,0.000000000000000,-0.259980127056769,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.259980127056769,0.000000000000000,0.965613967139843,0.000000000000000,-0.280969033968035,-0.081667444039335,-0.348899491207301,1.000000000000000],[0.960907432869228,0.000000000000000,-0.276869834862287,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.276869834862287,0.000000000000000,0.960907432869228,0.000000000000000,-0.304086428225812,-0.087111940308624,-0.365220603447313,1.000000000000000],[0.955905502494509,0.000000000000000,-0.293674429088949,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.293674429088949,0.000000000000000,0.955905502494509,0.000000000000000,-0.327664306378813,-0.092556436577913,-0.380622396938912,1.000000000000000],[0.950609713677584,0.000000000000000,-0.310388743774355,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.310388743774355,0.000000000000000,0.950609713677584,0.000000000000000,-0.351686479651901,-0.098000932847202,-0.395096939533929,1.000000000000000],[0.945021694416457,0.000000000000000,-0.327007640709277,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.327007640709277,0.000000000000000,0.945021694416457,0.000000000000000,-0.376136622687528,-0.103445429116491,-0.408636584133818,1.000000000000000],[0.939143162544777,0.000000000000000,-0.343526011017207,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.343526011017207,0.000000000000000,0.939143162544777,0.000000000000000,-0.400998278564387,-0.108889925385780,-0.421233971040480,1.000000000000000],[0.932975925203744,0.000000000000000,-0.359938776724901,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.359938776724901,0.000000000000000,0.932975925203744,0.000000000000000,-0.426254863856483,-0.114334421655069,-0.432882030218734,1.000000000000000],[0.926521878286575,0.000000000000000,-0.376240892323413,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.376240892323413,0.000000000000000,0.926521878286575,0.000000000000000,-0.451889673731115,-0.119778917924358,-0.443573983469744,1.000000000000000],[0.919783005855677,0.000000000000000,-0.392427346319158,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.392427346319158,0.000000000000000,0.919783005855677,0.000000000000000,-0.477885887084162,-0.125223414193647,-0.453303346514730,1.000000000000000],[0.912761379532722,0.000000000000000,-0.408493162774510,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.408493162774510,0.000000000000000,0.912761379532722,0.000000000000000,-0.504226571711125,-0.130667910462936,-0.462063930988323,1.000000000000000],[0.905459157861800,0.000000000000000,-0.424433402837476,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.424433402837476,0.000000000000000,0.905459157861800,0.000000000000000,-0.530894689512319,-0.136112406732225,-0.469849846340954,1.000000000000000],[0.897878585645854,0.000000000000000,-0.440243166259966,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.440243166259966,0.000000000000000,0.897878585645854,0.000000000000000,-0.557873101730619,-0.141556903001514,-0.476655501649690,1.000000000000000],[0.890021993256596,0.000000000000000,-0.455917592904195,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.455917592904195,0.000000000000000,0.890021993256596,0.000000000000000,-0.585144574220142,-0.147001399270803,-0.482475607336958,1.000000000000000],[0.881891795918119,0.000000000000000,-0.471451864236758,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.471451864236758,0.000000000000000,0.881891795918119,0.000000000000000,-0.612691782744269,-0.152445895540092,-0.487305176796638,1.000000000000000],[0.873490492964424,0.000000000000000,-0.486841204809912,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.486841204809912,0.000000000000000,0.873490492964424,0.000000000000000,-0.640497318301344,-0.157890391809381,-0.491139527927009,1.000000000000000],[0.864820667071093,0.000000000000000,-0.502080883729614,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.502080883729614,0.000000000000000,0.864820667071093,0.000000000000000,-0.668543692476447,-0.163334888078670,-0.493974284570095,1.000000000000000],[0.855884983461334,0.000000000000000,-0.517166216109862,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.517166216109862,0.000000000000000,0.855884983461334,0.000000000000000,-0.696813342817566,-0.168779384347959,-0.495805377856954,1.000000000000000],[0.846686189086660,0.000000000000000,-0.532092564512895,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.532092564512895,0.000000000000000,0.846686189086660,0.000000000000000,-0.725288638234538,-0.174223880617248,-0.496629047458504,1.000000000000000],[0.837227111782435,0.000000000000000,-0.546855340374804,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.546855340374804,0.000000000000000,0.837227111782435,0.000000000000000,-0.753951884419090,-0.179668376886537,-0.496441842741501,1.000000000000000],[0.827510659398560,0.000000000000000,-0.561450005416119,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.561450005416119,0.000000000000000,0.827510659398560,0.000000000000000,-0.782785329284307,-0.185112873155826,-0.495240623829309,1.000000000000000],[0.817539818905562,0.000000000000000,-0.575872073036938,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.575872073036938,0.000000000000000,0.817539818905562,0.000000000000000,-0.811771168421868,-0.190557369425115,-0.493022562567144,1.000000000000000],[0.807317655476355,0.000000000000000,-0.590117109696169,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.590117109696169,0.000000000000000,0.807317655476355,0.000000000000000,-0.840891550575367,-0.196001865694404,-0.489785143391482,1.000000000000000],[0.796847311543965,0.000000000000000,-0.604180736274465,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.604180736274465,0.000000000000000,0.796847311543965,0.000000000000000,-0.870128583128033,-0.201446361963693,-0.485526164103385,1.000000000000000],[0.786132005835505,0.000000000000000,-0.618058629420419,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.618058629420419,0.000000000000000,0.786132005835505,0.000000000000000,-0.899464337603165,-0.206890858232982,-0.480243736545483,1.000000000000000],[0.775175032382690,0.000000000000000,-0.631746522879625,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.631746522879625,0.000000000000000,0.775175032382690,0.000000000000000,-0.928880855175587,-0.212335354502271,-0.473936287182417,1.000000000000000],[0.763979759509211,0.000000000000000,-0.645240208806184,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.645240208806184,0.000000000000000,0.763979759509211,0.000000000000000,-0.958360152192445,-0.217779850771560,-0.466602557584570,1.000000000000000],[0.752549628795265,0.000000000000000,-0.658535539056252,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.658535539056252,0.000000000000000,0.752549628795265,0.000000000000000,-0.987884225701627,-0.223224347040849,-0.458241604814926,1.000000000000000],[0.740888154019564,0.000000000000000,-0.671628426463236,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.671628426463236,0.000000000000000,0.740888154019564,0.000000000000000,-1.017435058986105,-0.228668843310138,-0.448852801718936,1.000000000000000],[0.728998920079153,0.000000000000000,-0.684514846094246,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.684514846094246,0.000000000000000,0.728998920079153,0.000000000000000,-1.046994627102537,-0.234113339579427,-0.438435837117317,1.000000000000000],[0.716885581887364,0.000000000000000,-0.697190836487411,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.697190836487411,0.000000000000000,0.716885581887364,0.000000000000000,-1.076544902422372,-0.239557835848716,-0.426990715901717,1.000000000000000],[0.704551863250244,0.000000000000000,-0.709652500869693,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.709652500869693,0.000000000000000,0.704551863250244,0.000000000000000,-1.106067860173791,-0.245002332118005,-0.414517759033203,1.000000000000000],[0.692001555721808,0.000000000000000,-0.721896008354803,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.721896008354803,0.000000000000000,0.692001555721808,0.000000000000000,-1.135545483982771,-0.250446828387294,-0.401017603443599,1.000000000000000],[0.679238517438461,0.000000000000000,-0.733917595120871,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.733917595120871,0.000000000000000,0.679238517438461,0.000000000000000,-1.164959771411561,-0.255891324656583,-0.386491201839686,1.000000000000000],[0.666266671932956,0.000000000000000,-0.745713565567493,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.745713565567493,0.000000000000000,0.666266671932956,0.000000000000000,-1.194292739492884,-0.261335820925872,-0.370939822410318,1.000000000000000],[0.653090006928245,0.000000000000000,-0.757280293451813,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.757280293451813,0.000000000000000,0.653090006928245,0.000000000000000,-1.223526430258144,-0.266780317195161,-0.354365048436574,1.000000000000000],[0.639712573111602,0.000000000000000,-0.768614223003279,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.768614223003279,0.000000000000000,0.639712573111602,0.000000000000000,-1.252642916257948,-0.272224813464450,-0.336768777805030,1.000000000000000],[0.626138482889378,0.000000000000000,-0.779711870016732,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.779711870016732,0.000000000000000,0.626138482889378,0.000000000000000,-1.281624306073258,-0.277669309733739,-0.318153222424321,1.000000000000000],[0.612371909122800,0.000000000000000,-0.790569822923502,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.790569822923502,0.000000000000000,0.612371909122800,0.000000000000000,-1.310452749815448,-0.283113806003028,-0.298520907545175,1.000000000000000],[0.598417083845172,0.000000000000000,-0.801184743840171,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.801184743840171,0.000000000000000,0.598417083845172,0.000000000000000,-1.339110444613612,-0.288558302272317,-0.277874670984113,1.000000000000000],[0.584278296960889,0.000000000000000,-0.811553369594682,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.811553369594682,0.000000000000000,0.584278296960889,0.000000000000000,-1.367579640087409,-0.294002798541606,-0.256217662251068,1.000000000000000],[0.569959894926665,0.000000000000000,-0.821672512729485,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.821672512729485,0.000000000000000,0.569959894926665,0.000000000000000,-1.395842643803770,-0.299447294810895,-0.233553341581178,1.000000000000000],[0.555466279415370,0.000000000000000,-0.831539062481400,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.831539062481400,0.000000000000000,0.555466279415370,0.000000000000000,-1.423881826715795,-0.304891791080184,-0.209885478871067,1.000000000000000],[0.540801905962897,0.000000000000000,-0.841149985737917,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.841149985737917,0.000000000000000,0.540801905962897,0.000000000000000,-1.451679628582167,-0.310336287349473,-0.185218152519926,1.000000000000000],[0.525971282598466,0.000000000000000,-0.850502327969609,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.850502327969609,0.000000000000000,0.525971282598466,0.000000000000000,-1.479218563365406,-0.315780783618762,-0.159555748175753,1.000000000000000],[0.510978968458801,0.000000000000000,-0.859593214138397,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.859593214138397,0.000000000000000,0.510978968458801,0.000000000000000,-1.506481224607319,-0.321225279888051,-0.132902957387152,1.000000000000000],[0.495829572386581,0.000000000000000,-0.868419849581377,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.868419849581377,0.000000000000000,0.495829572386581,0.000000000000000,-1.533450290779982,-0.326669776157340,-0.105264776161080,1.000000000000000],[0.480527751513622,0.000000000000000,-0.876979520869936,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.876979520869936,0.000000000000000,0.480527751513622,0.000000000000000,-1.560108530610621,-0.332114272426629,-0.076646503427014,1.000000000000000],[0.465078209829216,0.000000000000000,-0.885269596643899,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.885269596643899,0.000000000000000,0.465078209829216,0.000000000000000,-1.586438808378728,-0.337558768695918,-0.047053739407975,1.000000000000000],[0.449485696734049,0.000000000000000,-0.893287528420445,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.893287528420445,0.000000000000000,0.449485696734049,0.000000000000000,-1.612424089183832,-0.343003264965207,-0.016492383898957,1.000000000000000],[0.433755005580182,0.000000000000000,-0.901030851377541,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.901030851377541,0.000000000000000,0.433755005580182,0.000000000000000,-1.638047444182247,-0.348447761234496,0.015031365546763,1.000000000000000],[0.417890972197499,0.000000000000000,-0.908497185111671,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.908497185111671,0.000000000000000,0.417890972197499,0.000000000000000,-1.663292055791240,-0.353892257503785,0.047511015522827,1.000000000000000],[0.401898473407114,0.000000000000000,-0.915684234369595,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.915684234369595,0.000000000000000,0.401898473407114,0.000000000000000,-1.688141222858983,-0.359336753773074,0.080939778765966,1.000000000000000],[0.385782425522167,0.000000000000000,-0.922589789753948,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.922589789753948,0.000000000000000,0.385782425522167,0.000000000000000,-1.712578365798713,-0.364781250042363,0.115310576242496,1.000000000000000],[0.369547782836480,0.000000000000000,-0.929211728402436,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.929211728402436,0.000000000000000,0.369547782836480,0.000000000000000,-1.736587031685528,-0.370225746311652,0.150616039324506,1.000000000000000],[0.353199536101541,0.000000000000000,-0.935548014640433,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.935548014640433,0.000000000000000,0.353199536101541,0.000000000000000,-1.760150899314239,-0.375670242580941,0.186848512055081,1.000000000000000],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988]]];this.o16= [];this.o17= [];this.o18= [];this.o19= 0;this.o20 = false;this.o21= function(){for( var i=0, count= this.o15.length; i<count; i+=2 ){var o22= this.o15[i];var o23= this.o15[i+1];for( var k=0, kCount= o22.length; k<kCount; ++k ){var o24= o22[k];var o25= scene.nodes.getByIndex( o24 );var o26= o23[ this.o19 ];o25.transform.set( o26 );}}for( var i=0, count= this.o16.length; i<count; i+=2 ){var o24= this.o16[i];var o25= scene.materials.getByIndex( o24 );var o23= this.o16[i+1];var o26= scene.o27[o23[this.o19]];var o28 =new o29(o26);o2.o5( o25, o28 );}for( var i=0, count= this.o17.length; i<count; i+=2 ){var o22= this.o17[i];var o23= this.o17[i+1];for( var k=0, kCount= o22.length; k<kCount; ++k ){var o24= o22[k];var o25= scene.nodes.getByIndex( o24 );var o26= o23[ this.o19 ] != 0 ? true : false;if( o25.visible != o26 ){o25.visible= o26;}}}for( var i=0, count= this.o18.length; i<count; i+=2 ){var o22= this.o18[i];var o23= this.o18[i+1];for( var k=0, kCount= o22.length; k<kCount; ++k ){var o24= o22[k];var o25= scene.nodes.getByIndex( o24 );var o30= o23[ this.o19 ];o25.brightness= o30[3];o25.color.r= o30[0];o25.color.g= o30[1];o25.color.b= o30[2];}}if( 101 > 0 ){var o31= 0 + this.o19+ 4 ;runtime.setView( o31, false );}};o32=true;this.o35= function(/*o32,o33,o34*/){/*if (o34 != this.o36){switch (o32){case true :break;case false :this.o19= o33[0];break;}this.o36= o34;}*/if (o32){if( this.o19 >= this.o10.length-1 ){if ( this.o11 == -1 ){switch (this.o12){case true :this.o13= -1;break;case false :this.o19= 0;this.o13= 1;break;}}else if ( this.o11 != -1){this.o13= 0;this.o19 = 0;this.o20 = true;}}if( this.o19 == 0 && this.o11 != 1){this.o13= 1;}switch ( this.o13 ){case 1 :++this.o19;break;case -1 :--this.o19;break;}}else if (!o32){if( this.o19 >= o33[1] ){if ( this.o11 == -1 ){switch (this.o12){case true :this.o13= -1;break;case false :this.o19= o33[0];this.o13= 1;break;}}else if ( this.o11 != -1){this.o13= 0;this.o20 = true;}}if( this.o19 == o33[0] ){this.o13= 1;}switch ( this.o13 ){case 1 :++this.o19;break;case -1 :--this.o19;break;}}this.o21();this.o14 = o32;};this.o37= function(/*o32,o33,o34*/){this.o35(/*o32,o33,o34*/);};};function o38(){this.m_currentSequenceReference = "";this.m_numberOfSequenceAnimationFrames = 0;this.o39 = 1;var isSequenceAnimationSwingJSConst = false;this.o12 = isSequenceAnimationSwingJSConst;this.o13 = 1;this.o14 = 1;this.o40= [["down"],[[7],[[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510113,0.499999999999990,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.470217404241009,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.440434808482028,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.410652212723047,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.380869616964066,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.351087021205085,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.321304425446103,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510112,0.291521829687122,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.261739233928141,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.231956638169160,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.202174042410179,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.172391446651198,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510111,0.142608850892216,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.112826255133235,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.083043659374254,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.053261063615273,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,0.023478467856292,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,-0.006304127902689,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,-0.036086723661671,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510110,-0.065869319420652,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,-0.095651915179633,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,-0.125434510938614,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,-0.155217106697595,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,-0.184999702456576,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,-0.214782298215558,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510109,-0.244564893974539,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.274347489733520,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.304130085492501,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.333912681251482,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.363695277010463,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.393477872769444,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.423260468528426,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510108,-0.453043064287407,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,-0.482825660046388,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,-0.512608255805369,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,-0.542390851564350,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,-0.572173447323332,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510107,-0.601956043082313,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.631738638841294,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.661521234600275,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.691303830359256,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.721086426118237,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.750869021877218,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.780651617636200,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510106,-0.810434213395181,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,-0.840216809154162,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,-0.869999404913143,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,-0.899782000672124,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,-0.929564596431106,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510105,-0.959347192190087,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-0.989129787949068,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-1.018912383708049,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-1.048694979467030,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-1.078477575226011,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-1.108260170984993,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-1.138042766743974,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510104,-1.167825362502955,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,-1.197607958261936,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,-1.227390554020917,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,-1.257173149779898,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,-1.286955745538879,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,-1.316738341297861,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510103,-1.346520937056842,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,-1.376303532815823,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,-1.406086128574804,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,-1.435868724333786,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,-1.465651320092767,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,-1.495433915851748,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510102,-1.525216511610729,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510101,-1.554999107369710,0.999999999999998],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510090,-1.584781703128694,0.999999999999992]]],["up"],[[7],[[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510090,-1.584781703128694,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510091,-1.554999107369712,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510091,-1.525216511610731,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510091,-1.495433915851750,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510091,-1.465651320092769,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510092,-1.435868724333787,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510092,-1.406086128574806,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510092,-1.376303532815825,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510092,-1.346520937056843,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510092,-1.316738341297862,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510092,-1.286955745538881,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510093,-1.257173149779899,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510093,-1.227390554020918,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510093,-1.197607958261937,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510093,-1.167825362502956,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510094,-1.138042766743974,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510094,-1.108260170984993,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510094,-1.078477575226012,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510094,-1.048694979467031,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510094,-1.018912383708049,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510094,-0.989129787949068,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510095,-0.959347192190087,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510095,-0.929564596431105,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510095,-0.899782000672124,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510095,-0.869999404913143,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510096,-0.840216809154161,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510096,-0.810434213395180,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510096,-0.780651617636199,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510096,-0.750869021877217,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510096,-0.721086426118236,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510096,-0.691303830359255,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510097,-0.661521234600274,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510097,-0.631738638841292,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510097,-0.601956043082311,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510097,-0.572173447323330,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510098,-0.542390851564349,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510098,-0.512608255805368,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510098,-0.482825660046386,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510098,-0.453043064287405,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510098,-0.423260468528423,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510099,-0.393477872769442,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510099,-0.363695277010461,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510099,-0.333912681251480,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510099,-0.304130085492498,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510099,-0.274347489733517,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510100,-0.244564893974536,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510100,-0.214782298215554,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510100,-0.184999702456573,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510100,-0.155217106697592,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510100,-0.125434510938611,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510101,-0.095651915179629,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510101,-0.065869319420648,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510101,-0.036086723661666,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510101,-0.006304127902685,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510101,0.023478467856296,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510102,0.053261063615277,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510102,0.083043659374259,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510102,0.112826255133240,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510102,0.142608850892221,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510102,0.172391446651202,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510103,0.202174042410184,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510103,0.231956638169165,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510103,0.261739233928146,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510103,0.291521829687128,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510103,0.321304425446109,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510104,0.351087021205090,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510104,0.380869616964072,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510104,0.410652212723053,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510104,0.440434808482034,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000001,0.000000000000006,-0.000000000000002,0.000000000000000,-0.000000000000002,0.499999999999983,0.000000000000000,0.000000000000000,-1.915250291510104,0.470217404241015,0.999999999999994],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510113,0.499999999999990,0.999999999999998]]],["Cylinder up"],[[9],[[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.500000000000000,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.526037054174566,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.552074108349133,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.578111162523700,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.604148216698267,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.630185270872834,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.656222325047401,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.682259379221967,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.708296433396534,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537032,0.734333487571101,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.760370541745668,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.786407595920235,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.812444650094801,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.838481704269368,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.864518758443935,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537033,0.890555812618502,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,0.916592866793069,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,0.942629920967636,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,0.968666975142202,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,0.994704029316769,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,1.020741083491336,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537034,1.046778137665903,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.072815191840470,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.098852246015037,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.124889300189603,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.150926354364170,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.176963408538737,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.203000462713304,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.229037516887871,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537035,1.255074571062437,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,1.281111625237004,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,1.307148679411571,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,1.333185733586138,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,1.359222787760705,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,1.385259841935272,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537036,1.411296896109838,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,1.437333950284405,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,1.463371004458972,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,1.489408058633539,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,1.515445112808106,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537037,1.541482166982672,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,1.567519221157239,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,1.593556275331806,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,1.619593329506373,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,1.645630383680940,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,1.671667437855507,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537038,1.697704492030073,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.723741546204640,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.749778600379207,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.775815654553774,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.801852708728341,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.827889762902907,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.853926817077474,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.879963871252041,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537039,1.906000925426608,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,1.932037979601175,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,1.958075033775742,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,1.984112087950308,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,2.010149142124875,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,2.036186196299442,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537040,2.062223250474009,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,2.088260304648576,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,2.114297358823142,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,2.140334412997709,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,2.166371467172276,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537041,2.192408521346843,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537042,2.218445575521410,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537042,2.244482629695977,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537042,2.270519683870543,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537042,2.296556738045110,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537022,2.322593792219674,0.999999999999993]]],["cylinder down"],[[9],[[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537022,2.322593792219674,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537022,2.296556738045107,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537022,2.270519683870540,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537022,2.244482629695973,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537021,2.218445575521406,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537021,2.192408521346839,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537021,2.166371467172272,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537021,2.140334412997705,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537021,2.114297358823138,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537020,2.088260304648571,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537020,2.062223250474004,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537020,2.036186196299437,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537020,2.010149142124870,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537020,1.984112087950303,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537020,1.958075033775736,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.932037979601169,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.906000925426602,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.879963871252035,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.853926817077468,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.827889762902901,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.801852708728334,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537019,1.775815654553767,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537018,1.749778600379200,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537018,1.723741546204633,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537018,1.697704492030065,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537018,1.671667437855499,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537018,1.645630383680932,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537017,1.619593329506364,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537017,1.593556275331798,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537017,1.567519221157231,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537017,1.541482166982663,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537017,1.515445112808097,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537017,1.489408058633530,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537016,1.463371004458963,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537016,1.437333950284396,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537016,1.411296896109829,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537016,1.385259841935262,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537016,1.359222787760695,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.333185733586128,0.999999999999993],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.307148679411561,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.281111625236993,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.255074571062426,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.229037516887860,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.203000462713292,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537015,1.176963408538725,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537014,1.150926354364158,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537014,1.124889300189592,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537014,1.098852246015025,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537014,1.072815191840457,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537014,1.046778137665890,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537013,1.020741083491323,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537013,0.994704029316756,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537013,0.968666975142189,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537013,0.942629920967623,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537013,0.916592866793055,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537013,0.890555812618488,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537012,0.864518758443921,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537012,0.838481704269354,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537012,0.812444650094787,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537012,0.786407595920220,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537012,0.760370541745653,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.734333487571086,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.708296433396519,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.682259379221952,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.656222325047386,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.630185270872818,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.604148216698251,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537011,0.578111162523684,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537010,0.552074108349117,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,-0.000000000000000,0.999999999999992,0.000000000000000,0.000000000000000,2.984956577537010,0.526037054174550,0.999999999999992],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.500000000000000,1.000000000000000]]]];this.o41= [["down"],[],["up"],[],["Cylinder up"],[],["cylinder down"],[]];this.o42= [["down"],[],["up"],[],["Cylinder up"],[],["cylinder down"],[]];this.o43= [["down"],[],["up"],[],["Cylinder up"],[],["cylinder down"],[]];this.o44= 0;this.o20 = false;this.o46= function(o45){o47 = [];o48 = [];o49 = [];o50 = [];for( var i=0, count= this.o40.length; i<count; i+=2 ){if(this.o40[i] == o45){o47 = this.o40[i+1];}}for (var i = 0, count = this.o41.length; i < count; i += 2){if (this.o41[i] == o45){o48 = this.o41[i + 1];}}for (var i = 0, count = this.o42.length; i < count; i += 2){if (this.o42[i] == o45){o49 = this.o42[i + 1];}}for (var i = 0, count = this.o43.length; i < count; i += 2){if (this.o43[i] == o45){o50 = this.o43[i + 1];}}for (var i = 0, count = o47.length; i < count; i += 2){var o22 = o47[i];var o23 = o47[i + 1];for (var k = 0, kCount = o22.length; k < kCount; ++k){var o24 = o22[k];var o25 = scene.nodes.getByIndex(o24);var o26 = o23[this.o44];if (o26 != undefined)o25.transform.set(o26);}}for( var i=0, count= o48.length; i<count; i+=2 ){var o24= o48[i];var o25= scene.materials.getByIndex( o24 );var o23= o48[i+1];var o26= scene.o27[o23[this.o44]];var o28 =new o29(o26);o2.o5( o25, o28 );}for( var i=0, count= o49.length; i<count; i+=2 ){var o22= o49[i];var o23= o49[i+1];for( var k=0, kCount= o22.length; k<kCount; ++k ){var o24= o22[k];var o25= scene.nodes.getByIndex( o24 );var o26= o23[ this.o44 ] != 0 ? true : false;if( o25.visible != o26 ){o25.visible= o26;}}}for( var i=0, count= o50.length; i<count; i+=2 ){var o22= o50[i];var o23= o50[i+1];for( var k=0, kCount= o22.length; k<kCount; ++k ){var o24= o22[k];var o25= scene.nodes.getByIndex( o24 );var o30= o23[ this.o44 ];o25.brightness= o30[3];o25.color.r= o30[0];o25.color.g= o30[1];o25.color.b= o30[2];}}};o32=true;this.o51= function(o45/*o32,o33,o34*/){/*if (o34 != this.o36){switch (o32){case true :break;case false :this.o44= o33[0];break;}this.o36= o34;}*/if (o32){if( this.o44 >= this.m_numberOfSequenceAnimationFrames - 1 ){if ( this.o39 == -1 ){switch (this.o12){case true :this.o13= -1;break;case false :this.o44= 0;this.o13= 1;break;}}else if ( this.o39 != -1){this.o13= 0;this.o20 = true;}}if( this.o44 == 0 && this.o39 != 1){this.o13= 1;}switch ( this.o13 ){case 1 :++this.o44;break;case -1 :--this.o44;break;}}else if (!o32){if( this.o44 >= o33[1] ){if ( this.o39 == -1 ){switch (this.o12){case true :this.o13= -1;break;case false :this.o44= o33[0];this.o13= 1;break;}}else if ( this.o39 != -1){this.o13= 0;this.o20 = true;}}if( this.o44 == o33[0] ){this.o13= 1;}switch ( this.o13 ){case 1 :++this.o44;break;case -1 :--this.o44;break;}}this.o46(o45);this.o14 = o32;};this.o53= function(o45,o52/*,o32,o33,o34*/){this.m_currentSequenceReference = o45;var o54 = [["down",71],["up",71],["Cylinder up",71],["cylinder down",71]];for( var i=0, count= o54.length; i<count; i+=1 ){var o55 = o54[i];if(o55[0] == o45){this.m_numberOfSequenceAnimationFrames  = o55[1];break;}}if(o52 == true){this.o39 = -1;}if(o52 == false){this.o39 = 1;}this.o51(o45/*,o32,o33,o34*/);};this.SeekSequenceToEnd= function(){numberOfSequenceAnimationFrames = this.m_numberOfSequenceAnimationFrames;this.o44 = numberOfSequenceAnimationFrames - 1;this.o46(this.m_currentSequenceReference);this.o20 = true;};};function o56(){this.loadMirrorMaterial = function (o57){o57.reflectivity = 1;o57.refractionRatio = 0.97;o57.shading = THREE.SmoothShading;o57.combine = 2;o57.shininess = 1000000;if (o58[0]){o57.envMap = o58[0].renderTarget.texture;scene.o59.add(o58[0]);}};this.loadPlasticMaterial = function (o57){o57.blending = 1;o57.combine = 2;o57.metal = false;o57.reflectivity = 0.01;o57.refractionRatio = 0.92;o57.shininess = 300;if (o58[2]){o57.envMap = o58[2].renderTarget.texture;scene.o59.add(o58[2]);}};this.SetDefaultValues = function (o57){o57.side = 2;o57.shadowSide = 2;o57.needsUpdate = true;o57.bumpScale *= 2;o57.combine = 2;o57.lightMapIntensity = 1;};this.loadPlasticMaterialWithRoughnessMap = function (o57){o57.blending = 1;o57.combine = 2;o57.metal = false;o57.reflectivity = 0.01;o57.refractionRatio = 0.92;o57.shininess = 50;if (o58[9]){o57.envMap = o58[9].renderTarget.texture;scene.o59.add(o58[9]);}};this.loadMetalMaterial = function (o57){o57.metal = true;o57.reflectivity = 0.9;o57.refractionRatio = 2;o57.shininess = 700;if (o58[1]){o57.envMap = o58[1].renderTarget.texture;scene.o59.add(o58[1]);}};this.loadMetalMaterialWithRoughnessMap = function (o57){o57.metal = true;o57.reflectivity = 0.9;o57.refractionRatio = 0.99;o57.shininess = 30;if (o58[10]){o57.envMap = o58[10].renderTarget.texture;scene.o59.add(o58[10]);}};this.loadDielectricMaterial = function (o57){o57.reflectivity = 0.3;o57.refractionRatio = 0.985;if (o58[3]){o57.envMap = o58[3].renderTarget.texture;scene.o59.add(o58[3]);}};this.loadThinDielectricMaterial = function (o57){o57.reflectivity = 0.9;o57.refractionRatio = 0.985;if (o58[4]){o57.envMap = o58[4].renderTarget.texture;scene.o59.add(o58[4]);}};this.loadMatteMaterial = function (o57){o57.shininess = 500;};this.loadShinyMetalMaterial = function (o57){o57.metal = true;o57.reflectivity = 0.1;o57.refractionRatio = 0.92;o57.shininess = 500;if (o58[6]){o57.envMap = o58[6].renderTarget.texture;scene.o59.add(o58[6]);}};this.loadThinSSSMaterial = function (o57){o57.metal = false;o57.shininess = 30;};this.loadVelvetMaterial = function (o57){o57.metal = false;o57.shininess = 500;};this.loadEmitterMaterial = function (o57){o57.metal = false;o57.shininess = 0.005;};this.loadMetallicPaintMaterial = function (o57){o57.metal = true;o57.reflectivity = 0.05;o57.refractionRatio = 0.99;o57.shininess = 30;if (o58[8]){o57.envMap = o58[8].renderTarget.texture;scene.o59.add(o58[8]);}};this.loadDefaultMaterial = function (o57){o57.reflectivity = 0.01;o57.refractionRatio = 0.92;o57.shininess = 30;if (o58[5]){o57.envMap = o58[5].renderTarget.texture;scene.o59.add(o58[5]);}};};function o60(){this.o61 = {7 : 1 , 9 : 2};this.o62 = {};this.o63 = {};this.o64 = null;this.o65 = null;this.o66 = false;this.o67 = { r: 0.15, g: 0.15, b: 0.15};this.o69= function(o68){if ( o68.length > 0 ){for( var i = 0; i< o68.length; ++i ){if( o68[ i ].object.visible == true){var o24 = o68[ i ].object.index;break;}}this.o70(o24,o68);this.o71(o24,o68);}else{if ( this.o64 ){this.o64.material = this.o64.currentHex;}this.o64 = null;this.o72();this.o65 = null;}};this.o71= function(o24, o68){if(this.o61.hasOwnProperty(o24) ){if ( this.o64 != o68[ 0 ].object ){if ( this.o64 ){this.o64.material = this.o64.currentHex;}this.o64 = o68[ 0 ].object;this.o64.currentHex = this.o64.material;var o73 = this.o64.material.clone();o2.o3(o73.emissive,this.o67);this.o64.material = o73;}}else{if ( this.o64 ){this.o64.material = this.o64.currentHex;}this.o64 = null;}};this.o70= function(o24 , o68){if( this.o62.hasOwnProperty( o24 ) ){if(this.o65 != o68[ 0 ].object){if ( this.o65 ){this.o72();}this.o65 = o68[ 0 ].object;var o74 = this.o62[o24];for (var key in this.o62){if (this.o62.hasOwnProperty(key)){if(this.o62[key] == o74){var o75 = Number(key);this.o76(o75);}}}}}else{if ( this.o65 ){this.o72();}this.o65 = null;}};this.o77= function(){this.o66 = true;for (var key in this.o61){if (this.o61.hasOwnProperty(key)){var o75 = Number(key);this.o76(o75);}}for (var key in this.o62){if (this.o62.hasOwnProperty(key)){var o75 = Number(key);this.o76(o75);}}};this.o78= function(){if(this.o66 == true){this.o72();this.o66 = false;}};this.o72= function(){for (var key in this.o63){if (this.o63.hasOwnProperty(key)){var o79 = this.o63[key];var o80;scene.o59.traverse(  function ( o81 ){if(o81.index == key){if(scene.nodes.o82(o81) == "Mesh"){o80 = o81;}}});o80.material = o79;}}this.o63 = {};};this.o76= function(o75){var o83 = null;scene.o59.traverse(  function ( o81 ){if(o81.index == o75){if(scene.nodes.o82(o81) == "Mesh"){o83 = o81;}}});if(o83 != null){var o79 = o83.material;var o73 = o83.material.clone();o2.o3(o73.emissive,this.o67);o83.material = o73;this.o63[o83.index] = o79;}};};function o84(){this.o85 = true;this.o86= new Array( [9,7,12],[9,7,12],[9,7,12],[9,7,12]);this.o87= new Array( new Array([0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.500000000000000,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510113,0.499999999999990,0.999999999999998],[1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000]),new Array([0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.500000000000000,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510113,0.499999999999990,0.999999999999998],[1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000]),new Array([0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000001,-0.000000000000000,0.000000000000000,0.000000000000001,0.999999999999985,0.000000000000001,0.000000000000000,2.984956577537039,-0.023537525138410,0.999999999999990],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000004,-0.000000000000003,0.000000000000000,-0.000000000000002,0.499999999999978,0.000000000000000,0.000000000000000,-1.915250291510086,0.399626732295306,0.999999999999992],[0.336742710992285,-0.000000000000001,-0.941596700606777,-0.000000000000002,-0.000000000000012,0.999999999999991,0.000000000000011,0.000000000000000,0.941596700606781,0.000000000000001,0.336742710992291,0.000000000000000,-1.783253784216724,-0.381114738850236,0.224000053501812,0.999999999999988]),new Array([0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,-0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,2.984956577537031,0.500000000000000,1.000000000000000],[0.500000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.500000000000000,0.000000000000002,-0.000000000000000,0.000000000000000,-0.000000000000002,0.499999999999990,0.000000000000000,0.000000000000000,-1.915250291510113,0.499999999999990,0.999999999999998],[1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,0.000000000000000,1.000000000000000]));this.o88= [[],[],[],[]];this.o89= new Array( new Array(),new Array(),new Array(),new Array());this.o90= new Array( ["VelvetMaterial-Material-2","lMaterial-Material-1","lMaterial-Material-3"],["VelvetMaterial-Material-2","lMaterial-Material-1","lMaterial-Material-3"],["VelvetMaterial-Material-2","lMaterial-Material-1","lMaterial-Material-3"],["VelvetMaterial-Material-2","lMaterial-Material-1","lMaterial-Material-3"]);this.o91= new Array( ["VelvetMaterial-Scene1_Material-2","lMaterial-Scene1_Material-1","lMaterial-Scene1_Material-3"],["VelvetMaterial-Scene2_Material-2","lMaterial-Scene2_Material-1","lMaterial-Scene2_Material-3"],["VelvetMaterial-Scene3_Material-2","lMaterial-Scene3_Material-1","lMaterial-Scene3_Material-3"],["VelvetMaterial-Scene4_Material-2","lMaterial-Scene4_Material-1","lMaterial-Scene4_Material-3"]);this.o92= new Array( [],[],[],[]);this.o93= new Array( [],[],[],[]);this.o94= new Array( [],[],[],[]);this.o95= [true,true,true,true];this.o96= [true,true,true,true];this.o97= [true,true,true,true];this.o98= new Array( true,true,true,true);this.o99= [true,true,true,true];this.o100= 0;this.o101= 0;this.o102= false;this.o103= false;};o84.prototype.o107 = function ( o104, o105, o106 ){if( ! this.o85 ){return;}o108= this.o86.length;if( o104 < 0  || o104 >= o108 ){return;}o109= this.o95[o104];if( o109 ){o110= this.o86[o104];o111= this.o87[o104];for( i=0, count= o110.length; i<count; ++i ){o112= o110[i];o113= o111[i];try {if (o112 && o113){o114 = scene.nodes.getByIndex(o112);o114.transform.set(o113);}}catch(err){}}}o115.o72();o116 = this.o96[o104];if( o116 ){o117= this.o90[o104];o118= this.o91[o104];for( i=0, count= o117.length; i<count; ++i ){o119= o117[i];o120= o118[i];try {if (o119 && o120) {o121 = scene.materials.getByName(o119);o122 = scene.materials.getByName(o120);o2.o5(o121, o122);}}catch(err){}}if (o115.o64){o115.o64.currentHex = o115.o64.material;}}o123= this.o97[o104];if( o123 ){o124= this.o92[o104];o125= this.o93[o104];o126= this.o94[o104];for( i=0, count= o124.length; i<count; ++i ){o127= o124[i];try {if (o127) {o128 = scene.nodes.getByIndex(o127);o128.brightness = o125[i];o128.color.r = o126[i][0];o128.color.g = o126[i][1];o128.color.b = o126[i][2];}}catch(err){}}}o129= this.o98[o104];if(o129){o130= this.o88[o104];o131= this.o89[o104];for( i=0, count= o130.length; i<count; ++i ){o132=o130[i];o133=o131[i];try {o134 = scene.nodes.getByIndex(o132);o134.visible = o133;}catch(err){}}}o135= this.o99[o104];if (o135 && !this.o101){if (o106) {o136 = o104 + this.o100;this.o103 = true;runtime.setView(o136, o105);}}};o84.prototype.o137 = function (){};o84.prototype.o139 = function ( o138 ){if( ! this.o85 ){return;}if( this.o103 ){this.o103= false;return;}if( o138 == -1 ){return;}if( o138 < this.o100 ){return;}o104= o138 - this.o100;this.o107( o104, false, false );};o84.prototype.o141 = function ( o140 ){if( ! this.o85 ){return;}this.o107( o140, this.o102, true );};
</script>
<script type="text/javascript">
o142 = THREE;o143 = o142.Vector3;o144 = o142.ColladaLoader;o145 = o142.TrackballControls;o146 = o142.OrbitControls;o147 = o142.PointerLockControls;o148 = o142.DirectionalLight;o149 = o142.HemisphereLight;o150 = o142.SpotLight;o151 = o142.Projector;o152 = o142.WebGLRenderer;o153 = o142.Raycaster;o154 = o142.CubeCamera;o155 = o142.Mesh;o156 = o142.SphereBufferGeometry;o157 = o142.MeshBasicMaterial;o158 = o142.MeshPhongMaterial;o159 = o142.PerspectiveCamera;o160 = o142.Scene;o161 = o142.ImageUtils;var o162, o163, scene, o164, o165, o166;var o167 = { o168: 0, o169: 0 }, o170;var o171 = [];var o172 = {};var o173 = {};var o174 = new o144();var o175;var o176 = 1;var AllChildrenJSArray = [];var CounterOnAllChildrenArray = 0;var NamesWithIDsArray = [];var CounterOnAllChildrenIDsArray = 0;var ChangedMaterialMap = new Map();var MapEachMaterialWithHowManyTimesDuplicated = new Map();var VRCamerasJSArray = [];var VRCamerasJSArrayBorderJSArray = [];var o177;var o178;var SceneTweens = new Array(5);var FovTween;var RightMouseClickCount = 0;var countFullScreenClicks = 2;var HDR;var o179;var o180 = 0;var FPS;var o181 = new o150(0xffffff, 0);var o182 = true;var o58 = new Array(9);var AverageFPS = 0;var ActionApplied = false;var BoundingBoxRadius = 0;var o183 = {7 : 1 , 9 : 2};var o184 = {};var o185 = {7:-1,9:-1};var o186 = false;var o187 = ["lMaterial-Material-1"];var o188 = [];var o189 = ["lMaterial-Material-1" , "lMaterial-Material-3"];var o190 = [];var o191 = [];var o192 = [];var o193 = [];var o194 = [];var o195 = [];var o196 = [];var o197 = ["Material-1",'0' , "Material-3",'2' , "Material-2",'1'];var BoundingBoxMin = [-3.443193932989423,-4.124882490297379,1.981332918728806];var BoundingBoxMax = [12.502610486563475,3.484956577537031,6.235705637930348];var ObjectsIDAndLightMaps = new Map();var o198 = false;var globalCounter = 0;var playAnimationAtStart = 0.000000000000000;var billboards = [];var sceneCantainsBillboards;function unzipToBlobAndLoad(){var url = window.location.href;extractHostname(url);var tString = url;var tArray = tString.split(':');if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var isOperaBrowser = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;if (isOperaBrowser){$('#FullScreenButton').css('display', 'none');}var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);if (isChrome && tArray[0] == "http"){var jqxhr = $.ajax(window.location.href.substring(window.location.protocol.length)).done(function () { location.href = 'https:' + window.location.href.substring(window.location.protocol.length); }).fail(function () { location.href = 'http:' + window.location.href.substring(window.location.protocol.length); });alert("Make Sure to use secure connection 'https' in order to have WebGL function right");}}var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);var isSamsungBrowser = navigator.userAgent.match(/SamsungBrowser/i);if (isSamsungBrowser || isSafari){$('#FullScreenButton').css('display', 'none');}var blob;var TEXT_CONTENT;var blobURL;var zipFs = new zip.fs.FS();zipFs.importHttpContent('./fac1_files/fac1.zip'/*"./x_files/x.zip"*/, false, function (){var firstEntry = zipFs.root.children[0];firstEntry.getText(function (data){blob = new Blob([data], { type: "text/xml" });TEXT_CONTENT = data;blobURL = URL.createObjectURL(blob);console.log(blobURL);o174.load(blobURL/*'./fac1_files/fac1.zip'*/, function (o199){o173 = o199;o165 = o199.scene;o165.scale.x = o165.scale.y = o165.scale.z = 1;o165.updateMatrix();o171 = o199.dae.materials;o172 = o199.dae.effects;init();if (o176 == 2){var request = new XMLHttpRequest();request.open("GET", o193[1], true);request.send();request.onreadystatechange = function (){if (this.readyState == 4 && (this.status == 200 || this.status == 0)){setTimeout(function () { HideProgressBar(); }, 500);}};}else{setTimeout(function () { HideProgressBar(); }, 500);}o200();if (o176 == 1){for (var i = 0; i < o187.length; ++i){var o201 = o187[i];var o202 = scene.materials.getByName(o201);o202.opacity = 1;}for (var i = 0; i < o188.length; ++i){var o201 = o188[i];var o202 = scene.materials.getByName(o201);o202.diffuseTexture.amount = 0;o202.diffuseTexture.image = null;}for (var i = 0; i < o189.length; ++i){var o201 = o189[i];var o202 = scene.materials.getByName(o201);o202.reflectionTexture.amount = 0;o202.reflectionTexture.image = null;}for (var i = 0; i < o190.length; ++i){var o201 = o190[i];var o202 = scene.materials.getByName(o201);o202.bumpTexture.amount = 0;o202.bumpTexture.image = null;}}fillLightMapArray();if (ObjectsIDAndLightMaps.size > 0){Traverse(o199);TraverseToGetObjectsID(o199);ApplyLightMapToObjects();if (o203.o90.length > 0)ModifyMaterialsSceneStatesArrays();if (o204.o16.length > 0)ModifyMaterialAnimationArray();if (o205.o41.length > 0)ModifyMaterialSequanceArray();}});});}, onerror);};function o206(){var o207 = document.getElementById('Object3D');var o208 = o209 = 0;if (FullScreenCheck){o208 = 0;o209 = 0;}else{var inner_Left = parseInt(o207.style.left);var inner_Top = parseInt(o207.style.top);o208 = (inner_Left * scaleRatio + new_Left);o209 = (inner_Top * scaleRatio + new_Top);}return { 'annotLeft': o208, 'annotTop': o209 };};function init(){o162 = document.getElementById('Object3D');scene = new o210();if (o176 == 1){scene.o59.add(o165);var o211 = 0;scene.o59.traverse(function (o212){o212.index = o211;/*THREE.js version 92 has some thing new which is ( if the parent is hidden no way to show the child -UNLIKE version 64- )if the scene contains a list the list is going to have a parent 'itemsContainerSpin ' this name is fixed and has been set on CSimLabVRListsGenerator and its hiddenso on this code am changing its visibilty to be visible - nothing will ever be visible on scene am showing the parent and all its children are invisible - so that lists can show scenestates to applyEx : Node A (Parent), Node B (Child of Node A) ---> Case 1 : Node A is invisible, Then Node B is also invisbleCase 2 : Node A is visible, Then Node B May be visible or invisible*/if (o212.name == "itemsContainerSpin " || o212.children.length > 0){o212.visible = true}o211++;});scene.o59.traverse(function (o212){if (o212.name.search('_SLCBB0x2340d0') > -1){billboards.push(o212);}if (billboards.length == 0){sceneCantainsBillboards = false;}else{sceneCantainsBillboards = true;}});}if (false){for (var i = 0; i < 11; i++){o58[i] = new o154(0.1, 5000, 512);o58[i].renderTarget.texture.minFilter = THREE.LinearMipMapLinearFilter;}}var o213 = 0;for (var o214 in o171){var o215 = o171[o214];o57 = o216(o215, o172);scene.o217[o213] = o57;++o213;}var o218 = 0;for (var o214 in o171){var o215 = o171[o214];o57 = o216(o215, o172);scene.o27[o218] = o57;++o218;}var o219 = 'Animated Camera 2';var o220 = o165.getChildByName(o219, true);var undefined;if (o220 === undefined){o175 = o221(o219);}else{o175 = new o159(o220.fov, o220.aspect, o220.near, o220.far);if (o220.cameraTarget != undefined){o175.cameraTarget = o220.cameraTarget.clone();}else{o175.cameraTarget = new THREE.Vector3(0, 0, 0);}o175.up = o220.up.clone();o175.position.x = o220.position.x;o175.position.y = o220.position.y;o175.position.z = o220.position.z;}o175.aspect = 588 / 616;o175.updateProjectionMatrix();scene.o59.add(o175);o164 = new o152({ antialias: true, alpha: true });o164.setSize(588, 616);o164.gammaInput = true;o164.gammaOutput = true;if (false && true && o176 == 1){o164.shadowMap.enabled = true;o164.shadowMapSoft = true;o164.shadowMap.type = o142.PCFSoftShadowMap;}o162.appendChild(o164.domElement);runtime = new o222();runtime.o223(['Scene1_camera','Scene2_camera','Scene3_camera','Scene4_camera','frm0','frm1','frm2','frm3','frm4','frm5','frm6','frm7','frm8','frm9','frm10','frm11','frm12','frm13','frm14','frm15','frm16','frm17','frm18','frm19','frm20','frm21','frm22','frm23','frm24','frm25','frm26','frm27','frm28','frm29','frm30','frm31','frm32','frm33','frm34','frm35','frm36','frm37','frm38','frm39','frm40','frm41','frm42','frm43','frm44','frm45','frm46','frm47','frm48','frm49','frm50','frm51','frm52','frm53','frm54','frm55','frm56','frm57','frm58','frm59','frm60','frm61','frm62','frm63','frm64','frm65','frm66','frm67','frm68','frm69','frm70','frm71','frm72','frm73','frm74','frm75','frm76','frm77','frm78','frm79','frm80','frm81','frm82','frm83','frm84','frm85','frm86','frm87','frm88','frm89','frm90','frm91','frm92','frm93','frm94','frm95','frm96','frm97','frm98','frm99','frm100']);o164.domElement.addEventListener('mousedown', o224, false);o164.domElement.addEventListener('mouseup', o225, false);o164.domElement.addEventListener('mousemove', o226, false);var elem = document.getElementById('Object3D');globalVal_1 = elem.attributes.style.value;if (true && playAnimationAtStart && o176 == 1 ){o227.PlayAnimationAtStart();}if ("Spin" === "Spin" && o176 == 1){o175.up = new THREE.Vector3(0, 0, 1);o228 = new o146(o175, o164.domElement);o228.target = o175.cameraTarget;if (false)o228.maxPolarAngle = Math.PI / 2;}if ("Spin" === "Rotate" && o176 == 1){o228 = new o145(o175);o228.navMode = "Spin";o228.keepCameraAboveGround = false;}window.onresize();var o229 = o206();/*var canvas;canvas = document.getElementById("glcanvas");var gl = canvas.getContext("experimental-webgl");*/if (o176 == 1){if (true && !true){var CastShadow = false;if (CastShadow)TraverseToAddShadow(o165, CastShadow);var o230 = {Albedo: { R: 75, G: 75, B: 75 }, elevation: 9.000000000000000, horizontal: 60.000000000000000,strenght: 2.780000000000000, skyStrenght: 2.460000000000000, Turbidity: 6};var o231 = rgbToHex(o230.Albedo.R, o230.Albedo.G, o230.Albedo.B);Horizontal = o230.horizontal * (Math.PI / 180);Vertical = o230.elevation * (Math.PI / 180);var xValue = Math.cos(Horizontal) * Math.cos(Vertical);var yValue = Math.sin(Horizontal) * Math.cos(Vertical);var zValue = Math.sin(Vertical);var Cor = [new THREE.Vector3(BoundingBoxMin[0], BoundingBoxMin[1], BoundingBoxMin[2]),new THREE.Vector3(BoundingBoxMin[0], BoundingBoxMax[1], BoundingBoxMin[2]),new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMax[1], BoundingBoxMin[2]),new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMin[1], BoundingBoxMin[2]),new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMax[1], BoundingBoxMax[2]),new THREE.Vector3(BoundingBoxMin[0], BoundingBoxMax[1], BoundingBoxMax[2]),new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMax[1], BoundingBoxMax[2]),new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMin[1], BoundingBoxMax[2])];var Min = new THREE.Vector3(BoundingBoxMin[0], BoundingBoxMin[1], BoundingBoxMin[2]);var Max = new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMax[1], BoundingBoxMax[2]);var DiffX = (Max.x - Min.x) * 1.1;var DiffY = (Max.y - Min.y) * 1.1;var BoxOrigin = new THREE.Vector3(((Max.x + Min.x) / 2), ((Max.y + Min.y) / 2), ((Max.z + Min.z) / 2));var InverseSunDir = new THREE.Vector3(xValue, yValue, zValue);var MaxDist = InverseSunDir.dot(Cor[0].sub(BoxOrigin));for (var i = 1; i < 8; ++i){var Val = Math.abs(InverseSunDir.dot(Cor[i].sub(BoxOrigin)));if (Val > MaxDist)MaxDist = Val;}var Distance = MaxDist;var SunPosition = new THREE.Vector3(InverseSunDir.x * Distance + BoxOrigin.x, InverseSunDir.y * Distance + BoxOrigin.y, InverseSunDir.z * Distance + BoxOrigin.z);var o232;o232 = new o149(o231, 0x0F0F0F, o230.skyStrenght);o232.position.set(SunPosition.x, SunPosition.y, SunPosition.z);scene.o59.add(o232);var o233 = new o148(0xFFFFFF, o230.strenght / 2);o233.position.set(SunPosition.x, SunPosition.y, SunPosition.z);o233.target.position.set(BoxOrigin.x, BoxOrigin.y, BoxOrigin.z);if (false){o233.shadow.camera.left = -DiffX;o233.shadow.camera.right = DiffX;o233.shadow.camera.top = DiffY;o233.shadow.camera.bottom = -DiffY;o233.shadowMapSoft = true;o233.shadow.bias = -0.005;o233.castShadow = true;o233.shadow.camera.near = -0.01;o233.shadow.camera.far = Math.abs(Distance * 2.0);o233.shadow.mapSize.width = 2048;o233.shadow.mapSize.height = 2048;}scene.o59.add(o233);if (false){AddSkyEnvironment(o230.Turbidity);}}if (true){/*IN THE TIME I HAVE ADDED HDR TO WEBGL THREE.JS DOESNOT HAVE HDR THE WAY WE HAVE IT ON THE COMPOSER, THAY SEE IT AS A REFLECTION MAPSO I'M CREATING A HUGE SPHERE ITS RADUIS DEPENTS ON OVERALL BOUNDING BOX AND APPLY THE HDR IMAGE ON IT AS A TEXTURE.*/addHDRImage();}if (1 && (!true || true)){var o232 = new o149(0xFFFFFF, 0x0f0f0f, 1);o232.position.set(0, 1, 0);o175.add(o232);}}if (o176 == 2){o228 = new o145(o175, o164.domElement);o228.navMode = "Spin";o228.keepCameraAboveGround = false;o228 = new o147(o228.object, o164.domElement);o228.enabled = true;if (FullScreenCheck){Width3D = $('#Object3D').width();Height3D = $('#Object3D').height();}else{Width3D = 588 * scaleRatio;Height3D = 616 * scaleRatio;}o228.SetScreenSize(o229.annotLeft, o229.annotTop, Width3D, Height3D);o228.getObject().position.set(0, 0, 0);o228.getObject().children[0].position.set(0, 120, 0);o228.getObject().children[0].children[0].position.set(0, 0, 0);o228.getObject().children[0].children[0].fov = 60;o228.getObject().children[0].children[0].near = 1.0;o228.getObject().children[0].children[0].far = 52000;o228.getObject().children[0].children[0].updateProjectionMatrix();scene.o59.add(o228.getObject());CurrentCameraSphere = new o156(32000, 100, 100, 0);CurrentCameraMaterial = new o157();CurrentCameraView = new o155(CurrentCameraSphere, CurrentCameraMaterial);CurrentCameraSphere.scale(- 1, 1, 1);CurrentCameraView.position.set(0, 0, 0);scene.o59.add(CurrentCameraView);FovTween = new TWEEN.Tween(o175.fov);Add360Image();}if (FullScreenCheck){Width3D = $('#Object3D').width();Height3D = $('#Object3D').height();}else{Width3D = 588 * scaleRatio;Height3D = 616 * scaleRatio;}o228.SetScreenSize(o229.annotLeft, o229.annotTop, Width3D, Height3D);};document.addEventListener('fullscreenchange', exitFullScreenHandlerHandler);document.addEventListener('webkitfullscreenchange', exitFullScreenHandlerHandler);document.addEventListener('mozfullscreenchange', exitFullScreenHandlerHandler);document.addEventListener('MSFullscreenChange', exitFullScreenHandlerHandler);function exitFullScreenHandlerHandler(){if (!document.fullscreenElement && !document.webkitIsFullScreen && !document.mozFullScreen && !document.msFullscreenElement){FullScreenCheck = false;var elem = document.getElementById('Object3D');elem.attributes.style.value = globalVal_1;countFullScreenClicks++;}}function openFullscreen(){var elem = document.getElementById('Object3D');if (countFullScreenClicks % 2 == 0){FullScreenCheck = true;if (elem.mozRequestFullScreen) /* Firefox */{elem.mozRequestFullScreen();o164.domElement.attributes.style.value = "width: 100%; height: 100%;";elem.attributes.style.value = "position:relative;";} else if (elem.webkitRequestFullscreen) /* Chrome, Safari & Opera */{elem.webkitRequestFullscreen();o164.domElement.attributes.style.value = "width: 100%; height: 100%;";elem.attributes.style.value = "position:relative;";}countFullScreenClicks++;}else{if (document.exitFullscreen){document.exitFullscreen();} else if (document.mozCancelFullScreen){document.mozCancelFullScreen();} else if (document.webkitExitFullscreen){document.webkitExitFullscreen();} else if (document.msExitFullscreen){document.msExitFullscreen();}exitFullScreenHandlerHandler();}}function o235(o234){if (o228.checkOnScreen(o234.clientX + window.ScrollX, o234.clientY + window.ScrollY) === false) return;o234.preventDefault();var o207 = document.getElementById('Object3D');var Object3DWidth = $('#Object3D').width();var Object3Dheight = $('#Object3D').height();var xCursourRatio = 0;var yCursourRatio = 0;if (FullScreenCheck){xCursourRatio = ((o234.clientX) / Object3DWidth) * 2 - 1;yCursourRatio = -((o234.clientY) / Object3Dheight) * 2 + 1;}else{var inner_Left = parseInt(o207.style.left);var inner_Top = parseInt(o207.style.top);Object3DWidth = parseInt(o207.style.width);Object3Dheight = parseInt(o207.style.height);xCursourRatio = (((o234.clientX - (inner_Left * scaleRatio + new_Left)) / scaleRatio) / Object3DWidth) * 2 - 1;yCursourRatio = -(((o234.clientY - (inner_Top * scaleRatio + new_Top)) / scaleRatio) / Object3Dheight) * 2 + 1;}o236(xCursourRatio, yCursourRatio);};function updateBillboardsToFaceCam(){if (sceneCantainsBillboards){var VecteurCameraXPositonCam = ((o175.cameraTarget.x) - (o175.position.x));var VecteurCameraYPositonCam = ((o175.cameraTarget.y) - (o175.position.y));var VecteurCameraZPositonCam = ((o175.cameraTarget.z) - (o175.position.z));if ((VecteurCameraYPositonCam > 0 & VecteurCameraXPositonCam > 0) | (VecteurCameraYPositonCam < 0 & VecteurCameraXPositonCam > 0)){AngleCamPositonCam = Math.atan((VecteurCameraYPositonCam / VecteurCameraXPositonCam));}else{AngleCamPositonCam = Math.atan((VecteurCameraYPositonCam / VecteurCameraXPositonCam)) + Math.PI;}for (var i = 0; i < billboards.length; i++){billboards[i].rotation.z = Math.abs(AngleCamPositonCam + Math.PI * 2);}}};function o225(o234){o178 = false;o234.preventDefault();if (o234.which == 1 && o186){var o207 = document.getElementById('Object3D');var Object3DWidth = $('#Object3D').width();var Object3Dheight = $('#Object3D').height();var xCursourRatio = 0;var yCursourRatio = 0;if (FullScreenCheck){xCursourRatio = ((o234.clientX) / Object3DWidth) * 2 - 1;yCursourRatio = -((o234.clientY) / Object3Dheight) * 2 + 1;MouseClickPosX = o234.clientX;MouseClickPosY = o234.clientY;} else{var inner_Left = parseInt(o207.style.left);var inner_Top = parseInt(o207.style.top);Object3DWidth = parseInt(o207.style.width);Object3Dheight = parseInt(o207.style.height);xCursourRatio = (((o234.clientX - (inner_Left * scaleRatio + new_Left)) / scaleRatio) / Object3DWidth) * 2 - 1;yCursourRatio = -(((o234.clientY - (inner_Top * scaleRatio + new_Top)) / scaleRatio) / Object3Dheight) * 2 + 1;MouseClickPosX = ((o234.clientX - (inner_Left * scaleRatio + new_Left)) / scaleRatio);MouseClickPosY = ((o234.clientY - (inner_Top * scaleRatio + new_Top)) / scaleRatio);}if (o167.o168 == xCursourRatio && o167.o169 == yCursourRatio){o237(xCursourRatio, yCursourRatio, o234);}o186 = false;if (o115){o115.o78();}if (o177 === false){var o238Dir = new o143(o167.o168, o167.o169, 1.0);var o238Origin = new o143(o167.o168, o167.o169, -1.0);var o238Dir = o238Dir.unproject(o175);var o238Origin = o238Origin.unproject(o175);var o239 = new o153(o238Origin, o238Dir.sub(o238Origin).normalize());var o68 = o239.intersectObjects(VRCamerasJSArray, true);if (o68.length > 0){MoveToNextCamera(o68[0].object);}}else{if (o176 == 2)if (RightMouseClickCount % 2 == 0)new TWEEN.Tween(VRCamerasJSArray[0].material.opacity).to(0.6, 1000).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (){for (var i = 0; i < VRCamerasJSArray.length; i++){if (!VRCamerasJSArray[i].SetCurrentCameraView){VRCamerasJSArray[i].material.opacity += 0.008;VRCamerasJSArray[i].material.transparent = true;VRCamerasJSArrayBorderJSArray[i].material.opacity += 0.008;VRCamerasJSArrayBorderJSArray[i].material.transparent = true;}}}).start();}}};function o226(o234){o235(o234);updateBillboardsToFaceCam();o177 = true;var o207 = document.getElementById('Object3D');var Object3DWidth = $('#Object3D').width();var Object3Dheight = $('#Object3D').height();var xCursourRatio = 0;var yCursourRatio = 0;if (FullScreenCheck){o167.o168 = ((o234.clientX) / Object3DWidth) * 2 - 1;o167.o169 = -((o234.clientY) / Object3Dheight) * 2 + 1;} else{var inner_Left = parseInt(o207.style.left);var inner_Top = parseInt(o207.style.top);Object3DWidth = parseInt(o207.style.width);Object3Dheight = parseInt(o207.style.height);o167.o168 = (((o234.clientX - (inner_Left * scaleRatio + new_Left)) / scaleRatio) / Object3DWidth) * 2 - 1;o167.o169 = -(((o234.clientY - (inner_Top * scaleRatio + new_Top)) / scaleRatio) / Object3Dheight) * 2 + 1;}var o238Dir = new o143(o167.o168, o167.o169, 1.0);var o238Origin = new o143(o167.o168, o167.o169, -1.0);var o238Dir = o238Dir.unproject(o175);var o238Origin = o238Origin.unproject(o175);var o239 = new o153(o238Origin, o238Dir.sub(o238Origin).normalize());var o68 = o239.intersectObjects(VRCamerasJSArray, true);/* if the mouse is moving over one the mesh(VR Cameras) the mesh color will change to greenwhen the mouse is not over one the mesh(VR Cameras) the mesh color will back to white*/if (o68.length > 0){o68[0].object.material.color.setHex(0x8AFF4D);}else{for (var i = 0; i < VRCamerasJSArray.length; i++)VRCamerasJSArray[i].material.color.setHex(0xC0C0C0);}if (o178){if (o234.buttons == 1)for (var i = 0; i < VRCamerasJSArray.length; i++){VRCamerasJSArray[i].material.opacity = 0;VRCamerasJSArray[i].material.transparent = true;VRCamerasJSArrayBorderJSArray[i].material.opacity = 0;VRCamerasJSArrayBorderJSArray[i].material.transparent = true;}}};function o224(o234){if (o228.checkOnScreen(o234.clientX + window.scrollX, o234.clientY + window.scrollY) === false) return;o177 = false;o178 = true;o234.preventDefault();if (o234.which == 1){var o207 = document.getElementById('Object3D');var Object3DWidth = $('#Object3D').width();var Object3Dheight = $('#Object3D').height();var xCursourRatio = 0;var yCursourRatio = 0;if (FullScreenCheck){o167.o168 = ((o234.clientX) / Object3DWidth) * 2 - 1;o167.o169 = -((o234.clientY) / Object3Dheight) * 2 + 1;} else{var inner_Left = parseInt(o207.style.left);var inner_Top = parseInt(o207.style.top);Object3DWidth = parseInt(o207.style.width);Object3Dheight = parseInt(o207.style.height);o167.o168 = (((o234.clientX - (inner_Left * scaleRatio + new_Left)) / scaleRatio) / Object3DWidth) * 2 - 1;o167.o169 = -(((o234.clientY - (inner_Top * scaleRatio + new_Top)) / scaleRatio) / Object3Dheight) * 2 + 1;}o186 = true;if (o234.shiftKey){if (o115){o115.o77();}}}if (o234.buttons == 2){if (RightMouseClickCount % 2 == 0){for (var i = 0; i < VRCamerasJSArray.length; i++){VRCamerasJSArray[i].material.opacity = 0;VRCamerasJSArray[i].material.transparent = true;VRCamerasJSArrayBorderJSArray[i].material.opacity = 0;VRCamerasJSArrayBorderJSArray[i].material.transparent = true;}}else{if (o176 == 2)new TWEEN.Tween(VRCamerasJSArray[0].material.opacity).to(0.6, 1000).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (){for (var i = 0; i < VRCamerasJSArray.length; i++){if (!VRCamerasJSArray[i].SetCurrentCameraView){VRCamerasJSArray[i].material.opacity += 0.007;VRCamerasJSArray[i].material.transparent = true;VRCamerasJSArrayBorderJSArray[i].material.opacity += 0.007;VRCamerasJSArrayBorderJSArray[i].material.transparent = true;}}}).start();}RightMouseClickCount++;}};function o200(){requestAnimationFrame(o200);TWEEN.update();updateBillboardsToFaceCam();o240();};function o236(o241, o242){var o238 = new o143(o241, o242, 1);o238.unproject(o175);var o239 = new o153(o175.position, o238.sub(o175.position).normalize());var o68 = o239.intersectObjects(scene.o59.children, true);if (o115){o115.o69(o68);}};function o237(o241, o242, o234){var node = document.getElementById('bdy');var curTransform = new WebKitCSSMatrix(window.getComputedStyle(node).webkitTransform).a;if (curTransform != 1)if (curTransform < 0.45)curTransform -= 0.02;else{if (curTransform < 0.4)curTransform -= 0.04;else{curTransform -= 0.01;}}var currentWidth = document.getElementById('Object3D').clientWidth * curTransform;var currentHeight = document.getElementById('Object3D').clientHeight * curTransform;var ScrollX = ((window.scrollX) / currentWidth) * 2;var ScrollY = ((window.scrollY) / currentHeight) * 2;if (ScrollX < 0) { ScrollX = 0; }if (ScrollY < 0) { ScrollY = 0; }var o238 = new o143(o241 + ScrollX, o242 - ScrollY, 1);o238.unproject(o175);var o239 = new o153(o175.position, o238.sub(o175.position).normalize());var o68 = o239.intersectObjects(scene.o59.children, true);if (o68.length > 0){for (var i = 0; i < o68.length; ++i){if (o68[i].object.visible == true){var o24 = o68[i].object.index;break;}}if (o184.hasOwnProperty(o24)){o24 = o184[o24];}if (o234.ctrlKey){if (o185[o24] != -1){o24 = o185[o24];}}if (o183.hasOwnProperty(o24)){var o243 = o183[o24];o227.o244(o243);}}};function o245(){var o246 = new o154(1, 1000, 256);var o247 = o173.dae.reflectionTextures;var o248 = o173.dae.reflectionRenderTargets;for (var o249 in o247){var o250 = o247[o249];o251 = new o160();var o252 = new o155(new o156(500, 60, 40), new o157({ map: o250 }));o252.scale.x = -1;o251.add(o252);o251.add(o246);var o253 = o248[o249];o246.renderTarget = o253;o246.update(o164, o251);}};function o240(){var elem = document.getElementById('Object3D');o164.setSize(elem.offsetWidth, elem.offsetHeight);o175.aspect = elem.offsetWidth / elem.offsetHeight;o175.updateProjectionMatrix();if (o176 == 2){var clock = new THREE.Clock();o228.update(clock.getDelta());o164.render(scene.o59, o175);}else{if (o180 < 21){CalculateFPS();if (o180 == 20){if (AverageFPS / 5 > 15 || ActionApplied) o182 = true;else o182 = false;if (o182 && false)o164.shadowMap.enabled = true;else o164.shadowMap.enabled = false;}o180++;}if (false){for (var i = 0; i < 11; i++){if (o58[i].renderTarget)o58[i].update(o164, scene.o59);}}o228.update();o164.render(scene.o59, o228.object);}};var o216 = function (o254, o172){var o255 = o254.instance_effect.url;var o256 = o172[o255].shader;var o57 = o256.material;o57.name = o254.name == null || o254.name === '' ? o254.id : o254.name;o57.opacity = !o57.opacity ? 1 : o57.opacity;o257.SetDefaultValues(o57);var materialName = o57.name;var materialType = materialName.substring(0, materialName.indexOf('-'));switch (materialType){case "MetalMaterial":o257.loadMetalMaterial(o57);break;case "MetalMaterialRoughnessMap":o257.loadMetalMaterialWithRoughnessMap(o57);break;case "DielectricMaterial":o257.loadDielectricMaterial(o57);break;case "ThinDielectricMaterial":o257.loadThinDielectricMaterial(o57);break;case "MatteMaterial":o257.loadMatteMaterial(o57);break;case "ShinyMetalMaterial":o257.loadShinyMetalMaterial(o57);break;case "MirrorMaterial":o257.loadMirrorMaterial(o57);break;case "MetallicPaintMaterial":o257.loadMetallicPaintMaterial(o57);break;case "PlasticMaterial":o257.loadPlasticMaterial(o57);break;case "PlasticMaterialRoughnessMap":o257.loadPlasticMaterialWithRoughnessMap(o57);break;case "ThinSSSMaterial":o257.loadThinSSSMaterial(o57);break;case "VelvetMaterial":o257.loadVelvetMaterial(o57);break;case "EmitterMaterial":o257.loadEmitterMaterial(o57);break;default:o257.loadDefaultMaterial(o57);}return o57;};function o258(o163){if (o163 != undefined){if (!o163.hasOwnProperty('cameraTarget')){o163.cameraTarget = new o143();}if (o176 == 2){o228.getObject().fov = o163.fov;o228.getObject().near = o163.near;o228.getObject().far = o163.far;o228.getObject().updateProjectionMatrix();new TWEEN.Tween(o228.getObject().position).to(o163.position, 2000).easing(TWEEN.Easing.Sinusoidal.InOut).start();new TWEEN.Tween(o228.getObject().up).to(o163.up, 500).easing(TWEEN.Easing.Sinusoidal.InOut).start();new TWEEN.Tween(o228.target).to(o163.cameraTarget, 1000).easing(TWEEN.Easing.Sinusoidal.InOut).start();}else{if ("Spin" == "Spin"){o228.object.fov = o163.fov;o228.object.near = o163.near;o228.object.far = o163.far;o228.object.updateProjectionMatrix();new TWEEN.Tween(o228.object.position).to(o163.position, 2000).easing(TWEEN.Easing.Sinusoidal.InOut).start();new TWEEN.Tween(o228.object.up).to(new THREE.Vector3(0, 0, 1), 500).easing(TWEEN.Easing.Sinusoidal.InOut).start();new TWEEN.Tween(o228.target).to(o163.cameraTarget, 1000).easing(TWEEN.Easing.Sinusoidal.InOut).start();}else{o228.object.fov = o163.fov;o228.object.near = o163.near;o228.object.far = o163.far;o228.object.updateProjectionMatrix();new TWEEN.Tween(o228.object.position).to(o163.position, 2000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function () { o228.navMode = ""; }).onComplete(function () { o228.navMode = "Spin"; }).start();new TWEEN.Tween(o228.object.up).to(o163.up, 500).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function () { o228.navMode = ""; }).onComplete(function () { o228.navMode = "Spin"; }).start();new TWEEN.Tween(o228.target).to(o163.cameraTarget, 1000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function () { o228.navMode = ""; }).onComplete(function () { o228.navMode = "Spin"; }).start();}}}};function o259(o163){var o260 = o164.domElement.width / o164.devicePixelRatio;var o261 = o164.domElement.height / o164.devicePixelRatio;var o262 = o260 / o261;o163.aspect = o262;o163.updateProjectionMatrix();if (o176 == 2){o228.getObject() = o163;if (!o163.hasOwnProperty('cameraTarget')){o163.cameraTarget = new o143();}o228.target = o163.cameraTarget.clone();}else{o228.object = o163;if (!o163.hasOwnProperty('cameraTarget')){o163.cameraTarget = new o143();}o228.target = o163.cameraTarget.clone();}};var o221 = function (o263){var o264;var o265 = o173.dae.cameras;for (var o266 in o265){var o267 = o265[o266];if (o267.name == o263){o264 = new o159(o267.yfov, o267.aspect_ratio, o267.znear, o267.zfar);var undefined;if (o267.camera_target != undefined){o264.cameraTarget = o267.camera_target;}if (o267.camera_up != undefined){o264.up = o267.camera_up;}if (o267.camera_position != undefined){o264.position.set(o267.camera_position.x, o267.camera_position.y, o267.camera_position.z);}return o264;}}};function o268(){var o269 = 0, o270 = 0;if (typeof (window.innerWidth) == 'number'){o269 = window.innerWidth;o270 = window.innerHeight;} else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)){o269 = document.documentElement.clientWidth;o270 = document.documentElement.clientHeight;} else if (document.body && (document.body.clientWidth || document.body.clientHeight)){o269 = document.body.clientWidth;o270 = document.body.clientHeight;}return { 'w': o269, 'h': o270 };};window.onresize = function (){responsive_WebGl();var o229 = o206();if (typeof (o228) != "undefined"){if (FullScreenCheck){Width3D = $('#Object3D').width();Height3D = $('#Object3D').height();} else{Width3D = 588 * scaleRatio;Height3D = 616 * scaleRatio;}o228.SetScreenSize(o229.annotLeft, o229.annotTop, Width3D, Height3D);}};function o273(o271, o272, messageID){o274 = document;o198 = true;if (o274.getElementById(messageID)) return;o275 = o274.getElementById('Object3D').appendChild(o274.createElement("div"));o275.id = messageID;o275.className = "modalContainer";o276 = o275.appendChild(o274.createElement("div"));o276.id = "alertBox";o275.style.left = [MouseClickPosX - (($('#alertBox').width()) / 2)] + "px";o275.style.top  = [MouseClickPosY - (($('#alertBox').height()) / 2)] + "px";o277 = o276.appendChild(o274.createElement("h3"));o277.appendChild(o274.createTextNode(o271));o278 = o276.appendChild(o274.createElement("h5"));o278.innerHTML = o272;o279 = o276.appendChild(o274.createElement("a"));o279.id = "closeBtn";o279.appendChild(o274.createTextNode("Ok"));o279.href = "#";o279.onclick = function () { o280(messageID); o198 = false; return false; };};function prepopulateFormTextBoxJSMethod(o281){o274 = document;var o282 = [];var o283 = {};for (i = 0, count = o282.length; i < count; ++i){o274.getElementById(o282[i]).value = o283[o281][o282[i]];}};function o280(messageID){document.getElementById('Object3D').removeChild(document.getElementById(messageID));};window.addEventListener("load", function (){var o284 = o268();responsive_WebGl();}, true);o203 = new o84();o204 = new o9();o205 = new o38();o115 = new o60();o257 = new o56();function o285(){this.o286 = [[4,9,'Cylinder up',true],[15,4,3,-1,0,false,2,4,9,'down',false,4,9,'up',false],[15,4,3,-1,0,false,2,4,9,'Cylinder up',true,4,9,'cylinder down',true]];this.o289 = function (o287, o288, o243){o290 = o288;for (i = 0; i < o243; ++i){o291 = o287[0 + o290];o290 += o291;}return o290;};this.o244 = function (o243){if (o198){return;}o287 = this.o286[o243];o288 = 0;this.o292(o287, o288);};var currentSequenceReference = "";var soundAction = new Audio();this.o292 = function (o287, o288){o293 = o287[1 + o288];switch (o293){case 0:{o294 = o287[2 + o288];isLocalHtml = o287[3 + o288];if (isLocalHtml){OpenLocalHtmlFile(o294);}else{window.open(o294);}}break;case 1:{o271 = o287[2 + o288];o272 = o287[3 + o288];globalCounter++;var messageID = "modalContainer" + globalCounter;o273(o271, o272, messageID);}break;case 2:{o140 = o287[2 + o288];o203.o107(o140, true, true);}break;case 3:{o295 = o287[2 + o288];o296 = o295;o296();}break;case 4:{this.o297(o287, o288);}break;case 5:{var animationExist = true;var o298 = 1000.0 / 15.000000000000000;if (o204.o20 == true){o204.o13 = 1;}o32 = o287[2 + o288];o33 = [0, 0];o33[0] = o287[3 + o288];o33[1] = o287[4 + o288];this.o299(o298, false);this.o300(0, 0, o298, false);if (o32 == false){o204.o19 = o33[0];}this.o299(o298, true);}break;case 6:{this.o299(o298, false);}break;case 7:{o281 = o287[2 + o288];prepopulateFormTextBoxJSMethod(o281);}break;case 8:{o301 = o287[2 + o288];o302 = o287[3 + o288];soundAction.src = o301;soundAction.loop = o302;soundAction.play();}break;case 9:{var o298 = 1000.0 / 15.000000000000000;o32 = true;o33 = [0, 0];o45 = o287[2 + o288];o303 = o287[3 + o288];this.o300(o45, o303, o298, false);this.o299(o298, false);if (o32 == false){o205.o44 = o33[0];}if (o205.o20 == true){o205.o44 = 0;o205.o13 = 1;}this.o300(o45, o303, o298, true);}}AverageFPS = 0;o180 = 0;ActionApplied = true;if (true){/*IN THE TIME I HAVE ADDED HDR TO WEBGL THREE.JS DOESNOT HAVE HDR THE WAY WE HAVE IT ON THE COMPOSER, THAY SEE IT AS A REFLECTION MAPSO I'M CREATING A HUGE SPHERE ITS RADUIS DEPENTS ON OVERALL BOUNDING BOX AND APPLY THE HDR IMAGE ON IT AS A TEXTURE.*/scene.o59.remove(HDR);HDR.geometry.dispose();HDR.material.dispose();HDR = undefined;addHDRImage();}};this.PlayAnimationAtStart = function (){var animationExist = true;var o298 = 1000.0 / 15.000000000000000;this.o299(o298, true);};this.m_isPlay = false;this.o299 = function (o298, playAnimation){if (playAnimation && !this.m_isPlay){this.o304 = setInterval(function () { myTimer() }, o298);this.m_isPlay = true;}if (!playAnimation){clearInterval(this.o304);this.m_isPlay = false;}function myTimer(){o204.o37();}};this.m_isSequencePlay = false;this.o300 = function (o45, o303, o298, playAnimation){if (playAnimation && !this.m_isSequencePlay){this.o305 = setInterval(function () { mySequenceTimer(o45, o303) }, o298);this.m_isSequencePlay = true;}if (!playAnimation){if (currentSequenceReference != o45){o205.SeekSequenceToEnd();currentSequenceReference = o45;}clearInterval(this.o305);this.m_isSequencePlay = false;}function mySequenceTimer(o45, o303){o205.o53(o45, o303);}};this.o297 = function (o287, o288){var o306 = o287[0 + o288];var o307 = o287[1 + o288];var o308 = o287[2 + o288];var o309 = o287[3 + o288];var o310 = o287[4 + o288];var o311 = o287[5 + o288];var o312 = o287[6 + o288];var o313 = 7 + o288;if (o312 == 0){return;}if (o308 == 1){o314 = o313;for (var i = 0; i < o312; ++i){this.o292(o287, o314);o315 = o287[o314];o314 += o315;}}else if (o308 == 4){o316 = Math.floor(Math.random() * o312);if (o312 >= 2){while (o316 == o309){o316 = Math.floor(Math.random() * o312);}o287[3 + o288] = o316;}o317 = this.o289(o287, o313, o316);this.o292(o287, o317);}else{o317 = this.o289(o287, o313, o310);this.o292(o287, o317);if (o312 < 2){return;}if (o308 == 2){o318 = o310 + 1;if (o311){o318 = o310 - 1;}if (o318 >= o312){o311 = true;o318 = o312 - 2;}else if (o318 < 0){o311 = false;o318 = 1;}o310 = o318;}else if (o308 == 3){o318 = o310 + 1;if (o318 >= o312){o318 = 0;}o310 = o318;}o287[4 + o288] = o310;o287[5 + o288] = o311;}};};o227 = new o285;function componentToHex(c){var hex = c.toString(16);return hex.length == 1 ? "0" + hex : hex;};function rgbToHex(r, g, b){return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);};function CalculateFPS(){if (!o179){o179 = Date.now();FPS = 0;return;}delta = (Date.now() - o179) / 1000;o179 = Date.now();FPS = 1 / delta;AverageFPS += FPS;if (FPS > 15){o182 = true;} else{o182 = false;}};function fillLightMapArray(){for (var i = 0; i < o192.length; i += 2){ObjectsIDAndLightMaps.set(o192[i], o192[i + 1]);}};function GetLastLevelChildren(Child){if (Child.children.length == 0){AllChildrenJSArray[CounterOnAllChildrenArray] = Child;CounterOnAllChildrenArray++;}for (var j = 0; j < Child.children.length; j++){GetLastLevelChildren(Child.children[j]);}};function GetLastLevelChildrenIDs(Child){if (Child.nodes.length == 0){NamesWithIDsArray[CounterOnAllChildrenIDsArray] = Child;CounterOnAllChildrenIDsArray++;}for (var j = 0; j < Child.nodes.length; j++){GetLastLevelChildrenIDs(Child.nodes[j]);}};function Traverse(o199){var o319 = o199.scene.children[0].children;for (var i = 0; i < o319.length; i++){var Child = o199.scene.children[0].children[i];GetLastLevelChildren(Child);}};function TraverseToGetObjectsID(o199){var o319 = o199.dae.scene.nodes[0].nodes;for (var i = 0; i < o319.length; i++){var Child = o199.dae.scene.nodes[0].nodes[i];GetLastLevelChildrenIDs(Child);}};function ApplyLightMapToObjects(){var cache = [];for (var k = 0; k < AllChildrenJSArray.length; k++){var ChildName = "\"" + AllChildrenJSArray[k].name + "\"";var ObjectID;for (var i = 0; i < NamesWithIDsArray.length; i++){if (NamesWithIDsArray[i].name == ChildName){ObjectID = NamesWithIDsArray[k].id;break;}}if (AllChildrenJSArray[k].material != undefined){var ObjectID = NamesWithIDsArray[k].id;MatCopy = AllChildrenJSArray[k].material.clone();if (ObjectsIDAndLightMaps.get(ObjectID) != undefined){if (!cache[ObjectsIDAndLightMaps.get(ObjectID)])MatCopy.lightMap = THREE.ImageUtils.loadTexture(ObjectsIDAndLightMaps.get(ObjectID));}MatCopy.name = "Clone" + k + MatCopy.name;ChangedMaterialMap.set(MatCopy.name, AllChildrenJSArray[k].material.name);var MaterialsClone = scene.materials.getByName(AllChildrenJSArray[k].material.name).o320.clone();MaterialsClone.name = MatCopy.name;scene.materials.getByName(AllChildrenJSArray[k].material.name).o320 = MaterialsClone;AllChildrenJSArray[k].material = MatCopy;}}};function TraverseToAddShadow(o165, CastShadow){var o319 = o165.children[0].children;for (var i = 0; i < o319.length; i++){var Child = o165.children[0].children[i];AddShadowToObject(Child, CastShadow);}};function AddShadowToObject(Child, CastShadow){if (Child.children.length == 0){if (Child.material != undefined)if ((Child.material.name.includes("DielectricMaterial") || Child.material.name.includes("ThinDielectricMaterial"))){if (CastShadow){Child.castShadow = false;Child.receiveShadow = true;}else{Child.castShadow = false;Child.receiveShadow = false;}}else{if (CastShadow){Child.castShadow = true;Child.receiveShadow = true;}else{Child.castShadow = false;Child.receiveShadow = false;}}}for (var j = 0; j < Child.children.length; j++){AddShadowToObject(Child.children[j], CastShadow);}};function ModifyMaterialsSceneStatesArrays(){var materialsSceneStateNamesArray = o203.o90;var materialsSceneStateValuesArray = o203.o91;var NewMaterialSceneStateNamesArray = [];var NewMaterialSceneStateValuesArray = [];var MaterialClonesNumber = GetNumberOfClonesMaterials();/* materialsSceneStateNamesArray =  ["Material1", "Material2", ... ]materialsSceneStateValuesArray = ["Scene1Material1", "Scene2Material2", ... ] *//* NewMaterialSceneStateNamesArray =  ["Material1-clone-A","Material1-clone-B", "Material2", ... ]NewMaterialSceneStateValuesArray = ["Scene1Material1", Scene1Material1, "Scene2Material2", ... ] */for (var i = 0; i < materialsSceneStateNamesArray.length; i++){var currentMaterialSceneState = materialsSceneStateNamesArray[i];var currentMaterialSceneStateValue = materialsSceneStateValuesArray[i];var newMaterialNamesSceneState = [];var newMaterialValuesSceneState = [];for (var j = 0; j < currentMaterialSceneState.length; j++){var material = currentMaterialSceneState[j];for (const [key, value] of ChangedMaterialMap.entries()){if (value == material){newMaterialNamesSceneState.push(key);}}NewMaterialSceneStateNamesArray[i] = newMaterialNamesSceneState;var materialsSceneStateNamesArrayLength = 0;if (MaterialClonesNumber.get(currentMaterialSceneState[j]) != undefined){materialsSceneStateNamesArrayLength = MaterialClonesNumber.get(currentMaterialSceneState[j]);}var firstMaterialName = currentMaterialSceneStateValue[j];for (var k = 0; k < materialsSceneStateNamesArrayLength; k++){newMaterialValuesSceneState.push(firstMaterialName);}}NewMaterialSceneStateValuesArray[i] = newMaterialValuesSceneState;}o203.o90 = NewMaterialSceneStateNamesArray;o203.o91 = NewMaterialSceneStateValuesArray;};function ModifyMaterialAnimationArray(){var oldAnimationArray = o204.o16;var NewAnimationArray = [];var IndexInNewMaterialArray = 0;var MaterialClonesNumber = GetNumberOfClonesMaterials();for (const [key, value] of MaterialClonesNumber){if (value == 1)MaterialClonesNumber.delete(key);}for (const [key, value] of MaterialClonesNumber)for (var j = 0; j < o197.length; j += 2){if (key.includes(o197[j])){o197[j] = key;}}/* Array Structure [0,[5,6,7, ... ],1,[9,10,12, ... ] , ... ]     */for (var i = 0; i < oldAnimationArray.length; i += 2)for (var j = 0; j < o197.length; j += 2){if (oldAnimationArray[i] == o197[j + 1]){var MatName = o197[j];if (MaterialClonesNumber.get(MatName) != undefined)for (var k = 0; k < MaterialClonesNumber.get(MatName); k++){NewAnimationArray.push(IndexInNewMaterialArray);NewAnimationArray.push(oldAnimationArray[i + 1]);IndexInNewMaterialArray++;}else{NewAnimationArray.push(IndexInNewMaterialArray);NewAnimationArray.push(oldAnimationArray[i + 1]);IndexInNewMaterialArray++;}}}o204.o16 = NewAnimationArray;};function ModifyMaterialSequanceArray(){var oldSequanceArray = o205.o41;var NewSequanceArray = [];var SubArray = [];var IndexInNewMaterialArray = 0;var MaterialClonesNumber = GetNumberOfClonesMaterials();for (const [key, value] of MaterialClonesNumber)for (var j = 0; j < o197.length; j += 2){if (key.includes(o197[j])){o197[j] = key;}}/* Array Structure [[Sequance1],[0,[5,6,7, ... ],1,[9,10,12, ... ]],[Sequance2],[2,[5,6,7, ... ],3,[9,10,12, ... ]], ... ]   */for (var k = 0; k < oldSequanceArray.length; k += 2){var InnerArray = oldSequanceArray[k + 1];NewSequanceArray.push(oldSequanceArray[k]);for (var i = 0; i < InnerArray.length; i += 2)for (var j = 0; j < o197.length; j += 2){if (InnerArray[i] == o197[j + 1]){var MatName = o197[j];if (MaterialClonesNumber.get(MatName) != undefined){for (var l = 0; l < MaterialClonesNumber.get(MatName); l++){SubArray.push(IndexInNewMaterialArray);SubArray.push(InnerArray[i + 1]);IndexInNewMaterialArray++;}}}}NewSequanceArray.push(SubArray);SubArray = [];}o205.o41 = NewSequanceArray;};function Add360Image(){for (var j = o193.length - 1; j > 0; j -= 2){var GeometryPosition = o194[j].split(":");CameraXposition = parseFloat(-GeometryPosition[0]);CameraYposition = parseFloat(GeometryPosition[1]);CameraZposition = parseFloat(-GeometryPosition[2]);var CameraPositionGeometry = new THREE.RingGeometry(9, 20, 50, 50, 0);var CameraPositionMaterial = new o157({ color: 0xC0C0C0 });CameraPositionMaterial.side = 2;CameraPositionMesh = new o155(CameraPositionGeometry, CameraPositionMaterial);CameraPositionMesh.rotation.x = Math.PI / -2;var EulerJsVar = new THREE.Euler(Math.PI * 0.5, 0, 0, 'XYZ');var o321 = new THREE.Vector3(CameraXposition * 70, CameraYposition * 70, CameraZposition * 70);var MeshPosition = o321.applyEuler(EulerJsVar);CameraPositionMesh.position.set(MeshPosition.x, MeshPosition.y, MeshPosition.z);CameraPositionMesh.name = o194[j - 1];CameraPositionMesh.CameraTexture = o193[j];CameraPositionMesh.ClickedTimes = 0;VRCamerasJSArray.push(CameraPositionMesh);scene.o59.add(CameraPositionMesh);var BorderGeometry = new THREE.RingGeometry(19, 20.5, 50, 50, 0);var BorderMaterial = new o157({ color: 0x000000, side: 2 });var BorderMesh = new o155(BorderGeometry, BorderMaterial);BorderMesh.rotation.x = Math.PI / -2;BorderMesh.position.set(CameraPositionMesh.position.x, CameraPositionMesh.position.y, CameraPositionMesh.position.z);BorderMesh.scale.multiplyScalar(1.05);scene.o59.add(BorderMesh);VRCamerasJSArrayBorderJSArray.push(BorderMesh);}DeclareTweens(o175.fov);MoveToNext360Image(CameraPositionMesh, 1);};/*Function that adds the allusion of moving the camera from its current postion to the clicked camera position Which contains :- the thing is moving the camera to Next camera Postion and camera FOV to add the allusion of camera movement the change camera view texture and then return the camera to its original postion- Add360Images() reads the first value in o193,o195 and o194 so before calling it swap current camera with the one in index 0 in all arrays- add some transperancy to easily change texture without the user notice anything - MAGIC RIGHT? I KNOW :D*/function MoveToNext360Image(NextCamera, CalledCount){NextCamera.ClickedTimes += 1;var NextCameraPosition = NextCamera.position.clone();for (var i = 0; i < VRCamerasJSArray.length; i++){VRCamerasJSArray[i].position.set((VRCamerasJSArray[i].position.x - NextCameraPosition.x), (VRCamerasJSArray[i].position.y - NextCameraPosition.y), (VRCamerasJSArray[i].position.z - NextCameraPosition.z));VRCamerasJSArrayBorderJSArray[i].position.set((VRCamerasJSArrayBorderJSArray[i].position.x - NextCameraPosition.x), (VRCamerasJSArrayBorderJSArray[i].position.y - NextCameraPosition.y), (VRCamerasJSArrayBorderJSArray[i].position.z - NextCameraPosition.z));VRCamerasJSArray[i].SetCurrentCameraView = false;if (RightMouseClickCount % 2 == 0){VRCamerasJSArray[i].material.opacity = 0.6;VRCamerasJSArrayBorderJSArray[i].material.opacity = 0.6;}else{VRCamerasJSArray[i].material.opacity = 0;VRCamerasJSArrayBorderJSArray[i].material.opacity = 0;}if (NextCamera == VRCamerasJSArray[i]){VRCamerasJSArray[i].material.opacity = 0;VRCamerasJSArrayBorderJSArray[i].material.opacity = 0;VRCamerasJSArray[i].SetCurrentCameraView = true;}VRCamerasJSArray[i].material.transparent = true;VRCamerasJSArrayBorderJSArray[i].material.transparent = true;}var textureJsVar = new o161.loadTexture(o193[1]);CurrentCameraView.material.map = textureJsVar;CurrentCameraView.material.needsUpdate = true;var Direction = parseFloat(o195[1]);if (VRCamerasJSArray.length != 1)CurrentCameraView.rotation.y = Direction;else{CurrentCameraView.rotation.y = -Direction;}valueIndex = o196.findIndex(x => x == NextCamera.name);var doRotate = o196[valueIndex + 1];if (CalledCount == 1 || doRotate){if (VRCamerasJSArray.length == 1)CurrentCameraView.rotation.setFromVector3(new THREE.Vector3(0, -1.5, 0));else{o228.getObject().rotation.setFromVector3(new THREE.Vector3(0, 1.5 + Direction, 0));}}FovTween.stop();for (var i = 0; i < 5; i++)SceneTweens[i].stop();};function DeclareTweens(start){for (var i = 0; i < 5; i++){SceneTweens[i] = new TWEEN.Tween(start);}};function MoveToNextCamera(NextCamera){var fov;var CameraFOV = o175.fov;var request = new XMLHttpRequest();request.open("GET", NextCamera.CameraTexture, true);request.send();request.onreadystatechange = function (){if (this.readyState == 4 && (this.status == 200 || this.status == 0)){console.log(NextCamera.CameraTexture + " is downloaded");Move();}};if (NextCamera.ClickedTimes > 0){fov = 0.25;FovTween.to(5, 10000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(Update, this).start();}else{var count = 0;SceneTweens[0].to(10, 5000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(UpdateAndSlowingDown, this).onComplete(MoveNext, this).onStop(MoveNext, this).start();}function UpdateAndSlowingDown(){if (count == 0) fov = 0.4;if (count == 16) fov = 0.3;if (count == 31) fov = 0.15;if (count == 46) fov = 0.07;if (count == 59) fov = 0.04;if (count > 59) fov = 0.02;if (count > 70) fov = 0.01;count++;if (o175.fov >= 10){o175.fov -= fov;o175.updateProjectionMatrix();}};function MoveNext(){SceneTweens[1].to(10, 20000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(UpdateAndSlowingDown, this).start();SceneTweens[2].to(10, 20000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(UpdateAndSlowingDown, this).start();SceneTweens[3].to(10, 20000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(UpdateAndSlowingDown, this).start();SceneTweens[4].to(10, 20000).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(UpdateAndSlowingDown, this).start();};function Move(){setTimeout(AddMoveDelay, 500);};function Update(){o175.fov -= fov;o175.updateProjectionMatrix();};function AddMoveDelay(){Cameraindex = o193.findIndex(x => x == NextCamera.name);var TempID = o193[Cameraindex];o193[Cameraindex] = o193[0];o193[0] = TempID;var TempTexture = o193[Cameraindex + 1];o193[Cameraindex + 1] = o193[1];o193[1] = TempTexture;var TempIDPosition = o194[Cameraindex];o194[Cameraindex] = o194[0];o194[0] = TempIDPosition;var TempTexturePosition = o194[Cameraindex + 1];o194[Cameraindex + 1] = o194[1];o194[1] = TempTexturePosition;var TempDirection = o195[Cameraindex + 1];o195[Cameraindex + 1] = o195[1];o195[1] = TempDirection;var TempIDDirection = o195[Cameraindex];o195[Cameraindex] = o195[0];o195[0] = TempIDDirection;o175.fov = CameraFOV;o175.updateProjectionMatrix();MoveToNext360Image(NextCamera, 2);};};function wait(){$('#loader-wrapper').fadeOut();};function GetNumberOfClonesMaterials(){var TempMap = new Map();for (const [key, value] of ChangedMaterialMap.entries())MapEachMaterialWithHowManyTimesDuplicated.set(value, 0);for (const [key, value] of ChangedMaterialMap.entries()){if (MapEachMaterialWithHowManyTimesDuplicated.get(value) != undefined)MapEachMaterialWithHowManyTimesDuplicated.set(value, MapEachMaterialWithHowManyTimesDuplicated.get(value) + 1);}TempMap = MapEachMaterialWithHowManyTimesDuplicated;return TempMap;};function AddSkyEnvironment(Turbidity){sky = new THREE.Sky();sky.scale.setScalar(45000000000000);scene.o59.add(sky);var sunSphere = new THREE.Mesh(new THREE.SphereBufferGeometry(200000000, 16, 8), new THREE.MeshBasicMaterial({ color: 0xffffff }));sunSphere.visible = false;scene.o59.add(sunSphere);var uniforms = sky.material.uniforms;uniforms.turbidity.value = Turbidity;uniforms.rayleigh.value = 0.5;uniforms.luminance.value = 1;uniforms.mieCoefficient.value = 0.002;uniforms.mieDirectionalG.value = 0.8;sunSphere.position.x = Math.cos(Horizontal) * Math.cos(Vertical - 0.05);sunSphere.position.y = Math.sin(Vertical - 0.05);sunSphere.position.z = Math.sin(Horizontal) * Math.cos(Vertical - 0.05);uniforms.sunPosition.value.copy(sunSphere.position);};function CalculateBoundingBoxOrigin(){var Min = new THREE.Vector3(BoundingBoxMin[0], BoundingBoxMin[1], BoundingBoxMin[2]);var Max = new THREE.Vector3(BoundingBoxMax[0], BoundingBoxMax[1], BoundingBoxMax[2]);var BoxOrigin = new THREE.Vector3(((Max.x + Min.x) / 2), ((Max.y + Min.y) / 2), ((Max.z + Min.z) / 2));return BoxOrigin;}function addHDRImage(){var o322 = {Color: { R: 255, G: 255, B: 255 }, Path: "fac1_files/SimLabHDR.png", RotateAngle: 0.000000000000000};var o323 = rgbToHex(o322.Color.R, o322.Color.G, o322.Color.B);BoundingBoxRadius = (9 + 1);var SceneBoundingBoxOrigin = CalculateBoundingBoxOrigin();o175.far = BoundingBoxRadius * 200;o228.maxDistance = BoundingBoxRadius * 40;o324 = new o156(BoundingBoxRadius * 150, 100, 100, 0);o325 = new o157({ color: o323 });HDR = new o155(o324, o325);HDR.material.map = new THREE.ImageUtils.loadTexture(o322.Path);HDR.material.map.flipY = false;HDR.rotation.x = -Math.PI / 2;HDR.position.set(SceneBoundingBoxOrigin.x, SceneBoundingBoxOrigin.y, SceneBoundingBoxOrigin.z);o324.scale(-1, 1, 1);scene.o59.add(HDR);if (HDR == undefined){var o232 = new o149(0xFFFFFF, 0x0f0f0f, 0.5);o232.position.set(0, 0, 0);o175.add(o232);}};</script>
</head>
<body id="bdy" style="overflow:auto;top:0%;position:absolute;padding:0;margin:0;">
<div style="position:absolute; width:595px; height:842px;" id="SimLabWebGL">
<div class='popup'>
<div class='content'>
<img src='fac1_files/closeLocalFileIcon.png' alt='quit' class='x' id='x' />
<iframe  id="iframeId" border=0 width="100%" height ="95%" style="z-index:205" src=""></iframe>
</div>
</div> 
<label style="position:absolute;"><div style="z-index:1;position:relative; width:118.844px; top:190px; left:233px; background-color:rgba(255,255,255,0); font-family:'Arial Unicode MS'; font-size:12pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial Unicode MS','Calibri'; font-weight:600; text-decoration: underline;">Play Animation</span></p></div></label>
<div id="Object3D" style="z-index:6;position:absolute;left:4px; top:222px; width:588px; height:616px;background-color:rgba(210,210,210,0);"><button onclick="openFullscreen();"  style="id:'FullScreenButton'; position:absolute; z-index:5000; bottom:10px; left:20px; background-color:transparent; border:none; fill:#ffffff; "><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 18 18"><path d="M4.5 11H3v4h4v-1.5H4.5V11zM3 7h1.5V4.5H7V3H3v4zm10.5 6.5H11V15h4v-4h-1.5v2.5zM11 3v1.5h2.5V7H15V3h-4z"/></svg></button></div>
</div>
<div style="z-index:99999; visibility:hidden; position:absolute; left:4px; top:222px; width:588px; height:616px; text-align: center;">
<div class="opacityEffect" id="progressText"></div>
</div>
<div style="z-index:99998; visibility:hidden; position:absolute; left:4px; top:222px; width:588px; height:616px; text-align: center;">
<div class="progress opacityEffect glowEffect" id="progress"></div>
</div>
<div style="z-index:99997; visibility:hidden; position:absolute; left:4px; top:222px; width:588px; height:616px; text-align: center;">
<div class="rotating progress opacityEffect glowEffect" id="progress2"></div>
</div>
</div>
<script type="text/javascript">
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.ProgressBar=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){(function(){var b=this,e=function(){"use strict";function e(){}function f(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function g(a,b){return f(b,function(c){a[c]=b[c]}),a}function h(a,b){f(b,function(c){"undefined"==typeof a[c]&&(a[c]=b[c])})}function i(a,b,c,d,e,f,g){var h,i,k,l=f>a?0:(a-f)/e;for(h in b)b.hasOwnProperty(h)&&(i=g[h],k="function"==typeof i?i:o[i],b[h]=j(c[h],d[h],k,l));return b}function j(a,b,c,d){return a+(b-a)*c(d)}function k(a,b){var c=n.prototype.filter,d=a._filterArgs;f(c,function(e){"undefined"!=typeof c[e][b]&&c[e][b].apply(a,d)})}function l(a,b,c,d,e,f,g,h,j,l,m){v=b+c+d,w=Math.min(m||u(),v),x=w>=v,y=d-(v-w),a.isPlaying()&&!x?(a._scheduleId=l(a._timeoutHandler,s),k(a,"beforeTween"),b+c>w?i(1,e,f,g,1,1,h):i(w,e,f,g,d,b+c,h),k(a,"afterTween"),j(e,a._attachment,y)):a.isPlaying()&&x&&(j(g,a._attachment,y),a.stop(!0))}function m(a,b){var c={},d=typeof b;return"string"===d||"function"===d?f(a,function(a){c[a]=b}):f(a,function(a){c[a]||(c[a]=b[a]||q)}),c}function n(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=p,"undefined"!=typeof b&&this.setConfig(b)}var o,p,q="linear",r=500,s=1e3/60,t=Date.now?Date.now:function(){return+new Date},u="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:t;p="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var v,w,x,y;return n.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._timestamp=u(),this._start(this.get(),this._attachment),this.resume())},n.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._attachment=a.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=a.delay||0,this._start=a.start||e,this._step=a.step||e,this._finish=a.finish||e,this._duration=a.duration||r,this._currentState=g({},a.from)||this.get(),this._originalState=this.get(),this._targetState=g({},a.to)||this.get();var b=this;this._timeoutHandler=function(){l(b,b._timestamp,b._delay,b._duration,b._currentState,b._originalState,b._targetState,b._easing,b._step,b._scheduleFunction)};var c=this._currentState,d=this._targetState;return h(d,c),this._easing=m(c,a.easing||q),this._filterArgs=[c,this._originalState,d,this._easing],k(this,"tweenCreated"),this},n.prototype.get=function(){return g({},this._currentState)},n.prototype.set=function(a){this._currentState=a},n.prototype.pause=function(){return this._pausedAtTime=u(),this._isPaused=!0,this},n.prototype.resume=function(){return this._isPaused&&(this._timestamp+=u()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},n.prototype.seek=function(a){a=Math.max(a,0);var b=u();return this._timestamp+a===0?this:(this._timestamp=b-a,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,l(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,b),this.pause()),this)},n.prototype.stop=function(a){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=e,(b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.mozCancelRequestAnimationFrame||b.clearTimeout)(this._scheduleId),a&&(k(this,"beforeTween"),i(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),k(this,"afterTween"),k(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},n.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},n.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},n.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},n.prototype.filter={},n.prototype.formula={linear:function(a){return a}},o=n.prototype.formula,g(n,{now:u,each:f,tweenProps:i,tweenProp:j,applyFilter:k,shallowCopy:g,defaults:h,composeEasingObject:m}),"function"==typeof SHIFTY_DEBUG_NOW&&(b.timeoutHandler=l),"object"==typeof d?c.exports=n:"function"==typeof a&&a.amd?a(function(){return n}):"undefined"==typeof b.Tweenable&&(b.Tweenable=n),n}();!function(){e.shallowCopy(e.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return(a/=.5)<1?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin((6*a-1)*(2*Math.PI)/2)+1},swingFromTo:function(a){var b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})}(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;8>j;j++){if(f=g(e)-a,l(f)<b)return e;if(h=i(e),l(h)<1e-6)break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),l(f-a)<b)return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function b(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}e.setBezierFunction=function(a,c,d,f,g){var h=b(c,d,f,g);return h.displayName=a,h.x1=c,h.y1=d,h.x2=f,h.y2=g,e.prototype.formula[a]=h},e.unsetBezierFunction=function(a){delete e.prototype.formula[a]}}(),function(){function a(a,b,c,d,f,g){return e.tweenProps(d,b,a,c,1,g,f)}var b=new e;b._filterArgs=[],e.interpolate=function(c,d,f,g,h){var i=e.shallowCopy({},c),j=h||0,k=e.composeEasingObject(c,g||"linear");b.set({});var l=b._filterArgs;l.length=0,l[0]=i,l[1]=c,l[2]=d,l[3]=k,e.applyFilter(b,"tweenCreated"),e.applyFilter(b,"beforeTween");var m=a(c,i,d,f,k,j);return e.applyFilter(b,"afterTween"),m}}(),function(a){function b(a,b){var c,d=[],e=a.length;for(c=0;e>c;c++)d.push("_"+b+"_"+c);return d}function c(a){var b=a.match(v);return b?(1===b.length||a[0].match(u))&&b.unshift(""):b=["",""],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];"string"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function g(a){return a=a.replace(/#/,""),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),B[0]=h(a.substr(0,2)),B[1]=h(a.substr(2,2)),B[2]=h(a.substr(4,2)),B}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;g>h;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;c>e;e++)d+=parseInt(b[e],10)+",";return d=d.slice(0,-1)+")"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if("string"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;f>g;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;e>f;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){C.length=0;for(var c=b.length,d=0;c>d;d++)C.push(a[b[d]]);return C}function q(a,b){for(var c=a,d=b.length,e=0;d>e;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){var d,e=c[a],f=e.chunkNames,g=f.length,h=b[a];if("string"==typeof h){var i=h.split(" "),j=i[i.length-1];for(d=0;g>d;d++)b[f[d]]=i[d]||j}else for(d=0;g>d;d++)b[f[d]]=h;delete b[a]})}function t(b,c){a.each(c,function(a){var d=c[a],e=d.chunkNames,f=e.length,g=b[e[0]],h=typeof g;if("string"===h){for(var i="",j=0;f>j;j++)i+=" "+b[e[j]],delete b[e[j]];b[a]=i.substr(1)}else b[a]=g})}var u=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,x=new RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),y=/^.*\(/,z=/#([0-9]|[a-f]){3,6}/gi,A="VAL",B=[],C=[];a.prototype.filter.token={tweenCreated:function(a,b,c,e){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(e)}).call(null)},{}],2:[function(a,b,c){var d=a("./shape"),e=a("./utils"),f=function(a,b){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",d.apply(this,arguments)};f.prototype=new d,f.prototype.constructor=f,f.prototype._pathString=function(a){var b=a.strokeWidth;a.trailWidth&&a.trailWidth>a.strokeWidth&&(b=a.trailWidth);var c=50-b/2;return e.render(this._pathTemplate,{radius:c,"2radius":2*c})},f.prototype._trailString=function(a){return this._pathString(a)},b.exports=f},{"./shape":7,"./utils":8}],3:[function(a,b,c){var d=a("./shape"),e=a("./utils"),f=function(a,b){this._pathTemplate="M 0,{center} L 100,{center}",d.apply(this,arguments)};f.prototype=new d,f.prototype.constructor=f,f.prototype._initializeSvg=function(a,b){a.setAttribute("viewBox","0 0 100 "+b.strokeWidth),a.setAttribute("preserveAspectRatio","none")},f.prototype._pathString=function(a){return e.render(this._pathTemplate,{center:a.strokeWidth/2})},f.prototype._trailString=function(a){return this._pathString(a)},b.exports=f},{"./shape":7,"./utils":8}],4:[function(a,b,c){b.exports={Line:a("./line"),Circle:a("./circle"),SemiCircle:a("./semicircle"),Path:a("./path"),Shape:a("./shape"),utils:a("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./utils":8}],5:[function(a,b,c){var d=a("shifty"),e=a("./utils"),f={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},g=function(a,b){b=e.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},b);var c;c=e.isString(a)?document.querySelector(a):a,this.path=c,this._opts=b,this._tweenable=null;var d=this.path.getTotalLength();this.path.style.strokeDasharray=d+" "+d,this.set(0)};g.prototype.value=function(){var a=this._getComputedDashOffset(),b=this.path.getTotalLength(),c=1-a/b;return parseFloat(c.toFixed(6),10)},g.prototype.set=function(a){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(a);var b=this._opts.step;if(e.isFunction(b)){var c=this._easing(this._opts.easing),d=this._calculateTo(a,c),f=this._opts.shape||this;b(d,f,this._opts.attachment)}},g.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},g.prototype.animate=function(a,b,c){b=b||{},e.isFunction(b)&&(c=b,b={});var f=e.extend({},b),g=e.extend({},this._opts);b=e.extend(g,b);var h=this._easing(b.easing),i=this._resolveFromAndTo(a,h,f);this.stop(),this.path.getBoundingClientRect();var j=this._getComputedDashOffset(),k=this._progressToOffset(a),l=this;this._tweenable=new d,this._tweenable.tween({from:e.extend({offset:j},i.from),to:e.extend({offset:k},i.to),duration:b.duration,easing:h,step:function(a){l.path.style.strokeDashoffset=a.offset;var c=b.shape||l;b.step(a,c,b.attachment)},finish:function(a){e.isFunction(c)&&c()}})},g.prototype._getComputedDashOffset=function(){var a=window.getComputedStyle(this.path,null);return parseFloat(a.getPropertyValue("stroke-dashoffset"),10)},g.prototype._progressToOffset=function(a){var b=this.path.getTotalLength();return b-a*b},g.prototype._resolveFromAndTo=function(a,b,c){return c.from&&c.to?{from:c.from,to:c.to}:{from:this._calculateFrom(b),to:this._calculateTo(a,b)}},g.prototype._calculateFrom=function(a){return d.interpolate(this._opts.from,this._opts.to,this.value(),a)},g.prototype._calculateTo=function(a,b){return d.interpolate(this._opts.from,this._opts.to,a,b)},g.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},g.prototype._easing=function(a){return f.hasOwnProperty(a)?f[a]:a},b.exports=g},{"./utils":8,shifty:1}],6:[function(a,b,c){var d=a("./shape"),e=a("./circle"),f=a("./utils"),g=function(a,b){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",d.apply(this,arguments)};g.prototype=new d,g.prototype.constructor=g,g.prototype._initializeSvg=function(a,b){a.setAttribute("viewBox","0 0 100 50")},g.prototype._initializeTextElement=function(a,b,c){a.text.style&&(c.style.top="auto",c.style.bottom="0",a.text.alignToBottom?f.setStyle(c,"transform","translate(-50%, 0)"):f.setStyle(c,"transform","translate(-50%, 50%)"))},g.prototype._pathString=e.prototype._pathString,g.prototype._trailString=e.prototype._trailString,b.exports=g},{"./circle":2,"./shape":7,"./utils":8}],7:[function(a,b,c){var d=a("./path"),e=a("./utils"),f="Object is destroyed",g=function h(a,b){if(!(this instanceof h))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=e.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},alignToBottom:!0,value:"",className:"progressbar-text"},svgStyle:{display:"block",width:"100%"}},b,!0);var c,f=this._createSvgView(this._opts);if(c=e.isString(a)?document.querySelector(a):a,!c)throw new Error("Container does not exist: "+a);this._container=c,this._container.appendChild(f.svg),this._opts.svgStyle&&e.setStyles(f.svg,this._opts.svgStyle),this.text=null,this._opts.text.value&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.svg=f.svg,this.path=f.path,this.trail=f.trail;var g=e.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new d(f.path,g)}};g.prototype.animate=function(a,b,c){if(null===this._progressPath)throw new Error(f);this._progressPath.animate(a,b,c)},g.prototype.stop=function(){if(null===this._progressPath)throw new Error(f);void 0!==this._progressPath&&this._progressPath.stop()},g.prototype.destroy=function(){if(null===this._progressPath)throw new Error(f);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},g.prototype.set=function(a){if(null===this._progressPath)throw new Error(f);this._progressPath.set(a)},g.prototype.value=function(){if(null===this._progressPath)throw new Error(f);return void 0===this._progressPath?0:this._progressPath.value()},g.prototype.setText=function(a){if(null===this._progressPath)throw new Error(f);null===this.text&&(this.text=this._createTextElement(this._opts,this._container),this._container.appendChild(this.text)),this.text.removeChild(this.text.firstChild),this.text.appendChild(document.createTextNode(a))},g.prototype._createSvgView=function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(b,a);var c=null;(a.trailColor||a.trailWidth)&&(c=this._createTrail(a),b.appendChild(c));var d=this._createPath(a);return b.appendChild(d),{svg:b,path:d,trail:c}},g.prototype._initializeSvg=function(a,b){a.setAttribute("viewBox","0 0 100 100")},g.prototype._createPath=function(a){var b=this._pathString(a);return this._createPathElement(b,a)},g.prototype._createTrail=function(a){var b=this._trailString(a),c=e.extend({},a);return c.trailColor||(c.trailColor="#eee"),c.trailWidth||(c.trailWidth=c.strokeWidth),c.color=c.trailColor,c.strokeWidth=c.trailWidth,c.fill=null,this._createPathElement(b,c)},g.prototype._createPathElement=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",a),c.setAttribute("stroke",b.color),c.setAttribute("stroke-width",b.strokeWidth),b.fill?c.setAttribute("fill",b.fill):c.setAttribute("fill-opacity","0"),c},g.prototype._createTextElement=function(a,b){var c=document.createElement("p");c.appendChild(document.createTextNode(a.text.value));var d=a.text.style;return d&&(b.style.position="relative",e.setStyles(c,d),d.color||(c.style.color=a.color)),c.className=a.text.className,this._initializeTextElement(a,b,c),c},g.prototype._initializeTextElement=function(a,b,c){},g.prototype._pathString=function(a){throw new Error("Override this function for each progress bar")},g.prototype._trailString=function(a){throw new Error("Override this function for each progress bar")},b.exports=g},{"./path":5,"./utils":8}],8:[function(a,b,c){function d(a,b,c){a=a||{},b=b||{},c=c||!1;for(var e in b)if(b.hasOwnProperty(e)){var f=a[e],g=b[e];c&&l(f)&&l(g)?a[e]=d(f,g,c):a[e]=g}return a}function e(a,b){var c=a;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d],f="\\{"+d+"\\}",g=new RegExp(f,"g");c=c.replace(g,e)}return c}function f(a,b,c){for(var d=0;d<n.length;++d){var e=n[d];a.style[e+h(b)]=c}a.style[b]=c}function g(a,b){m(b,function(b,c){null!==b&&void 0!==b&&(l(b)&&b.prefix===!0?f(a,c,b.value):a.style[c]=b)})}function h(a){return a.charAt(0).toUpperCase()+a.slice(1)}function i(a){return"string"==typeof a||a instanceof String}function j(a){return"function"==typeof a}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){if(k(a))return!1;var b=typeof a;return"object"===b&&!!a}function m(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b(d,c)}}var n="Webkit Moz O ms".split(" ");b.exports={extend:d,render:e,setStyle:f,setStyles:g,capitalize:h,isString:i,isFunction:j,isObject:l,forEachObject:m}},{}]},{},[4])(4)});
</script>
</body>
</html>
